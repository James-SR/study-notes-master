<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Study notes</title>
  <meta name="description" content="Study notes taken from courses and self learning.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Study notes" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://github.com/James-SR/study-notes-master" />
  
  <meta property="og:description" content="Study notes taken from courses and self learning." />
  <meta name="github-repo" content="James-SR/study-notes-master" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Study notes" />
  
  <meta name="twitter:description" content="Study notes taken from courses and self learning." />
  

<meta name="author" content="James Solomon-Rounce">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="importing-data-part-1.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Study Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html"><i class="fa fa-check"></i><b>1</b> Importing data - Part 1</a><ul>
<li class="chapter" data-level="1.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-csv-files"><i class="fa fa-check"></i><b>1.2</b> Reading CSV files</a></li>
<li class="chapter" data-level="1.3" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-tab-deliminated-files-or-other-table-formats"><i class="fa fa-check"></i><b>1.3</b> Reading tab deliminated files or other table formats</a></li>
<li class="chapter" data-level="1.4" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#readr-and-data.table"><i class="fa fa-check"></i><b>1.4</b> Readr and data.table</a><ul>
<li class="chapter" data-level="1.4.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#data.table-fread"><i class="fa fa-check"></i><b>1.4.1</b> data.table fread</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-excel-files"><i class="fa fa-check"></i><b>1.5</b> Reading Excel files</a><ul>
<li class="chapter" data-level="1.5.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#alternatives-for-importing-excel-files"><i class="fa fa-check"></i><b>1.5.1</b> Alternatives for importing Excel files</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#xlconnect---read-and-write-to-excel"><i class="fa fa-check"></i><b>1.6</b> XLConnect - read and write to excel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html"><i class="fa fa-check"></i><b>2</b> Importing data - Part 2</a><ul>
<li class="chapter" data-level="2.1" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#importing-from-databases---1"><i class="fa fa-check"></i><b>2.1</b> Importing from Databases - 1</a></li>
<li class="chapter" data-level="2.2" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#sql-queries-inside-r"><i class="fa fa-check"></i><b>2.2</b> SQL Queries Inside R</a></li>
<li class="chapter" data-level="2.3" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#web-data"><i class="fa fa-check"></i><b>2.3</b> Web Data</a></li>
<li class="chapter" data-level="2.4" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#json-and-apis"><i class="fa fa-check"></i><b>2.4</b> JSON and APIs</a></li>
<li class="chapter" data-level="2.5" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#importing-from-other-statistical-software"><i class="fa fa-check"></i><b>2.5</b> Importing from other statistical software</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="3" data-path="cleaning-data.html"><a href="cleaning-data.html"><i class="fa fa-check"></i><b>3</b> Cleaning Data</a><ul>
<li class="chapter" data-level="3.1" data-path="cleaning-data.html"><a href="cleaning-data.html#tidying-data"><i class="fa fa-check"></i><b>3.1</b> Tidying data</a></li>
<li class="chapter" data-level="3.2" data-path="cleaning-data.html"><a href="cleaning-data.html#preparing-data-for-analysis"><i class="fa fa-check"></i><b>3.2</b> Preparing data for analysis</a></li>
<li class="chapter" data-level="3.3" data-path="cleaning-data.html"><a href="cleaning-data.html#string-manipulation"><i class="fa fa-check"></i><b>3.3</b> String manipulation</a></li>
<li class="chapter" data-level="3.4" data-path="cleaning-data.html"><a href="cleaning-data.html#missing-specials-and-outliers"><i class="fa fa-check"></i><b>3.4</b> Missing, Specials and Outliers</a></li>
<li class="chapter" data-level="3.5" data-path="cleaning-data.html"><a href="cleaning-data.html#examples"><i class="fa fa-check"></i><b>3.5</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-data.html"><a href="introduction-to-data.html"><i class="fa fa-check"></i><b>4</b> Introduction to Data</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#language-of-data"><i class="fa fa-check"></i><b>4.1</b> Language of Data</a></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#observational-studies-and-experiments"><i class="fa fa-check"></i><b>4.2</b> Observational Studies and Experiments</a></li>
<li class="chapter" data-level="4.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#sampling-strategies-and-experimental-design"><i class="fa fa-check"></i><b>4.3</b> Sampling strategies and experimental design</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="5" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html"><i class="fa fa-check"></i><b>5</b> Foundations of Inference</a><ul>
<li class="chapter" data-level="5.1" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#introduction-to-inference"><i class="fa fa-check"></i><b>5.1</b> Introduction to Inference</a></li>
<li class="chapter" data-level="5.2" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#home-ownership-by-gender"><i class="fa fa-check"></i><b>5.2</b> Home Ownership by Gender</a></li>
<li class="chapter" data-level="5.3" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#density-plots"><i class="fa fa-check"></i><b>5.3</b> Density Plots</a></li>
<li class="chapter" data-level="5.4" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#gender-discrimination-p-values"><i class="fa fa-check"></i><b>5.4</b> Gender Discrimination (p-values)</a></li>
<li class="chapter" data-level="5.5" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#opportunity-cost"><i class="fa fa-check"></i><b>5.5</b> Opportunity Cost</a></li>
<li class="chapter" data-level="5.6" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#type-i-and-type-ii-errors"><i class="fa fa-check"></i><b>5.6</b> Type I and Type II errors</a></li>
<li class="chapter" data-level="5.7" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#bootstrapping"><i class="fa fa-check"></i><b>5.7</b> Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#categorical-data"><i class="fa fa-check"></i><b>6.1</b> Categorical Data</a></li>
<li class="chapter" data-level="6.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#numerical-data"><i class="fa fa-check"></i><b>6.2</b> Numerical Data</a></li>
<li class="chapter" data-level="6.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#numerical-summaries"><i class="fa fa-check"></i><b>6.3</b> Numerical Summaries</a><ul>
<li class="chapter" data-level="6.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#transformations"><i class="fa fa-check"></i><b>6.3.1</b> Transformations</a></li>
<li class="chapter" data-level="6.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#outliers"><i class="fa fa-check"></i><b>6.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#email-case-study"><i class="fa fa-check"></i><b>6.4</b> Email Case Study</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html"><i class="fa fa-check"></i><b>7</b> Correlation and Regression</a><ul>
<li class="chapter" data-level="7.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#visualizing-two-variables"><i class="fa fa-check"></i><b>7.1</b> Visualizing two variables</a><ul>
<li class="chapter" data-level="7.1.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#transformations-1"><i class="fa fa-check"></i><b>7.1.1</b> Transformations</a></li>
<li class="chapter" data-level="7.1.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#identifying-outliers"><i class="fa fa-check"></i><b>7.1.2</b> Identifying Outliers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#correlation"><i class="fa fa-check"></i><b>7.2</b> Correlation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#anscombe-dataset"><i class="fa fa-check"></i><b>7.2.1</b> Anscombe Dataset</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#linear-regression"><i class="fa fa-check"></i><b>7.3</b> Linear Regression</a><ul>
<li class="chapter" data-level="7.3.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>7.3.1</b> Regression to the Mean</a></li>
<li class="chapter" data-level="7.3.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#fitting-linear-models"><i class="fa fa-check"></i><b>7.3.2</b> Fitting linear models</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#model-fit"><i class="fa fa-check"></i><b>7.4</b> Model fit</a><ul>
<li class="chapter" data-level="7.4.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#unusual-points"><i class="fa fa-check"></i><b>7.4.1</b> Unusual points</a></li>
<li class="chapter" data-level="7.4.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#high-leverage-points"><i class="fa fa-check"></i><b>7.4.2</b> High leverage Points</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html"><i class="fa fa-check"></i><b>8</b> Dimensional Modelling</a><ul>
<li class="chapter" data-level="8.1" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#introduction-to-dimensional-data"><i class="fa fa-check"></i><b>8.1</b> Introduction to Dimensional Data</a><ul>
<li class="chapter" data-level="8.1.1" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#data-modelling-levels"><i class="fa fa-check"></i><b>8.1.1</b> Data Modelling levels</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#architecture-considerations"><i class="fa fa-check"></i><b>8.2</b> Architecture considerations</a></li>
<li class="chapter" data-level="8.3" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#graphical-representations"><i class="fa fa-check"></i><b>8.3</b> Graphical Representations</a></li>
<li class="chapter" data-level="8.4" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#kimball-approach"><i class="fa fa-check"></i><b>8.4</b> Kimball Approach</a></li>
<li class="chapter" data-level="8.5" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#four-step-dimensional-design-process"><i class="fa fa-check"></i><b>8.5</b> Four-Step Dimensional Design Process</a></li>
<li class="chapter" data-level="8.6" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#tips"><i class="fa fa-check"></i><b>8.6</b> Tips</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-3.html"><a href="references-3.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Study notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-data---part-2" class="section level1">
<h1><span class="header-section-number">2</span> Importing data - Part 2</h1>
<hr />
<p>Notes taken during/inspired by the Datacamp course ‘Importing Data in R (Part 2)’ by Filip Schouwenaars.</p>
<div id="importing-from-databases---1" class="section level2">
<h2><span class="header-section-number">2.1</span> Importing from Databases - 1</h2>
<p>In a professional or commercial setting, you often deal with more complicated file structures and source systems that simple flat files. Often the data is stored in a DBMS or Database Management System and SQL is the usual way of quering the DBMS. As there can be slight differences, you are likely to need different packages, some include:</p>
<ul>
<li><strong>MySQL</strong>: Use the RMySQL package</li>
<li><strong>PostgresSQL</strong>: Use the RPostgresSQL package</li>
<li><strong>Oracle</strong>: Use the ROracle (etc…)</li>
</ul>
<p>Conventions are specified in the DBI - another R package, DBI is the interface and the other packages are the implentation. Some of the packages will automaticlaly install the DBI package as well. To connect to a database we would so something like the following.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the DBI package</span>
<span class="kw">library</span>(DBI)</code></pre></div>
<pre><code>## Loading required package: methods</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Edit dbConnect() call - the first part specifies how connections are map to the database</span>
con &lt;-<span class="st"> </span><span class="kw">dbConnect</span>(RMySQL::<span class="kw">MySQL</span>(), 
                 <span class="dt">dbname =</span> <span class="st">&quot;tweater&quot;</span>, 
                 <span class="dt">host =</span> <span class="st">&quot;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&quot;</span>, 
                 <span class="dt">port =</span> <span class="dv">3306</span>,
                 <span class="dt">user =</span> <span class="st">&quot;student&quot;</span>,
                 <span class="dt">password =</span> <span class="st">&quot;datacamp&quot;</span>)

<span class="co"># Build a vector of table names: tables</span>
tables &lt;-<span class="st"> </span><span class="kw">dbListTables</span>(con)

<span class="co"># Display structure of tables</span>
<span class="kw">str</span>(tables)</code></pre></div>
<pre><code>##  chr [1:3] &quot;comments&quot; &quot;tweats&quot; &quot;users&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import the users table from tweater: users</span>
users &lt;-<span class="st"> </span><span class="kw">dbReadTable</span>(con, <span class="st">&quot;users&quot;</span>)

<span class="co"># Print users</span>
users</code></pre></div>
<pre><code>##   id      name     login
## 1  1 elisabeth  elismith
## 2  2      mike     mikey
## 3  3      thea   teatime
## 4  4    thomas tomatotom
## 5  5    oliver olivander
## 6  6      kate  katebenn
## 7  7    anjali    lianja</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Or we can import all tables using lapply</span>
tables &lt;-<span class="st"> </span><span class="kw">lapply</span>(tables, dbReadTable, <span class="dt">conn =</span> con)

<span class="co"># Print out tables</span>
tables</code></pre></div>
<pre><code>## [[1]]
##      id tweat_id user_id            message
## 1  1022       87       7              nice!
## 2  1000       77       7             great!
## 3  1011       49       5            love it
## 4  1012       87       1   awesome! thanks!
## 5  1010       88       6              yuck!
## 6  1026       77       4      not my thing!
## 7  1004       49       1  this is fabulous!
## 8  1030       75       6           so easy!
## 9  1025       88       2             oh yes
## 10 1007       49       3           serious?
## 11 1020       77       1 couldn&#39;t be better
## 12 1014       77       1       saved my day
## 
## [[2]]
##   id user_id
## 1 75       3
## 2 88       4
## 3 77       6
## 4 87       5
## 5 49       1
## 6 24       7
##                                                                  post
## 1                                       break egg. bake egg. eat egg.
## 2                           wash strawberries. add ice. blend. enjoy.
## 3                       2 slices of bread. add cheese. grill. heaven.
## 4               open and crush avocado. add shrimps. perfect starter.
## 5 nachos. add tomato sauce, minced meat and cheese. oven for 10 mins.
## 6                              just eat an apple. simply and healthy.
##         date
## 1 2015-09-05
## 2 2015-09-14
## 3 2015-09-21
## 4 2015-09-22
## 5 2015-09-22
## 6 2015-09-24
## 
## [[3]]
##   id      name     login
## 1  1 elisabeth  elismith
## 2  2      mike     mikey
## 3  3      thea   teatime
## 4  4    thomas tomatotom
## 5  5    oliver olivander
## 6  6      kate  katebenn
## 7  7    anjali    lianja</code></pre>
</div>
<div id="sql-queries-inside-r" class="section level2">
<h2><span class="header-section-number">2.2</span> SQL Queries Inside R</h2>
<p>OFten you don’t want an entire tabel from a database, but a selection from the table. You can use SQL queries from inside R to extract only what you are interested in. You can alternatively use subset on the imported table, but often it is easier to extract only what you need first, particularly when working with large databases. The SQL goes inside e.g. dbGetQuery(con, “SQL QUERY”).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Connect to the database</span>
<span class="kw">library</span>(DBI)
con &lt;-<span class="st"> </span><span class="kw">dbConnect</span>(RMySQL::<span class="kw">MySQL</span>(),
                 <span class="dt">dbname =</span> <span class="st">&quot;tweater&quot;</span>,
                 <span class="dt">host =</span> <span class="st">&quot;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&quot;</span>,
                 <span class="dt">port =</span> <span class="dv">3306</span>,
                 <span class="dt">user =</span> <span class="st">&quot;student&quot;</span>,
                 <span class="dt">password =</span> <span class="st">&quot;datacamp&quot;</span>)

<span class="co"># Import tweat_id column of comments where user_id is 1: elisabeth</span>
elisabeth &lt;-<span class="st"> </span><span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT tweat_id FROM comments WHERE user_id = 1&quot;</span>)

<span class="co"># Print elisabeth</span>
elisabeth</code></pre></div>
<pre><code>##   tweat_id
## 1       87
## 2       49
## 3       77
## 4       77</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import post column of tweats where date is higher than &#39;2015-09-21&#39;: latest</span>
latest &lt;-<span class="st"> </span><span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT post FROM tweats WHERE date &gt; &#39;2015-09-21&#39;&quot;</span>)

<span class="co"># Print latest</span>
latest</code></pre></div>
<pre><code>##                                                                  post
## 1               open and crush avocado. add shrimps. perfect starter.
## 2 nachos. add tomato sauce, minced meat and cheese. oven for 10 mins.
## 3                              just eat an apple. simply and healthy.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create data frame specific using boolean</span>
specific &lt;-<span class="st"> </span><span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT message FROM comments WHERE tweat_id = 77 AND user_id &gt; 4&quot;</span>)

<span class="co"># Print specific</span>
specific</code></pre></div>
<pre><code>##   message
## 1  great!</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create data frame short selecting two columns</span>
short &lt;-<span class="st"> </span><span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT id, name FROM users WHERE CHAR_LENGTH(name) &lt; 5&quot;</span>)

<span class="co"># Print short</span>
short</code></pre></div>
<pre><code>##   id name
## 1  2 mike
## 2  3 thea
## 3  6 kate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># We can also join elements from different tables using the same id/key</span>

<span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT post, message</span>
<span class="st">  FROM tweats INNER JOIN comments on tweats.id = tweat_id</span>
<span class="st">    WHERE tweat_id = 77&quot;</span>)</code></pre></div>
<pre><code>##                                            post            message
## 1 2 slices of bread. add cheese. grill. heaven.             great!
## 2 2 slices of bread. add cheese. grill. heaven.      not my thing!
## 3 2 slices of bread. add cheese. grill. heaven. couldn&#39;t be better
## 4 2 slices of bread. add cheese. grill. heaven.       saved my day</code></pre>
<p>You’ve used dbGetQuery() multiple times now. This is a virtual function from the DBI package, but is actually implemented by the RMySQL package. Behind the scenes, the following steps are performed:</p>
<ul>
<li>Sending the specified query with dbSendQuery();</li>
<li>Fetching the result of executing the query on the database with dbFetch();</li>
<li>Clearing the result with dbClearResult().</li>
</ul>
<p>Let’s not use dbGetQuery() this time and implement the steps above. This is tedious to write, but it gives you the ability to fetch the query’s result in chunks rather than all at once. You can do this by specifying the n argument inside dbFetch().</p>
<p><strong>It is important to close the connection to the database once complete using the dbDisconnect() function</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Send query to the database</span>
res &lt;-<span class="st"> </span><span class="kw">dbSendQuery</span>(con, <span class="st">&quot;SELECT * FROM comments WHERE user_id &gt; 4&quot;</span>)

<span class="co"># Use dbFetch() twice</span>
<span class="kw">dbFetch</span>(res, <span class="dt">n =</span> <span class="dv">2</span>)</code></pre></div>
<pre><code>##     id tweat_id user_id message
## 1 1022       87       7   nice!
## 2 1000       77       7  great!</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dbFetch</span>(res) <span class="co"># imports all</span></code></pre></div>
<pre><code>##     id tweat_id user_id  message
## 1 1011       49       5  love it
## 2 1010       88       6    yuck!
## 3 1030       75       6 so easy!</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Clear res</span>
<span class="kw">dbClearResult</span>(res)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create the data frame  long_tweats</span>
long_tweats &lt;-<span class="st"> </span><span class="kw">dbGetQuery</span>(con, <span class="st">&quot;SELECT post, date FROM tweats WHERE CHAR_LENGTH(post) &gt; 40&quot;</span>)

<span class="co"># Print long_tweats</span>
<span class="kw">print</span>(long_tweats)</code></pre></div>
<pre><code>##                                                                  post
## 1                           wash strawberries. add ice. blend. enjoy.
## 2                       2 slices of bread. add cheese. grill. heaven.
## 3               open and crush avocado. add shrimps. perfect starter.
## 4 nachos. add tomato sauce, minced meat and cheese. oven for 10 mins.
##         date
## 1 2015-09-14
## 2 2015-09-21
## 3 2015-09-22
## 4 2015-09-22</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Disconnect from the database</span>
<span class="kw">dbDisconnect</span>(con)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="web-data" class="section level2">
<h2><span class="header-section-number">2.3</span> Web Data</h2>
<p>HyperText Transfer Protocol (HTTP) is the ‘language of the web’ and consists of a set of rules about data exchange between computers. If the file is a csv file, we can use functions like read.csv() and add in the url in quotations marks, read.csv will recognise this is a URL and will issue a HTTP GET command to download the file. This will also work on https sites on newer versions of R. We can also use the readr package and other packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the readr package</span>
<span class="kw">library</span>(readr)

<span class="co"># Import the csv file: pools</span>
url_csv &lt;-<span class="st"> &quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/swimming_pools.csv&quot;</span>
pools &lt;-<span class="st"> </span><span class="kw">read_csv</span>(url_csv)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Name = col_character(),
##   Address = col_character(),
##   Latitude = col_double(),
##   Longitude = col_double()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import the txt file: potatoes</span>
url_delim &lt;-<span class="st"> &quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/potatoes.txt&quot;</span>
potatoes &lt;-<span class="st"> </span><span class="kw">read_tsv</span>(url_delim)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   area = col_integer(),
##   temp = col_integer(),
##   size = col_integer(),
##   storage = col_integer(),
##   method = col_integer(),
##   texture = col_double(),
##   flavor = col_double(),
##   moistness = col_double()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print pools and potatoes</span>
pools</code></pre></div>
<pre><code>## # A tibble: 20 x 4
##                                         Name
##                                        &lt;chr&gt;
##  1               Acacia Ridge Leisure Centre
##  2                           Bellbowrie Pool
##  3                               Carole Park
##  4               Centenary Pool (inner City)
##  5                            Chermside Pool
##  6               Colmslie Pool (Morningside)
##  7            Spring Hill Baths (inner City)
##  8                Dunlop Park Pool (Corinda)
##  9                     Fortitude Valley Pool
## 10 Hibiscus Sports Complex (upper MtGravatt)
## 11                 Ithaca Pool ( Paddington)
## 12                             Jindalee Pool
## 13                                Manly Pool
## 14            Mt Gravatt East Aquatic Centre
## 15       Musgrave Park Pool (South Brisbane)
## 16                            Newmarket Pool
## 17                              Runcorn Pool
## 18                             Sandgate Pool
## 19      Langlands Parks Pool (Stones Corner)
## 20                         Yeronga Park Pool
## # ... with 3 more variables: Address &lt;chr&gt;, Latitude &lt;dbl&gt;,
## #   Longitude &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">potatoes</code></pre></div>
<pre><code>## # A tibble: 160 x 8
##     area  temp  size storage method texture flavor moistness
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;  &lt;int&gt;   &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
##  1     1     1     1       1      1     2.9    3.2       3.0
##  2     1     1     1       1      2     2.3    2.5       2.6
##  3     1     1     1       1      3     2.5    2.8       2.8
##  4     1     1     1       1      4     2.1    2.9       2.4
##  5     1     1     1       1      5     1.9    2.8       2.2
##  6     1     1     1       2      1     1.8    3.0       1.7
##  7     1     1     1       2      2     2.6    3.1       2.4
##  8     1     1     1       2      3     3.0    3.0       2.9
##  9     1     1     1       2      4     2.2    3.2       2.5
## 10     1     1     1       2      5     2.0    2.8       1.9
## # ... with 150 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># https URL to the swimming_pools csv file.</span>
url_csv &lt;-<span class="st"> &quot;https://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/swimming_pools.csv&quot;</span>

<span class="co"># Import the file using read.csv(): pools1</span>
pools1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(url_csv)

<span class="kw">str</span>(pools1)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    20 obs. of  4 variables:
##  $ Name     : Factor w/ 20 levels &quot;Acacia Ridge Leisure Centre&quot;,..: 1 2 3 4 5 6 19 7 8 9 ...
##  $ Address  : Factor w/ 20 levels &quot;1 Fairlead Crescent, Manly&quot;,..: 5 20 18 10 9 11 6 15 12 17 ...
##  $ Latitude : num  -27.6 -27.6 -27.6 -27.5 -27.4 ...
##  $ Longitude: num  153 153 153 153 153 ...</code></pre>
<p>Some packages, like the readxl package, do not currently recognise urls. However, we can use the donwload.file() or other command to download the file and then read it in locally. This process can be much quicker that browsing the internet then downloading the file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readxl)

<span class="co"># Specification of url: url_xls</span>
url_xls &lt;-<span class="st"> &quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/latitude.xls&quot;</span>

<span class="co"># Download file behind URL, name it local_latitude.xls</span>
<span class="kw">download.file</span>(url_xls, <span class="dt">destfile =</span> <span class="st">&quot;local_latitude.xls&quot;</span>)

<span class="co"># Import the local .xls file with readxl: excel_readxl</span>
excel_readxl &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;local_latitude.xls&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># https URL to the wine RData file.</span>
url_rdata &lt;-<span class="st"> &quot;https://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/wine.RData&quot;</span>

<span class="co"># Download the wine file to your working directory</span>
<span class="kw">download.file</span>(url_rdata, <span class="dt">destfile =</span> <span class="st">&quot;wine_local.RData&quot;</span>)

<span class="co"># Load the wine data into your workspace using load()</span>
<span class="kw">load</span>(<span class="st">&quot;wine_local.RData&quot;</span>)

<span class="co"># Print out the summary of the wine data</span>
<span class="kw">summary</span>(wine)</code></pre></div>
<pre><code>##     Alcohol        Malic acid        Ash        Alcalinity of ash
##  Min.   :11.03   Min.   :0.74   Min.   :1.360   Min.   :10.60    
##  1st Qu.:12.36   1st Qu.:1.60   1st Qu.:2.210   1st Qu.:17.20    
##  Median :13.05   Median :1.87   Median :2.360   Median :19.50    
##  Mean   :12.99   Mean   :2.34   Mean   :2.366   Mean   :19.52    
##  3rd Qu.:13.67   3rd Qu.:3.10   3rd Qu.:2.560   3rd Qu.:21.50    
##  Max.   :14.83   Max.   :5.80   Max.   :3.230   Max.   :30.00    
##    Magnesium      Total phenols     Flavanoids    Nonflavanoid phenols
##  Min.   : 70.00   Min.   :0.980   Min.   :0.340   Min.   :0.1300      
##  1st Qu.: 88.00   1st Qu.:1.740   1st Qu.:1.200   1st Qu.:0.2700      
##  Median : 98.00   Median :2.350   Median :2.130   Median :0.3400      
##  Mean   : 99.59   Mean   :2.292   Mean   :2.023   Mean   :0.3623      
##  3rd Qu.:107.00   3rd Qu.:2.800   3rd Qu.:2.860   3rd Qu.:0.4400      
##  Max.   :162.00   Max.   :3.880   Max.   :5.080   Max.   :0.6600      
##  Proanthocyanins Color intensity       Hue           Proline      
##  Min.   :0.410   Min.   : 1.280   Min.   :1.270   Min.   : 278.0  
##  1st Qu.:1.250   1st Qu.: 3.210   1st Qu.:1.930   1st Qu.: 500.0  
##  Median :1.550   Median : 4.680   Median :2.780   Median : 672.0  
##  Mean   :1.587   Mean   : 5.055   Mean   :2.604   Mean   : 745.1  
##  3rd Qu.:1.950   3rd Qu.: 6.200   3rd Qu.:3.170   3rd Qu.: 985.0  
##  Max.   :3.580   Max.   :13.000   Max.   :4.000   Max.   :1680.0</code></pre>
<p>We can also read http content using the httr package. This includes JSON formatted text, which httr will convert to a named list.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the httr package</span>
<span class="kw">library</span>(httr)

<span class="co"># Get the url, save response to resp</span>
url &lt;-<span class="st"> &quot;http://www.example.com/&quot;</span>
resp &lt;-<span class="st"> </span><span class="kw">GET</span>(url)

<span class="co"># Print resp</span>
resp</code></pre></div>
<pre><code>## Response [http://www.example.com/]
##   Date: 2017-08-23 08:25
##   Status: 200
##   Content-Type: text/html
##   Size: 1.27 kB
## &lt;!doctype html&gt;
## &lt;html&gt;
## &lt;head&gt;
##     &lt;title&gt;Example Domain&lt;/title&gt;
## 
##     &lt;meta charset=&quot;utf-8&quot; /&gt;
##     &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
##     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
##     &lt;style type=&quot;text/css&quot;&gt;
##     body {
## ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the raw content of resp: raw_content</span>
raw_content &lt;-<span class="st"> </span><span class="kw">content</span>(resp, <span class="dt">as =</span> <span class="st">&quot;raw&quot;</span>)

<span class="co"># Print the head of raw_content</span>
<span class="kw">head</span>(raw_content)</code></pre></div>
<pre><code>## [1] 3c 21 64 6f 63 74</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># JSON formatted</span>

<span class="co"># Get the url</span>
url &lt;-<span class="st"> &quot;http://www.omdbapi.com/?apikey=ff21610b&amp;t=Annie+Hall&amp;y=&amp;plot=short&amp;r=json&quot;</span>
resp &lt;-<span class="st"> </span><span class="kw">GET</span>(url)

<span class="co"># Print resp</span>
resp</code></pre></div>
<pre><code>## Response [http://www.omdbapi.com/?apikey=ff21610b&amp;t=Annie+Hall&amp;y=&amp;plot=short&amp;r=json]
##   Date: 2017-08-23 08:25
##   Status: 200
##   Content-Type: application/json; charset=utf-8
##   Size: 942 B</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print content of resp as text</span>
<span class="kw">content</span>(resp, <span class="dt">as =</span> <span class="st">&quot;text&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;{\&quot;Title\&quot;:\&quot;Annie Hall\&quot;,\&quot;Year\&quot;:\&quot;1977\&quot;,\&quot;Rated\&quot;:\&quot;PG\&quot;,\&quot;Released\&quot;:\&quot;20 Apr 1977\&quot;,\&quot;Runtime\&quot;:\&quot;93 min\&quot;,\&quot;Genre\&quot;:\&quot;Comedy, Romance\&quot;,\&quot;Director\&quot;:\&quot;Woody Allen\&quot;,\&quot;Writer\&quot;:\&quot;Woody Allen, Marshall Brickman\&quot;,\&quot;Actors\&quot;:\&quot;Woody Allen, Diane Keaton, Tony Roberts, Carol Kane\&quot;,\&quot;Plot\&quot;:\&quot;Neurotic New York comedian Alvy Singer falls in love with the ditzy Annie Hall.\&quot;,\&quot;Language\&quot;:\&quot;English, German\&quot;,\&quot;Country\&quot;:\&quot;USA\&quot;,\&quot;Awards\&quot;:\&quot;Won 4 Oscars. Another 26 wins &amp; 8 nominations.\&quot;,\&quot;Poster\&quot;:\&quot;https://images-na.ssl-images-amazon.com/images/M/MV5BZDg1OGQ4YzgtM2Y2NS00NjA3LWFjYTctMDRlMDI3NWE1OTUyXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg\&quot;,\&quot;Ratings\&quot;:[{\&quot;Source\&quot;:\&quot;Internet Movie Database\&quot;,\&quot;Value\&quot;:\&quot;8.1/10\&quot;},{\&quot;Source\&quot;:\&quot;Rotten Tomatoes\&quot;,\&quot;Value\&quot;:\&quot;97%\&quot;},{\&quot;Source\&quot;:\&quot;Metacritic\&quot;,\&quot;Value\&quot;:\&quot;92/100\&quot;}],\&quot;Metascore\&quot;:\&quot;92\&quot;,\&quot;imdbRating\&quot;:\&quot;8.1\&quot;,\&quot;imdbVotes\&quot;:\&quot;211,761\&quot;,\&quot;imdbID\&quot;:\&quot;tt0075686\&quot;,\&quot;Type\&quot;:\&quot;movie\&quot;,\&quot;DVD\&quot;:\&quot;28 Apr 1998\&quot;,\&quot;BoxOffice\&quot;:\&quot;N/A\&quot;,\&quot;Production\&quot;:\&quot;United Artists\&quot;,\&quot;Website\&quot;:\&quot;N/A\&quot;,\&quot;Response\&quot;:\&quot;True\&quot;}&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print content of resp</span>
<span class="kw">content</span>(resp)</code></pre></div>
<pre><code>## $Title
## [1] &quot;Annie Hall&quot;
## 
## $Year
## [1] &quot;1977&quot;
## 
## $Rated
## [1] &quot;PG&quot;
## 
## $Released
## [1] &quot;20 Apr 1977&quot;
## 
## $Runtime
## [1] &quot;93 min&quot;
## 
## $Genre
## [1] &quot;Comedy, Romance&quot;
## 
## $Director
## [1] &quot;Woody Allen&quot;
## 
## $Writer
## [1] &quot;Woody Allen, Marshall Brickman&quot;
## 
## $Actors
## [1] &quot;Woody Allen, Diane Keaton, Tony Roberts, Carol Kane&quot;
## 
## $Plot
## [1] &quot;Neurotic New York comedian Alvy Singer falls in love with the ditzy Annie Hall.&quot;
## 
## $Language
## [1] &quot;English, German&quot;
## 
## $Country
## [1] &quot;USA&quot;
## 
## $Awards
## [1] &quot;Won 4 Oscars. Another 26 wins &amp; 8 nominations.&quot;
## 
## $Poster
## [1] &quot;https://images-na.ssl-images-amazon.com/images/M/MV5BZDg1OGQ4YzgtM2Y2NS00NjA3LWFjYTctMDRlMDI3NWE1OTUyXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_SX300.jpg&quot;
## 
## $Ratings
## $Ratings[[1]]
## $Ratings[[1]]$Source
## [1] &quot;Internet Movie Database&quot;
## 
## $Ratings[[1]]$Value
## [1] &quot;8.1/10&quot;
## 
## 
## $Ratings[[2]]
## $Ratings[[2]]$Source
## [1] &quot;Rotten Tomatoes&quot;
## 
## $Ratings[[2]]$Value
## [1] &quot;97%&quot;
## 
## 
## $Ratings[[3]]
## $Ratings[[3]]$Source
## [1] &quot;Metacritic&quot;
## 
## $Ratings[[3]]$Value
## [1] &quot;92/100&quot;
## 
## 
## 
## $Metascore
## [1] &quot;92&quot;
## 
## $imdbRating
## [1] &quot;8.1&quot;
## 
## $imdbVotes
## [1] &quot;211,761&quot;
## 
## $imdbID
## [1] &quot;tt0075686&quot;
## 
## $Type
## [1] &quot;movie&quot;
## 
## $DVD
## [1] &quot;28 Apr 1998&quot;
## 
## $BoxOffice
## [1] &quot;N/A&quot;
## 
## $Production
## [1] &quot;United Artists&quot;
## 
## $Website
## [1] &quot;N/A&quot;
## 
## $Response
## [1] &quot;True&quot;</code></pre>
</div>
<div id="json-and-apis" class="section level2">
<h2><span class="header-section-number">2.4</span> JSON and APIs</h2>
<p>JSON is both easy for machines to parse and generate and is human readable. APIs are programtical ways of getting data, consisting of a set of protocols to interact with some other system or database. JSON can be useful since it is often well structured and can save time over, say, parsing a html page. So for instance, you can use the OMDb API to return JSON formatted text about a movie, rather than parse an IMDB html page entry. One package for handling JSON in R is jsonlite.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(jsonlite)

<span class="co"># wine_json is a JSON</span>
wine_json &lt;-<span class="st"> &#39;{&quot;name&quot;:&quot;Chateau Migraine&quot;, &quot;year&quot;:1997, &quot;alcohol_pct&quot;:12.4, &quot;color&quot;:&quot;red&quot;, &quot;awarded&quot;:false}&#39;</span>

<span class="co"># Convert wine_json into a list: wine</span>
wine &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(wine_json)

<span class="co"># Print structure of wine</span>
<span class="kw">str</span>(wine)</code></pre></div>
<pre><code>## List of 5
##  $ name       : chr &quot;Chateau Migraine&quot;
##  $ year       : int 1997
##  $ alcohol_pct: num 12.4
##  $ color      : chr &quot;red&quot;
##  $ awarded    : logi FALSE</code></pre>
<p>There are two types of JSON structures</p>
<ul>
<li>JSON objects - has key value pairs e.g. name:James, age:21 etc</li>
<li>JSON arrays - a sequence of values, numbers, nulls e.g. 4, “a”, 10, false, null etc</li>
</ul>
<p>You can also nest JSON objects or arrays within each other. Some examples are below. YOu can also use the minify and prettify functions to convert a JSON string to a more compact of easier to read version. Similar functions can also be used inside the toJSON() function e.g. toJSON(x, pretty = TRUE)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Challenge 1</span>
json1 &lt;-<span class="st"> &#39;[1, 2, 3, 4, 5, 6]&#39;</span>
<span class="kw">fromJSON</span>(json1)</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Challenge 2</span>
json2 &lt;-<span class="st"> &#39;{&quot;a&quot;: [1, 2, 3], &quot;b&quot;: [4, 5, 6]}&#39;</span>
<span class="kw">fromJSON</span>(json2)</code></pre></div>
<pre><code>## $a
## [1] 1 2 3
## 
## $b
## [1] 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can also convert data to JSON from other formats.  Here we take a csv and format it into a JSON array</span>

<span class="co"># URL pointing to the .csv file</span>
url_csv &lt;-<span class="st"> &quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/water.csv&quot;</span>

<span class="co"># Import the .csv file located at url_csv</span>
water &lt;-<span class="st"> </span><span class="kw">read.csv</span>(url_csv, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># Convert the data file according to the requirements</span>
water_json &lt;-<span class="st"> </span><span class="kw">toJSON</span>(water)

<span class="co"># Print out water_json</span>
water_json</code></pre></div>
<pre><code>## [{&quot;water&quot;:&quot;Algeria&quot;,&quot;X1992&quot;:0.064,&quot;X2002&quot;:0.017},{&quot;water&quot;:&quot;American Samoa&quot;},{&quot;water&quot;:&quot;Angola&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;Antigua and Barbuda&quot;,&quot;X1992&quot;:0.0033},{&quot;water&quot;:&quot;Argentina&quot;,&quot;X1992&quot;:0.0007,&quot;X1997&quot;:0.0007,&quot;X2002&quot;:0.0007},{&quot;water&quot;:&quot;Australia&quot;,&quot;X1992&quot;:0.0298,&quot;X2002&quot;:0.0298},{&quot;water&quot;:&quot;Austria&quot;,&quot;X1992&quot;:0.0022,&quot;X2002&quot;:0.0022},{&quot;water&quot;:&quot;Bahamas&quot;,&quot;X1992&quot;:0.0013,&quot;X2002&quot;:0.0074},{&quot;water&quot;:&quot;Bahrain&quot;,&quot;X1992&quot;:0.0441,&quot;X2002&quot;:0.0441,&quot;X2007&quot;:0.1024},{&quot;water&quot;:&quot;Barbados&quot;,&quot;X2007&quot;:0.0146},{&quot;water&quot;:&quot;British Virgin Islands&quot;,&quot;X2007&quot;:0.0042},{&quot;water&quot;:&quot;Canada&quot;,&quot;X1992&quot;:0.0027,&quot;X2002&quot;:0.0027},{&quot;water&quot;:&quot;Cape Verde&quot;,&quot;X1992&quot;:0.002,&quot;X1997&quot;:0.0017},{&quot;water&quot;:&quot;Cayman Islands&quot;,&quot;X1992&quot;:0.0033},{&quot;water&quot;:&quot;Central African Rep.&quot;},{&quot;water&quot;:&quot;Chile&quot;,&quot;X1992&quot;:0.0048,&quot;X2002&quot;:0.0048},{&quot;water&quot;:&quot;Colombia&quot;,&quot;X1992&quot;:0.0027,&quot;X2002&quot;:0.0027},{&quot;water&quot;:&quot;Cuba&quot;,&quot;X1992&quot;:0.0069,&quot;X1997&quot;:0.0069,&quot;X2002&quot;:0.0069},{&quot;water&quot;:&quot;Cyprus&quot;,&quot;X1992&quot;:0.003,&quot;X1997&quot;:0.003,&quot;X2002&quot;:0.0335},{&quot;water&quot;:&quot;Czech Rep.&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;Denmark&quot;,&quot;X1992&quot;:0.015,&quot;X2002&quot;:0.015},{&quot;water&quot;:&quot;Djibouti&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;Ecuador&quot;,&quot;X1992&quot;:0.0022,&quot;X1997&quot;:0.0022,&quot;X2002&quot;:0.0022},{&quot;water&quot;:&quot;Egypt&quot;,&quot;X1992&quot;:0.025,&quot;X1997&quot;:0.025,&quot;X2002&quot;:0.1},{&quot;water&quot;:&quot;El Salvador&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;Finland&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;France&quot;,&quot;X1992&quot;:0.0117,&quot;X2002&quot;:0.0117},{&quot;water&quot;:&quot;Gibraltar&quot;,&quot;X1992&quot;:0.0077},{&quot;water&quot;:&quot;Greece&quot;,&quot;X1992&quot;:0.01,&quot;X2002&quot;:0.01},{&quot;water&quot;:&quot;Honduras&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;Hungary&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;India&quot;,&quot;X1997&quot;:0.0005,&quot;X2002&quot;:0.0005},{&quot;water&quot;:&quot;Indonesia&quot;,&quot;X1992&quot;:0.0187,&quot;X2002&quot;:0.0187},{&quot;water&quot;:&quot;Iran&quot;,&quot;X1992&quot;:0.003,&quot;X1997&quot;:0.003,&quot;X2002&quot;:0.003,&quot;X2007&quot;:0.2},{&quot;water&quot;:&quot;Iraq&quot;,&quot;X1997&quot;:0.0074,&quot;X2002&quot;:0.0074},{&quot;water&quot;:&quot;Ireland&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;Israel&quot;,&quot;X1992&quot;:0.0256,&quot;X2002&quot;:0.0256,&quot;X2007&quot;:0.14},{&quot;water&quot;:&quot;Italy&quot;,&quot;X1992&quot;:0.0973,&quot;X2002&quot;:0.0973},{&quot;water&quot;:&quot;Jamaica&quot;,&quot;X1992&quot;:0.0005,&quot;X1997&quot;:0.0005,&quot;X2002&quot;:0.0005},{&quot;water&quot;:&quot;Japan&quot;,&quot;X1997&quot;:0.04,&quot;X2002&quot;:0.04},{&quot;water&quot;:&quot;Jordan&quot;,&quot;X1997&quot;:0.002,&quot;X2007&quot;:0.0098},{&quot;water&quot;:&quot;Kazakhstan&quot;,&quot;X1997&quot;:1.328,&quot;X2002&quot;:1.328},{&quot;water&quot;:&quot;Kuwait&quot;,&quot;X1992&quot;:0.507,&quot;X1997&quot;:0.231,&quot;X2002&quot;:0.4202},{&quot;water&quot;:&quot;Lebanon&quot;,&quot;X2007&quot;:0.0473},{&quot;water&quot;:&quot;Libya&quot;,&quot;X2002&quot;:0.018},{&quot;water&quot;:&quot;Malaysia&quot;,&quot;X1992&quot;:0.0043,&quot;X2002&quot;:0.0043},{&quot;water&quot;:&quot;Maldives&quot;,&quot;X1992&quot;:0.0004},{&quot;water&quot;:&quot;Malta&quot;,&quot;X1992&quot;:0.024,&quot;X1997&quot;:0.031,&quot;X2002&quot;:0.031},{&quot;water&quot;:&quot;Marshall Islands&quot;,&quot;X1992&quot;:0.0007},{&quot;water&quot;:&quot;Mauritania&quot;,&quot;X1992&quot;:0.002,&quot;X2002&quot;:0.002},{&quot;water&quot;:&quot;Mexico&quot;,&quot;X1992&quot;:0.0307,&quot;X2002&quot;:0.0307},{&quot;water&quot;:&quot;Morocco&quot;,&quot;X1992&quot;:0.0034,&quot;X1997&quot;:0.0034,&quot;X2002&quot;:0.007},{&quot;water&quot;:&quot;Namibia&quot;,&quot;X1992&quot;:0.0003,&quot;X2002&quot;:0.0003},{&quot;water&quot;:&quot;Netherlands Antilles&quot;,&quot;X1992&quot;:0.063},{&quot;water&quot;:&quot;Nicaragua&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;Nigeria&quot;,&quot;X1992&quot;:0.003,&quot;X2002&quot;:0.003},{&quot;water&quot;:&quot;Norway&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;Oman&quot;,&quot;X1997&quot;:0.034,&quot;X2002&quot;:0.034,&quot;X2007&quot;:0.109},{&quot;water&quot;:&quot;Peru&quot;,&quot;X1992&quot;:0.0054,&quot;X2002&quot;:0.0054},{&quot;water&quot;:&quot;Poland&quot;,&quot;X1992&quot;:0.007,&quot;X2002&quot;:0.007},{&quot;water&quot;:&quot;Portugal&quot;,&quot;X1992&quot;:0.0016,&quot;X2002&quot;:0.0016},{&quot;water&quot;:&quot;Qatar&quot;,&quot;X1992&quot;:0.065,&quot;X1997&quot;:0.099,&quot;X2002&quot;:0.099,&quot;X2007&quot;:0.18},{&quot;water&quot;:&quot;Saudi Arabia&quot;,&quot;X1992&quot;:0.683,&quot;X1997&quot;:0.727,&quot;X2002&quot;:0.863,&quot;X2007&quot;:1.033},{&quot;water&quot;:&quot;Senegal&quot;,&quot;X1992&quot;:0,&quot;X2002&quot;:0},{&quot;water&quot;:&quot;Somalia&quot;,&quot;X1992&quot;:0.0001,&quot;X2002&quot;:0.0001},{&quot;water&quot;:&quot;South Africa&quot;,&quot;X1992&quot;:0.018,&quot;X2002&quot;:0.018},{&quot;water&quot;:&quot;Spain&quot;,&quot;X1992&quot;:0.1002,&quot;X2002&quot;:0.1002},{&quot;water&quot;:&quot;Sudan&quot;,&quot;X1992&quot;:0.0004,&quot;X1997&quot;:0.0004,&quot;X2002&quot;:0.0004},{&quot;water&quot;:&quot;Sweden&quot;,&quot;X1992&quot;:0.0002,&quot;X2002&quot;:0.0002},{&quot;water&quot;:&quot;Trinidad and Tobago&quot;,&quot;X2007&quot;:0.036},{&quot;water&quot;:&quot;Tunisia&quot;,&quot;X1992&quot;:0.008,&quot;X2002&quot;:0.013},{&quot;water&quot;:&quot;Turkey&quot;,&quot;X1992&quot;:0.0005,&quot;X2002&quot;:0.0005,&quot;X2007&quot;:0.0005},{&quot;water&quot;:&quot;United Arab Emirates&quot;,&quot;X1992&quot;:0.163,&quot;X1997&quot;:0.385,&quot;X2007&quot;:0.95},{&quot;water&quot;:&quot;United Kingdom&quot;,&quot;X1992&quot;:0.0333,&quot;X2002&quot;:0.0333},{&quot;water&quot;:&quot;United States&quot;,&quot;X1992&quot;:0.58,&quot;X2002&quot;:0.58},{&quot;water&quot;:&quot;Venezuela&quot;,&quot;X1992&quot;:0.0052,&quot;X2002&quot;:0.0052},{&quot;water&quot;:&quot;Yemen, Rep.&quot;,&quot;X1992&quot;:0.01,&quot;X2002&quot;:0.01}]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Convert mtcars to a pretty JSON: pretty_json</span>
pretty_json &lt;-<span class="st"> </span><span class="kw">toJSON</span>(mtcars, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)

<span class="co"># Print pretty_json</span>
pretty_json</code></pre></div>
<pre><code>## [
##   {
##     &quot;mpg&quot;: 21,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 160,
##     &quot;hp&quot;: 110,
##     &quot;drat&quot;: 3.9,
##     &quot;wt&quot;: 2.62,
##     &quot;qsec&quot;: 16.46,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Mazda RX4&quot;
##   },
##   {
##     &quot;mpg&quot;: 21,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 160,
##     &quot;hp&quot;: 110,
##     &quot;drat&quot;: 3.9,
##     &quot;wt&quot;: 2.875,
##     &quot;qsec&quot;: 17.02,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Mazda RX4 Wag&quot;
##   },
##   {
##     &quot;mpg&quot;: 22.8,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 108,
##     &quot;hp&quot;: 93,
##     &quot;drat&quot;: 3.85,
##     &quot;wt&quot;: 2.32,
##     &quot;qsec&quot;: 18.61,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Datsun 710&quot;
##   },
##   {
##     &quot;mpg&quot;: 21.4,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 258,
##     &quot;hp&quot;: 110,
##     &quot;drat&quot;: 3.08,
##     &quot;wt&quot;: 3.215,
##     &quot;qsec&quot;: 19.44,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Hornet 4 Drive&quot;
##   },
##   {
##     &quot;mpg&quot;: 18.7,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 360,
##     &quot;hp&quot;: 175,
##     &quot;drat&quot;: 3.15,
##     &quot;wt&quot;: 3.44,
##     &quot;qsec&quot;: 17.02,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Hornet Sportabout&quot;
##   },
##   {
##     &quot;mpg&quot;: 18.1,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 225,
##     &quot;hp&quot;: 105,
##     &quot;drat&quot;: 2.76,
##     &quot;wt&quot;: 3.46,
##     &quot;qsec&quot;: 20.22,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Valiant&quot;
##   },
##   {
##     &quot;mpg&quot;: 14.3,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 360,
##     &quot;hp&quot;: 245,
##     &quot;drat&quot;: 3.21,
##     &quot;wt&quot;: 3.57,
##     &quot;qsec&quot;: 15.84,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Duster 360&quot;
##   },
##   {
##     &quot;mpg&quot;: 24.4,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 146.7,
##     &quot;hp&quot;: 62,
##     &quot;drat&quot;: 3.69,
##     &quot;wt&quot;: 3.19,
##     &quot;qsec&quot;: 20,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Merc 240D&quot;
##   },
##   {
##     &quot;mpg&quot;: 22.8,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 140.8,
##     &quot;hp&quot;: 95,
##     &quot;drat&quot;: 3.92,
##     &quot;wt&quot;: 3.15,
##     &quot;qsec&quot;: 22.9,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Merc 230&quot;
##   },
##   {
##     &quot;mpg&quot;: 19.2,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 167.6,
##     &quot;hp&quot;: 123,
##     &quot;drat&quot;: 3.92,
##     &quot;wt&quot;: 3.44,
##     &quot;qsec&quot;: 18.3,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Merc 280&quot;
##   },
##   {
##     &quot;mpg&quot;: 17.8,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 167.6,
##     &quot;hp&quot;: 123,
##     &quot;drat&quot;: 3.92,
##     &quot;wt&quot;: 3.44,
##     &quot;qsec&quot;: 18.9,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Merc 280C&quot;
##   },
##   {
##     &quot;mpg&quot;: 16.4,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 275.8,
##     &quot;hp&quot;: 180,
##     &quot;drat&quot;: 3.07,
##     &quot;wt&quot;: 4.07,
##     &quot;qsec&quot;: 17.4,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 3,
##     &quot;_row&quot;: &quot;Merc 450SE&quot;
##   },
##   {
##     &quot;mpg&quot;: 17.3,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 275.8,
##     &quot;hp&quot;: 180,
##     &quot;drat&quot;: 3.07,
##     &quot;wt&quot;: 3.73,
##     &quot;qsec&quot;: 17.6,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 3,
##     &quot;_row&quot;: &quot;Merc 450SL&quot;
##   },
##   {
##     &quot;mpg&quot;: 15.2,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 275.8,
##     &quot;hp&quot;: 180,
##     &quot;drat&quot;: 3.07,
##     &quot;wt&quot;: 3.78,
##     &quot;qsec&quot;: 18,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 3,
##     &quot;_row&quot;: &quot;Merc 450SLC&quot;
##   },
##   {
##     &quot;mpg&quot;: 10.4,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 472,
##     &quot;hp&quot;: 205,
##     &quot;drat&quot;: 2.93,
##     &quot;wt&quot;: 5.25,
##     &quot;qsec&quot;: 17.98,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Cadillac Fleetwood&quot;
##   },
##   {
##     &quot;mpg&quot;: 10.4,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 460,
##     &quot;hp&quot;: 215,
##     &quot;drat&quot;: 3,
##     &quot;wt&quot;: 5.424,
##     &quot;qsec&quot;: 17.82,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Lincoln Continental&quot;
##   },
##   {
##     &quot;mpg&quot;: 14.7,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 440,
##     &quot;hp&quot;: 230,
##     &quot;drat&quot;: 3.23,
##     &quot;wt&quot;: 5.345,
##     &quot;qsec&quot;: 17.42,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Chrysler Imperial&quot;
##   },
##   {
##     &quot;mpg&quot;: 32.4,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 78.7,
##     &quot;hp&quot;: 66,
##     &quot;drat&quot;: 4.08,
##     &quot;wt&quot;: 2.2,
##     &quot;qsec&quot;: 19.47,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Fiat 128&quot;
##   },
##   {
##     &quot;mpg&quot;: 30.4,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 75.7,
##     &quot;hp&quot;: 52,
##     &quot;drat&quot;: 4.93,
##     &quot;wt&quot;: 1.615,
##     &quot;qsec&quot;: 18.52,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Honda Civic&quot;
##   },
##   {
##     &quot;mpg&quot;: 33.9,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 71.1,
##     &quot;hp&quot;: 65,
##     &quot;drat&quot;: 4.22,
##     &quot;wt&quot;: 1.835,
##     &quot;qsec&quot;: 19.9,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Toyota Corolla&quot;
##   },
##   {
##     &quot;mpg&quot;: 21.5,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 120.1,
##     &quot;hp&quot;: 97,
##     &quot;drat&quot;: 3.7,
##     &quot;wt&quot;: 2.465,
##     &quot;qsec&quot;: 20.01,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Toyota Corona&quot;
##   },
##   {
##     &quot;mpg&quot;: 15.5,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 318,
##     &quot;hp&quot;: 150,
##     &quot;drat&quot;: 2.76,
##     &quot;wt&quot;: 3.52,
##     &quot;qsec&quot;: 16.87,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Dodge Challenger&quot;
##   },
##   {
##     &quot;mpg&quot;: 15.2,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 304,
##     &quot;hp&quot;: 150,
##     &quot;drat&quot;: 3.15,
##     &quot;wt&quot;: 3.435,
##     &quot;qsec&quot;: 17.3,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;AMC Javelin&quot;
##   },
##   {
##     &quot;mpg&quot;: 13.3,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 350,
##     &quot;hp&quot;: 245,
##     &quot;drat&quot;: 3.73,
##     &quot;wt&quot;: 3.84,
##     &quot;qsec&quot;: 15.41,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Camaro Z28&quot;
##   },
##   {
##     &quot;mpg&quot;: 19.2,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 400,
##     &quot;hp&quot;: 175,
##     &quot;drat&quot;: 3.08,
##     &quot;wt&quot;: 3.845,
##     &quot;qsec&quot;: 17.05,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 0,
##     &quot;gear&quot;: 3,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Pontiac Firebird&quot;
##   },
##   {
##     &quot;mpg&quot;: 27.3,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 79,
##     &quot;hp&quot;: 66,
##     &quot;drat&quot;: 4.08,
##     &quot;wt&quot;: 1.935,
##     &quot;qsec&quot;: 18.9,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 1,
##     &quot;_row&quot;: &quot;Fiat X1-9&quot;
##   },
##   {
##     &quot;mpg&quot;: 26,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 120.3,
##     &quot;hp&quot;: 91,
##     &quot;drat&quot;: 4.43,
##     &quot;wt&quot;: 2.14,
##     &quot;qsec&quot;: 16.7,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 5,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Porsche 914-2&quot;
##   },
##   {
##     &quot;mpg&quot;: 30.4,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 95.1,
##     &quot;hp&quot;: 113,
##     &quot;drat&quot;: 3.77,
##     &quot;wt&quot;: 1.513,
##     &quot;qsec&quot;: 16.9,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 5,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Lotus Europa&quot;
##   },
##   {
##     &quot;mpg&quot;: 15.8,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 351,
##     &quot;hp&quot;: 264,
##     &quot;drat&quot;: 4.22,
##     &quot;wt&quot;: 3.17,
##     &quot;qsec&quot;: 14.5,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 5,
##     &quot;carb&quot;: 4,
##     &quot;_row&quot;: &quot;Ford Pantera L&quot;
##   },
##   {
##     &quot;mpg&quot;: 19.7,
##     &quot;cyl&quot;: 6,
##     &quot;disp&quot;: 145,
##     &quot;hp&quot;: 175,
##     &quot;drat&quot;: 3.62,
##     &quot;wt&quot;: 2.77,
##     &quot;qsec&quot;: 15.5,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 5,
##     &quot;carb&quot;: 6,
##     &quot;_row&quot;: &quot;Ferrari Dino&quot;
##   },
##   {
##     &quot;mpg&quot;: 15,
##     &quot;cyl&quot;: 8,
##     &quot;disp&quot;: 301,
##     &quot;hp&quot;: 335,
##     &quot;drat&quot;: 3.54,
##     &quot;wt&quot;: 3.57,
##     &quot;qsec&quot;: 14.6,
##     &quot;vs&quot;: 0,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 5,
##     &quot;carb&quot;: 8,
##     &quot;_row&quot;: &quot;Maserati Bora&quot;
##   },
##   {
##     &quot;mpg&quot;: 21.4,
##     &quot;cyl&quot;: 4,
##     &quot;disp&quot;: 121,
##     &quot;hp&quot;: 109,
##     &quot;drat&quot;: 4.11,
##     &quot;wt&quot;: 2.78,
##     &quot;qsec&quot;: 18.6,
##     &quot;vs&quot;: 1,
##     &quot;am&quot;: 1,
##     &quot;gear&quot;: 4,
##     &quot;carb&quot;: 2,
##     &quot;_row&quot;: &quot;Volvo 142E&quot;
##   }
## ]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Minify pretty_json: mini_json</span>
mini_json &lt;-<span class="st"> </span><span class="kw">minify</span>(pretty_json)

<span class="co"># Print mini_json</span>
mini_json</code></pre></div>
<pre><code>## [{&quot;mpg&quot;:21,&quot;cyl&quot;:6,&quot;disp&quot;:160,&quot;hp&quot;:110,&quot;drat&quot;:3.9,&quot;wt&quot;:2.62,&quot;qsec&quot;:16.46,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Mazda RX4&quot;},{&quot;mpg&quot;:21,&quot;cyl&quot;:6,&quot;disp&quot;:160,&quot;hp&quot;:110,&quot;drat&quot;:3.9,&quot;wt&quot;:2.875,&quot;qsec&quot;:17.02,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Mazda RX4 Wag&quot;},{&quot;mpg&quot;:22.8,&quot;cyl&quot;:4,&quot;disp&quot;:108,&quot;hp&quot;:93,&quot;drat&quot;:3.85,&quot;wt&quot;:2.32,&quot;qsec&quot;:18.61,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Datsun 710&quot;},{&quot;mpg&quot;:21.4,&quot;cyl&quot;:6,&quot;disp&quot;:258,&quot;hp&quot;:110,&quot;drat&quot;:3.08,&quot;wt&quot;:3.215,&quot;qsec&quot;:19.44,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Hornet 4 Drive&quot;},{&quot;mpg&quot;:18.7,&quot;cyl&quot;:8,&quot;disp&quot;:360,&quot;hp&quot;:175,&quot;drat&quot;:3.15,&quot;wt&quot;:3.44,&quot;qsec&quot;:17.02,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Hornet Sportabout&quot;},{&quot;mpg&quot;:18.1,&quot;cyl&quot;:6,&quot;disp&quot;:225,&quot;hp&quot;:105,&quot;drat&quot;:2.76,&quot;wt&quot;:3.46,&quot;qsec&quot;:20.22,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Valiant&quot;},{&quot;mpg&quot;:14.3,&quot;cyl&quot;:8,&quot;disp&quot;:360,&quot;hp&quot;:245,&quot;drat&quot;:3.21,&quot;wt&quot;:3.57,&quot;qsec&quot;:15.84,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Duster 360&quot;},{&quot;mpg&quot;:24.4,&quot;cyl&quot;:4,&quot;disp&quot;:146.7,&quot;hp&quot;:62,&quot;drat&quot;:3.69,&quot;wt&quot;:3.19,&quot;qsec&quot;:20,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:4,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Merc 240D&quot;},{&quot;mpg&quot;:22.8,&quot;cyl&quot;:4,&quot;disp&quot;:140.8,&quot;hp&quot;:95,&quot;drat&quot;:3.92,&quot;wt&quot;:3.15,&quot;qsec&quot;:22.9,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:4,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Merc 230&quot;},{&quot;mpg&quot;:19.2,&quot;cyl&quot;:6,&quot;disp&quot;:167.6,&quot;hp&quot;:123,&quot;drat&quot;:3.92,&quot;wt&quot;:3.44,&quot;qsec&quot;:18.3,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:4,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Merc 280&quot;},{&quot;mpg&quot;:17.8,&quot;cyl&quot;:6,&quot;disp&quot;:167.6,&quot;hp&quot;:123,&quot;drat&quot;:3.92,&quot;wt&quot;:3.44,&quot;qsec&quot;:18.9,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:4,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Merc 280C&quot;},{&quot;mpg&quot;:16.4,&quot;cyl&quot;:8,&quot;disp&quot;:275.8,&quot;hp&quot;:180,&quot;drat&quot;:3.07,&quot;wt&quot;:4.07,&quot;qsec&quot;:17.4,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:3,&quot;_row&quot;:&quot;Merc 450SE&quot;},{&quot;mpg&quot;:17.3,&quot;cyl&quot;:8,&quot;disp&quot;:275.8,&quot;hp&quot;:180,&quot;drat&quot;:3.07,&quot;wt&quot;:3.73,&quot;qsec&quot;:17.6,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:3,&quot;_row&quot;:&quot;Merc 450SL&quot;},{&quot;mpg&quot;:15.2,&quot;cyl&quot;:8,&quot;disp&quot;:275.8,&quot;hp&quot;:180,&quot;drat&quot;:3.07,&quot;wt&quot;:3.78,&quot;qsec&quot;:18,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:3,&quot;_row&quot;:&quot;Merc 450SLC&quot;},{&quot;mpg&quot;:10.4,&quot;cyl&quot;:8,&quot;disp&quot;:472,&quot;hp&quot;:205,&quot;drat&quot;:2.93,&quot;wt&quot;:5.25,&quot;qsec&quot;:17.98,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Cadillac Fleetwood&quot;},{&quot;mpg&quot;:10.4,&quot;cyl&quot;:8,&quot;disp&quot;:460,&quot;hp&quot;:215,&quot;drat&quot;:3,&quot;wt&quot;:5.424,&quot;qsec&quot;:17.82,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Lincoln Continental&quot;},{&quot;mpg&quot;:14.7,&quot;cyl&quot;:8,&quot;disp&quot;:440,&quot;hp&quot;:230,&quot;drat&quot;:3.23,&quot;wt&quot;:5.345,&quot;qsec&quot;:17.42,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Chrysler Imperial&quot;},{&quot;mpg&quot;:32.4,&quot;cyl&quot;:4,&quot;disp&quot;:78.7,&quot;hp&quot;:66,&quot;drat&quot;:4.08,&quot;wt&quot;:2.2,&quot;qsec&quot;:19.47,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Fiat 128&quot;},{&quot;mpg&quot;:30.4,&quot;cyl&quot;:4,&quot;disp&quot;:75.7,&quot;hp&quot;:52,&quot;drat&quot;:4.93,&quot;wt&quot;:1.615,&quot;qsec&quot;:18.52,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Honda Civic&quot;},{&quot;mpg&quot;:33.9,&quot;cyl&quot;:4,&quot;disp&quot;:71.1,&quot;hp&quot;:65,&quot;drat&quot;:4.22,&quot;wt&quot;:1.835,&quot;qsec&quot;:19.9,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Toyota Corolla&quot;},{&quot;mpg&quot;:21.5,&quot;cyl&quot;:4,&quot;disp&quot;:120.1,&quot;hp&quot;:97,&quot;drat&quot;:3.7,&quot;wt&quot;:2.465,&quot;qsec&quot;:20.01,&quot;vs&quot;:1,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Toyota Corona&quot;},{&quot;mpg&quot;:15.5,&quot;cyl&quot;:8,&quot;disp&quot;:318,&quot;hp&quot;:150,&quot;drat&quot;:2.76,&quot;wt&quot;:3.52,&quot;qsec&quot;:16.87,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Dodge Challenger&quot;},{&quot;mpg&quot;:15.2,&quot;cyl&quot;:8,&quot;disp&quot;:304,&quot;hp&quot;:150,&quot;drat&quot;:3.15,&quot;wt&quot;:3.435,&quot;qsec&quot;:17.3,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:2,&quot;_row&quot;:&quot;AMC Javelin&quot;},{&quot;mpg&quot;:13.3,&quot;cyl&quot;:8,&quot;disp&quot;:350,&quot;hp&quot;:245,&quot;drat&quot;:3.73,&quot;wt&quot;:3.84,&quot;qsec&quot;:15.41,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Camaro Z28&quot;},{&quot;mpg&quot;:19.2,&quot;cyl&quot;:8,&quot;disp&quot;:400,&quot;hp&quot;:175,&quot;drat&quot;:3.08,&quot;wt&quot;:3.845,&quot;qsec&quot;:17.05,&quot;vs&quot;:0,&quot;am&quot;:0,&quot;gear&quot;:3,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Pontiac Firebird&quot;},{&quot;mpg&quot;:27.3,&quot;cyl&quot;:4,&quot;disp&quot;:79,&quot;hp&quot;:66,&quot;drat&quot;:4.08,&quot;wt&quot;:1.935,&quot;qsec&quot;:18.9,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:1,&quot;_row&quot;:&quot;Fiat X1-9&quot;},{&quot;mpg&quot;:26,&quot;cyl&quot;:4,&quot;disp&quot;:120.3,&quot;hp&quot;:91,&quot;drat&quot;:4.43,&quot;wt&quot;:2.14,&quot;qsec&quot;:16.7,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:5,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Porsche 914-2&quot;},{&quot;mpg&quot;:30.4,&quot;cyl&quot;:4,&quot;disp&quot;:95.1,&quot;hp&quot;:113,&quot;drat&quot;:3.77,&quot;wt&quot;:1.513,&quot;qsec&quot;:16.9,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:5,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Lotus Europa&quot;},{&quot;mpg&quot;:15.8,&quot;cyl&quot;:8,&quot;disp&quot;:351,&quot;hp&quot;:264,&quot;drat&quot;:4.22,&quot;wt&quot;:3.17,&quot;qsec&quot;:14.5,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:5,&quot;carb&quot;:4,&quot;_row&quot;:&quot;Ford Pantera L&quot;},{&quot;mpg&quot;:19.7,&quot;cyl&quot;:6,&quot;disp&quot;:145,&quot;hp&quot;:175,&quot;drat&quot;:3.62,&quot;wt&quot;:2.77,&quot;qsec&quot;:15.5,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:5,&quot;carb&quot;:6,&quot;_row&quot;:&quot;Ferrari Dino&quot;},{&quot;mpg&quot;:15,&quot;cyl&quot;:8,&quot;disp&quot;:301,&quot;hp&quot;:335,&quot;drat&quot;:3.54,&quot;wt&quot;:3.57,&quot;qsec&quot;:14.6,&quot;vs&quot;:0,&quot;am&quot;:1,&quot;gear&quot;:5,&quot;carb&quot;:8,&quot;_row&quot;:&quot;Maserati Bora&quot;},{&quot;mpg&quot;:21.4,&quot;cyl&quot;:4,&quot;disp&quot;:121,&quot;hp&quot;:109,&quot;drat&quot;:4.11,&quot;wt&quot;:2.78,&quot;qsec&quot;:18.6,&quot;vs&quot;:1,&quot;am&quot;:1,&quot;gear&quot;:4,&quot;carb&quot;:2,&quot;_row&quot;:&quot;Volvo 142E&quot;}]</code></pre>
</div>
<div id="importing-from-other-statistical-software" class="section level2">
<h2><span class="header-section-number">2.5</span> Importing from other statistical software</h2>
<p>Common software packages include SAS, STATA and SPSS. Two packages useful for importing data from these packages are:</p>
<ul>
<li><strong>haven</strong>: by Hadley Wickham and is under active development. It aims to be more consistent, easier and faster than foreign. It can read SAS, Stata and SPSS and will read in the file as an D dataframe.</li>
<li><strong>foreign</strong>: is an older package by the R Core Team. Foreign support more data formats than haven including Weka and Systat</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the haven package</span>
<span class="kw">library</span>(haven)

<span class="co"># Import sales.sas7bdat: sales</span>
sales &lt;-<span class="st"> </span><span class="kw">read_sas</span>(<span class="st">&quot;sales.sas7bdat&quot;</span>)

<span class="co"># Display the structure of sales</span>
<span class="kw">str</span>(sales)

<span class="co"># Import the data from the URL: sugar</span>
sugar &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="st">&quot;http://assets.datacamp.com/production/course_1478/datasets/trade.dta&quot;</span>)

<span class="co"># Structure of sugar</span>
<span class="kw">str</span>(sugar)

<span class="co"># Convert values in Date column to dates</span>
sugar$Date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">as_factor</span>(sugar$Date))

<span class="co"># Structure of sugar again</span>
<span class="kw">str</span>(sugar)

<span class="co"># Import person.sav: traits</span>
traits &lt;-<span class="st"> </span><span class="kw">read_sav</span>(<span class="st">&quot;person.sav&quot;</span>)

<span class="co"># Summarize traits</span>
<span class="kw">summary</span>(traits)

<span class="co"># Print out a subset</span>
<span class="kw">subset</span>(traits, Extroversion &gt;<span class="st"> </span><span class="dv">40</span> &amp;<span class="st"> </span>Agreeableness &gt;<span class="st"> </span><span class="dv">40</span>)</code></pre></div>
<p>When using SPSS files, it is often the case that the variable labels are also imported, it is best to change these in to standard R factors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import SPSS data from the URL: work</span>
work &lt;-<span class="st"> </span><span class="kw">read_sav</span>(<span class="st">&quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/employee.sav&quot;</span>)

<span class="co"># Display summary of work$GENDER</span>
<span class="kw">summary</span>(work$GENDER)


<span class="co"># Convert work$GENDER to a factor</span>
work$GENDER &lt;-<span class="st"> </span><span class="kw">as_factor</span>(work$GENDER)


<span class="co"># Display summary of work$GENDER again</span>
<span class="kw">summary</span>(work$GENDER)</code></pre></div>
<p>Foreign cannot use single SAS datafiles like haven, it works with SAS library files .xport. Foreign tends to use dots in the function names rather than underscores in haven e.g. read.dta() vs read_dta(). Foreign does not provide consistency with it’s functions i.e. read.dta() has different arguments than read.spss(), however foreign provides more control over the data importing, such as dealing with multiple types of missing data which are often present in survey data, more comprehensively than haven. Although haven is still being developed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the foreign package</span>
<span class="kw">library</span>(foreign)

<span class="co"># Specify the file path using file.path(): path</span>
path &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="st">&quot;worldbank&quot;</span>, <span class="st">&quot;edequality.dta&quot;</span>)

<span class="co"># Create and print structure of edu_equal_1</span>
edu_equal_1 &lt;-<span class="st"> </span><span class="kw">read.dta</span>(path)
<span class="kw">str</span>(edu_equal_1)

<span class="co"># Create and print structure of edu_equal_2</span>
edu_equal_2 &lt;-<span class="st"> </span><span class="kw">read.dta</span>(path, <span class="dt">convert.factors =</span> <span class="ot">FALSE</span>)
<span class="kw">str</span>(edu_equal_2)

<span class="co"># Create and print structure of edu_equal_3</span>
edu_equal_3 &lt;-<span class="st"> </span><span class="kw">read.dta</span>(path, <span class="dt">convert.underscore =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(edu_equal_3)


<span class="co"># Import international.sav as a data frame: demo</span>
demo &lt;-<span class="st"> </span><span class="kw">read.spss</span>(<span class="st">&quot;http://s3.amazonaws.com/assets.datacamp.com/production/course_1478/datasets/international.sav&quot;</span>, <span class="dt">to.data.frame =</span> <span class="ot">TRUE</span>)

<span class="co"># Create boxplot of gdp variable of demo</span>
<span class="kw">boxplot</span>(demo$gdp)</code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data-part-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["Study-Notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
