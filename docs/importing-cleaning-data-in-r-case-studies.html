<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Study notes</title>
  <meta name="description" content="Study notes taken from courses and self learning.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Study notes" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://github.com/James-SR/study-notes-master" />
  
  <meta property="og:description" content="Study notes taken from courses and self learning." />
  <meta name="github-repo" content="James-SR/study-notes-master" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Study notes" />
  
  <meta name="twitter:description" content="Study notes taken from courses and self learning." />
  

<meta name="author" content="James Solomon-Rounce">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="cleaning-data.html">
<link rel="next" href="introduction-to-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Study Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html"><i class="fa fa-check"></i><b>1</b> Importing data - Part 1</a><ul>
<li class="chapter" data-level="1.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-csv-files"><i class="fa fa-check"></i><b>1.2</b> Reading CSV files</a></li>
<li class="chapter" data-level="1.3" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-tab-deliminated-files-or-other-table-formats"><i class="fa fa-check"></i><b>1.3</b> Reading tab deliminated files or other table formats</a></li>
<li class="chapter" data-level="1.4" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#readr-and-data.table"><i class="fa fa-check"></i><b>1.4</b> Readr and data.table</a><ul>
<li class="chapter" data-level="1.4.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#data.table-fread"><i class="fa fa-check"></i><b>1.4.1</b> data.table fread</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#reading-excel-files"><i class="fa fa-check"></i><b>1.5</b> Reading Excel files</a><ul>
<li class="chapter" data-level="1.5.1" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#alternatives-for-importing-excel-files"><i class="fa fa-check"></i><b>1.5.1</b> Alternatives for importing Excel files</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="importing-data-part-1.html"><a href="importing-data-part-1.html#xlconnect---read-and-write-to-excel"><i class="fa fa-check"></i><b>1.6</b> XLConnect - read and write to excel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html"><i class="fa fa-check"></i><b>2</b> Importing data - Part 2</a><ul>
<li class="chapter" data-level="2.1" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#importing-from-databases---1"><i class="fa fa-check"></i><b>2.1</b> Importing from Databases - 1</a></li>
<li class="chapter" data-level="2.2" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#sql-queries-inside-r"><i class="fa fa-check"></i><b>2.2</b> SQL Queries Inside R</a></li>
<li class="chapter" data-level="2.3" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#web-data"><i class="fa fa-check"></i><b>2.3</b> Web Data</a></li>
<li class="chapter" data-level="2.4" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#json-and-apis"><i class="fa fa-check"></i><b>2.4</b> JSON and APIs</a></li>
<li class="chapter" data-level="2.5" data-path="importing-data-part-2.html"><a href="importing-data-part-2.html#importing-from-other-statistical-software"><i class="fa fa-check"></i><b>2.5</b> Importing from other statistical software</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="3" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html"><i class="fa fa-check"></i><b>3</b> Joining Data in R with dplyr</a><ul>
<li class="chapter" data-level="3.1" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#mutating-joins"><i class="fa fa-check"></i><b>3.1</b> Mutating joins</a><ul>
<li class="chapter" data-level="3.1.1" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#keys"><i class="fa fa-check"></i><b>3.1.1</b> Keys</a></li>
<li class="chapter" data-level="3.1.2" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#left-and-right-joins"><i class="fa fa-check"></i><b>3.1.2</b> Left and right joins</a></li>
<li class="chapter" data-level="3.1.3" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#inner-and-full-joins"><i class="fa fa-check"></i><b>3.1.3</b> Inner and full joins</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#filtering-joins-and-set-operations"><i class="fa fa-check"></i><b>3.2</b> Filtering joins and set operations</a></li>
<li class="chapter" data-level="3.3" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#set-operations"><i class="fa fa-check"></i><b>3.3</b> Set Operations</a></li>
<li class="chapter" data-level="3.4" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#bind-in-dplyr"><i class="fa fa-check"></i><b>3.4</b> Bind in Dplyr</a><ul>
<li class="chapter" data-level="3.4.1" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#data-frames"><i class="fa fa-check"></i><b>3.4.1</b> Data frames</a></li>
<li class="chapter" data-level="3.4.2" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#data-types"><i class="fa fa-check"></i><b>3.4.2</b> Data Types</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#advanced-joining"><i class="fa fa-check"></i><b>3.5</b> Advanced Joining</a></li>
<li class="chapter" data-level="3.6" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#joining-mutiple-tables"><i class="fa fa-check"></i><b>3.6</b> Joining mutiple tables</a></li>
<li class="chapter" data-level="3.7" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#other-implentations"><i class="fa fa-check"></i><b>3.7</b> Other implentations</a></li>
<li class="chapter" data-level="3.8" data-path="joining-data-in-r-with-dplyr.html"><a href="joining-data-in-r-with-dplyr.html#case-study---lahman-db"><i class="fa fa-check"></i><b>3.8</b> Case Study - Lahman DB</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="cleaning-data.html"><a href="cleaning-data.html"><i class="fa fa-check"></i><b>4</b> Cleaning Data</a><ul>
<li class="chapter" data-level="4.1" data-path="cleaning-data.html"><a href="cleaning-data.html#tidying-data"><i class="fa fa-check"></i><b>4.1</b> Tidying data</a></li>
<li class="chapter" data-level="4.2" data-path="cleaning-data.html"><a href="cleaning-data.html#preparing-data-for-analysis"><i class="fa fa-check"></i><b>4.2</b> Preparing data for analysis</a></li>
<li class="chapter" data-level="4.3" data-path="cleaning-data.html"><a href="cleaning-data.html#string-manipulation"><i class="fa fa-check"></i><b>4.3</b> String manipulation</a></li>
<li class="chapter" data-level="4.4" data-path="cleaning-data.html"><a href="cleaning-data.html#missing-specials-and-outliers"><i class="fa fa-check"></i><b>4.4</b> Missing, Specials and Outliers</a></li>
<li class="chapter" data-level="4.5" data-path="cleaning-data.html"><a href="cleaning-data.html#examples"><i class="fa fa-check"></i><b>4.5</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html"><i class="fa fa-check"></i><b>5</b> Importing &amp; Cleaning Data in R: Case Studies</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#ticket-sales-data"><i class="fa fa-check"></i><b>5.1</b> Ticket Sales Data</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#removing-redundant-info"><i class="fa fa-check"></i><b>5.1.1</b> Removing redundant info</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#working-with-dates"><i class="fa fa-check"></i><b>5.2</b> Working with dates</a></li>
<li class="chapter" data-level="5.3" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#mbta-ridership-data"><i class="fa fa-check"></i><b>5.3</b> MBTA Ridership Data</a></li>
<li class="chapter" data-level="5.4" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#world-food-facts"><i class="fa fa-check"></i><b>5.4</b> World Food Facts</a></li>
<li class="chapter" data-level="5.5" data-path="importing-cleaning-data-in-r-case-studies.html"><a href="importing-cleaning-data-in-r-case-studies.html#school-attendance-data"><i class="fa fa-check"></i><b>5.5</b> School Attendance Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-data.html"><a href="introduction-to-data.html"><i class="fa fa-check"></i><b>6</b> Introduction to Data</a><ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#language-of-data"><i class="fa fa-check"></i><b>6.1</b> Language of Data</a></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#observational-studies-and-experiments"><i class="fa fa-check"></i><b>6.2</b> Observational Studies and Experiments</a></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#sampling-strategies-and-experimental-design"><i class="fa fa-check"></i><b>6.3</b> Sampling strategies and experimental design</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html"><i class="fa fa-check"></i><b>7</b> Foundations of Inference</a><ul>
<li class="chapter" data-level="7.1" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#introduction-to-inference"><i class="fa fa-check"></i><b>7.1</b> Introduction to Inference</a></li>
<li class="chapter" data-level="7.2" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#home-ownership-by-gender"><i class="fa fa-check"></i><b>7.2</b> Home Ownership by Gender</a></li>
<li class="chapter" data-level="7.3" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#density-plots"><i class="fa fa-check"></i><b>7.3</b> Density Plots</a></li>
<li class="chapter" data-level="7.4" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#gender-discrimination-p-values"><i class="fa fa-check"></i><b>7.4</b> Gender Discrimination (p-values)</a></li>
<li class="chapter" data-level="7.5" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#opportunity-cost"><i class="fa fa-check"></i><b>7.5</b> Opportunity Cost</a></li>
<li class="chapter" data-level="7.6" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#type-i-and-type-ii-errors"><i class="fa fa-check"></i><b>7.6</b> Type I and Type II errors</a></li>
<li class="chapter" data-level="7.7" data-path="foundations-of-inference.html"><a href="foundations-of-inference.html#bootstrapping"><i class="fa fa-check"></i><b>7.7</b> Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>8</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="8.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#categorical-data"><i class="fa fa-check"></i><b>8.1</b> Categorical Data</a></li>
<li class="chapter" data-level="8.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#numerical-data"><i class="fa fa-check"></i><b>8.2</b> Numerical Data</a></li>
<li class="chapter" data-level="8.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#numerical-summaries"><i class="fa fa-check"></i><b>8.3</b> Numerical Summaries</a><ul>
<li class="chapter" data-level="8.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#transformations"><i class="fa fa-check"></i><b>8.3.1</b> Transformations</a></li>
<li class="chapter" data-level="8.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#outliers"><i class="fa fa-check"></i><b>8.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#email-case-study"><i class="fa fa-check"></i><b>8.4</b> Email Case Study</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html"><i class="fa fa-check"></i><b>9</b> Correlation and Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#visualizing-two-variables"><i class="fa fa-check"></i><b>9.1</b> Visualizing two variables</a><ul>
<li class="chapter" data-level="9.1.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#transformations-1"><i class="fa fa-check"></i><b>9.1.1</b> Transformations</a></li>
<li class="chapter" data-level="9.1.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#identifying-outliers"><i class="fa fa-check"></i><b>9.1.2</b> Identifying Outliers</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#correlation"><i class="fa fa-check"></i><b>9.2</b> Correlation</a><ul>
<li class="chapter" data-level="9.2.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#anscombe-dataset"><i class="fa fa-check"></i><b>9.2.1</b> Anscombe Dataset</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#linear-regression"><i class="fa fa-check"></i><b>9.3</b> Linear Regression</a><ul>
<li class="chapter" data-level="9.3.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>9.3.1</b> Regression to the Mean</a></li>
<li class="chapter" data-level="9.3.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#fitting-linear-models"><i class="fa fa-check"></i><b>9.3.2</b> Fitting linear models</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#model-fit"><i class="fa fa-check"></i><b>9.4</b> Model fit</a><ul>
<li class="chapter" data-level="9.4.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#unusual-points"><i class="fa fa-check"></i><b>9.4.1</b> Unusual points</a></li>
<li class="chapter" data-level="9.4.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#high-leverage-points"><i class="fa fa-check"></i><b>9.4.2</b> High leverage Points</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>10</b> Supervised Learning</a><ul>
<li class="chapter" data-level="10.1" data-path="supervised-learning.html"><a href="supervised-learning.html#tree-based-models"><i class="fa fa-check"></i><b>10.1</b> Tree Based Models</a><ul>
<li class="chapter" data-level="10.1.1" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forests"><i class="fa fa-check"></i><b>10.1.1</b> Random Forests</a></li>
<li class="chapter" data-level="10.1.2" data-path="supervised-learning.html"><a href="supervised-learning.html#one-hot-encoding-categorical-variables"><i class="fa fa-check"></i><b>10.1.2</b> One-Hot-Encoding Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="supervised-learning.html"><a href="supervised-learning.html#gradient-boosting-machines"><i class="fa fa-check"></i><b>10.2</b> Gradient Boosting Machines</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html"><i class="fa fa-check"></i><b>11</b> Dimensional Modelling</a><ul>
<li class="chapter" data-level="11.1" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#introduction-to-dimensional-data"><i class="fa fa-check"></i><b>11.1</b> Introduction to Dimensional Data</a><ul>
<li class="chapter" data-level="11.1.1" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#data-modelling-levels"><i class="fa fa-check"></i><b>11.1.1</b> Data Modelling levels</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#architecture-considerations"><i class="fa fa-check"></i><b>11.2</b> Architecture considerations</a></li>
<li class="chapter" data-level="11.3" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#graphical-representations"><i class="fa fa-check"></i><b>11.3</b> Graphical Representations</a></li>
<li class="chapter" data-level="11.4" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#kimball-approach"><i class="fa fa-check"></i><b>11.4</b> Kimball Approach</a></li>
<li class="chapter" data-level="11.5" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#four-step-dimensional-design-process"><i class="fa fa-check"></i><b>11.5</b> Four-Step Dimensional Design Process</a></li>
<li class="chapter" data-level="11.6" data-path="dimensional-modelling.html"><a href="dimensional-modelling.html#tips"><i class="fa fa-check"></i><b>11.6</b> Tips</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-3.html"><a href="references-3.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Study notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-cleaning-data-in-r-case-studies" class="section level1">
<h1><span class="header-section-number">5</span> Importing &amp; Cleaning Data in R: Case Studies</h1>
<hr />
<p>Notes taken during/inspired by the Datacamp course ‘Importing &amp; Cleaning Data in R: Case Studies’ by Nick Carchedi.</p>
<div id="ticket-sales-data" class="section level2">
<h2><span class="header-section-number">5.1</span> Ticket Sales Data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import sales.csv: sales</span>
sales &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://assets.datacamp.com/production/course_1294/datasets/sales.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># View dimensions of sales</span>
<span class="kw">dim</span>(sales)</code></pre></div>
<pre><code>## [1] 5000   46</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Inspect first 6 rows of sales</span>
<span class="kw">head</span>(sales, <span class="dt">n =</span> <span class="dv">6</span>)</code></pre></div>
<pre><code>##   X             event_id       primary_act_id     secondary_act_id
## 1 1 abcaf1adb99a935fc661 43f0436b905bfa7c2eec b85143bf51323b72e53c
## 2 2 6c56d7f08c95f2aa453c 1a3e9aecd0617706a794 f53529c5679ea6ca5a48
## 3 3 c7ab4524a121f9d687d2 4b677c3f5bec71eec8d1 b85143bf51323b72e53c
## 4 4 394cb493f893be9b9ed1 b1ccea01ad6ef8522796 b85143bf51323b72e53c
## 5 5 55b5f67e618557929f48 91c03a34b562436efa3c b85143bf51323b72e53c
## 6 6 4f10fd8b9f550352bd56 ac4b847b3fde66f2117e 63814f3d63317f1b56c4
##    purch_party_lkup_id
## 1 7dfa56dd7d5956b17587
## 2 4f9e6fc637eaf7b736c2
## 3 6c2545703bd527a7144d
## 4 527d6b1eaffc69ddd882
## 5 8bd62c394a35213bdf52
## 6 3b3a628f83135acd0676
##                                                       event_name
## 1 Xfinity Center Mansfield Premier Parking: Florida Georgia Line
## 2                  Gorge Camping - dave matthews band - sept 3-7
## 3                    Dodge Theatre Adams Street Parking - benise
## 4   Gexa Energy Pavilion Vip Parking : kid rock with sheryl crow
## 5                                  Premier Parking - motley crue
## 6                                      Fast Lane Access: Journey
##                           primary_act_name secondary_act_name
## 1 XFINITY Center Mansfield Premier Parking               NULL
## 2                            Gorge Camping Dave Matthews Band
## 3                            Parking Event               NULL
## 4         Gexa Energy Pavilion VIP Parking               NULL
## 5 White River Amphitheatre Premier Parking               NULL
## 6                         Fast Lane Access            Journey
##   major_cat_name         minor_cat_name la_event_type_cat
## 1           MISC                PARKING           PARKING
## 2           MISC                CAMPING           INVALID
## 3           MISC                PARKING           PARKING
## 4           MISC                PARKING           PARKING
## 5           MISC                PARKING           PARKING
## 6           MISC SPECIAL ENTRY (UPSELL)            UPSELL
##                                                  event_disp_name
## 1 Xfinity Center Mansfield Premier Parking: Florida Georgia Line
## 2                  Gorge Camping - dave matthews band - sept 3-7
## 3                    Dodge Theatre Adams Street Parking - benise
## 4   Gexa Energy Pavilion Vip Parking : kid rock with sheryl crow
## 5                                  Premier Parking - motley crue
## 6                                      Fast Lane Access: Journey
##                                                                                                                                                    ticket_text
## 1    THIS TICKET IS VALID        FOR PARKING ONLY         GOOD THIS DAY ONLY       PREMIER PARKING PASS    XFINITY CENTER,LOTS 4 PM  SAT SEP 12 2015 7:30 PM  
## 2                                                                %OVERNIGHT C A M P I N G%* * * * * *%GORGE CAMPGROUND%* GOOD THIS DATE ONLY *%SEP 3 - 6, 2009
## 3                               ADAMS STREET GARAGE%PARKING FOR 4/21/06 ONLY%DODGE THEATRE PARKING PASS%ENTRANCE ON ADAMS STREET%BENISE%GARAGE OPENS AT 6:00PM
## 4    THIS TICKET IS VALID        FOR PARKING ONLY      GOOD FOR THIS DATE ONLY       VIP PARKING PASS        GEXA ENERGY PAVILION    FRI SEP 02 2011 7:00 PM  
## 5                              THIS TICKET IS VALID%FOR PARKING ONLY%GOOD THIS DATE ONLY%PREMIER PARKING PASS%WHITE RIVER AMPHITHEATRE%SAT JUL 30, 2005 6:00PM
## 6         FAST LANE                  JOURNEY               FAST LANE EVENT         THIS IS NOT A TICKET    SAN MANUEL AMPHITHEATER   SAT JUL 21 2012 7:00 PM  
##   tickets_purchased_qty trans_face_val_amt delivery_type_cd
## 1                     1                 45          eTicket
## 2                     1                 75       TicketFast
## 3                     1                  5       TicketFast
## 4                     1                 20             Mail
## 5                     1                 20             Mail
## 6                     2                 10       TicketFast
##       event_date_time   event_dt presale_dt  onsale_dt
## 1 2015-09-12 23:30:00 2015-09-12       NULL 2015-05-15
## 2 2009-09-05 01:00:00 2009-09-04       NULL 2009-03-13
## 3 2006-04-22 01:30:00 2006-04-21       NULL 2006-02-25
## 4 2011-09-03 00:00:00 2011-09-02       NULL 2011-04-22
## 5 2005-07-31 01:00:00 2005-07-30 2005-03-02 2005-03-04
## 6 2012-07-22 02:00:00 2012-07-21       NULL 2012-04-11
##   sales_ord_create_dttm sales_ord_tran_dt   print_dt timezn_nm
## 1   2015-09-11 18:17:45        2015-09-11 2015-09-12       EST
## 2   2009-07-06 00:00:00        2009-07-05 2009-09-01       PST
## 3   2006-04-05 00:00:00        2006-04-05 2006-04-05       MST
## 4   2011-07-01 17:38:50        2011-07-01 2011-07-06       CST
## 5   2005-06-18 00:00:00        2005-06-18 2005-06-28       PST
## 6   2012-07-21 17:20:18        2012-07-21 2012-07-21       PST
##       venue_city   venue_state venue_postal_cd_sgmt_1
## 1      MANSFIELD MASSACHUSETTS                  02048
## 2         QUINCY    WASHINGTON                  98848
## 3        PHOENIX       ARIZONA                  85003
## 4         DALLAS         TEXAS                  75210
## 5         AUBURN    WASHINGTON                  98092
## 6 SAN BERNARDINO    CALIFORNIA                  92407
##             sales_platform_cd print_flg la_valid_tkt_event_flg  fin_mkt_nm
## 1 www.concerts.livenation.com        T                      N       Boston
## 2                        NULL        T                      N      Seattle
## 3                        NULL        T                      N      Arizona
## 4                        NULL        T                      N       Dallas
## 5                        NULL        T                      N      Seattle
## 6          www.livenation.com        T                      N  Los Angeles
##   web_session_cookie_val gndr_cd age_yr income_amt edu_val
## 1   7dfa56dd7d5956b17587    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
## 2   4f9e6fc637eaf7b736c2    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
## 3   6c2545703bd527a7144d    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
## 4   527d6b1eaffc69ddd882    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
## 5   8bd62c394a35213bdf52    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
## 6   3b3a628f83135acd0676    &lt;NA&gt;   &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
##   edu_1st_indv_val edu_2nd_indv_val adults_in_hh_num married_ind
## 1             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
## 2             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
## 3             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
## 4             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
## 5             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
## 6             &lt;NA&gt;             &lt;NA&gt;             &lt;NA&gt;        &lt;NA&gt;
##   child_present_ind home_owner_ind occpn_val occpn_1st_val occpn_2nd_val
## 1              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
## 2              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
## 3              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
## 4              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
## 5              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
## 6              &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;
##   dist_to_ven
## 1          NA
## 2          59
## 3          NA
## 4          NA
## 5          NA
## 6          NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View column names of sales</span>
<span class="kw">names</span>(sales)</code></pre></div>
<pre><code>##  [1] &quot;X&quot;                      &quot;event_id&quot;              
##  [3] &quot;primary_act_id&quot;         &quot;secondary_act_id&quot;      
##  [5] &quot;purch_party_lkup_id&quot;    &quot;event_name&quot;            
##  [7] &quot;primary_act_name&quot;       &quot;secondary_act_name&quot;    
##  [9] &quot;major_cat_name&quot;         &quot;minor_cat_name&quot;        
## [11] &quot;la_event_type_cat&quot;      &quot;event_disp_name&quot;       
## [13] &quot;ticket_text&quot;            &quot;tickets_purchased_qty&quot; 
## [15] &quot;trans_face_val_amt&quot;     &quot;delivery_type_cd&quot;      
## [17] &quot;event_date_time&quot;        &quot;event_dt&quot;              
## [19] &quot;presale_dt&quot;             &quot;onsale_dt&quot;             
## [21] &quot;sales_ord_create_dttm&quot;  &quot;sales_ord_tran_dt&quot;     
## [23] &quot;print_dt&quot;               &quot;timezn_nm&quot;             
## [25] &quot;venue_city&quot;             &quot;venue_state&quot;           
## [27] &quot;venue_postal_cd_sgmt_1&quot; &quot;sales_platform_cd&quot;     
## [29] &quot;print_flg&quot;              &quot;la_valid_tkt_event_flg&quot;
## [31] &quot;fin_mkt_nm&quot;             &quot;web_session_cookie_val&quot;
## [33] &quot;gndr_cd&quot;                &quot;age_yr&quot;                
## [35] &quot;income_amt&quot;             &quot;edu_val&quot;               
## [37] &quot;edu_1st_indv_val&quot;       &quot;edu_2nd_indv_val&quot;      
## [39] &quot;adults_in_hh_num&quot;       &quot;married_ind&quot;           
## [41] &quot;child_present_ind&quot;      &quot;home_owner_ind&quot;        
## [43] &quot;occpn_val&quot;              &quot;occpn_1st_val&quot;         
## [45] &quot;occpn_2nd_val&quot;          &quot;dist_to_ven&quot;</code></pre>
<p>Luckily, the rows and columns appear to be arranged in a meaningful way: each row represents an observation and each column a variable, or piece of information about that observation.</p>
<p>In R, there are a great many tools at your disposal to help get a feel for your data. Besides the three you used in the previous exercise, the functions str() and summary() can be very helpful.</p>
<p>The dplyr package, introduced in Cleaning Data in R, offers the glimpse() function, which can also be used for this purpose. The package is already installed on DataCamp; you just need to load it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look at structure of sales</span>
<span class="kw">str</span>(sales)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5000 obs. of  46 variables:
##  $ X                     : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ event_id              : chr  &quot;abcaf1adb99a935fc661&quot; &quot;6c56d7f08c95f2aa453c&quot; &quot;c7ab4524a121f9d687d2&quot; &quot;394cb493f893be9b9ed1&quot; ...
##  $ primary_act_id        : chr  &quot;43f0436b905bfa7c2eec&quot; &quot;1a3e9aecd0617706a794&quot; &quot;4b677c3f5bec71eec8d1&quot; &quot;b1ccea01ad6ef8522796&quot; ...
##  $ secondary_act_id      : chr  &quot;b85143bf51323b72e53c&quot; &quot;f53529c5679ea6ca5a48&quot; &quot;b85143bf51323b72e53c&quot; &quot;b85143bf51323b72e53c&quot; ...
##  $ purch_party_lkup_id   : chr  &quot;7dfa56dd7d5956b17587&quot; &quot;4f9e6fc637eaf7b736c2&quot; &quot;6c2545703bd527a7144d&quot; &quot;527d6b1eaffc69ddd882&quot; ...
##  $ event_name            : chr  &quot;Xfinity Center Mansfield Premier Parking: Florida Georgia Line&quot; &quot;Gorge Camping - dave matthews band - sept 3-7&quot; &quot;Dodge Theatre Adams Street Parking - benise&quot; &quot;Gexa Energy Pavilion Vip Parking : kid rock with sheryl crow&quot; ...
##  $ primary_act_name      : chr  &quot;XFINITY Center Mansfield Premier Parking&quot; &quot;Gorge Camping&quot; &quot;Parking Event&quot; &quot;Gexa Energy Pavilion VIP Parking&quot; ...
##  $ secondary_act_name    : chr  &quot;NULL&quot; &quot;Dave Matthews Band&quot; &quot;NULL&quot; &quot;NULL&quot; ...
##  $ major_cat_name        : chr  &quot;MISC&quot; &quot;MISC&quot; &quot;MISC&quot; &quot;MISC&quot; ...
##  $ minor_cat_name        : chr  &quot;PARKING&quot; &quot;CAMPING&quot; &quot;PARKING&quot; &quot;PARKING&quot; ...
##  $ la_event_type_cat     : chr  &quot;PARKING&quot; &quot;INVALID&quot; &quot;PARKING&quot; &quot;PARKING&quot; ...
##  $ event_disp_name       : chr  &quot;Xfinity Center Mansfield Premier Parking: Florida Georgia Line&quot; &quot;Gorge Camping - dave matthews band - sept 3-7&quot; &quot;Dodge Theatre Adams Street Parking - benise&quot; &quot;Gexa Energy Pavilion Vip Parking : kid rock with sheryl crow&quot; ...
##  $ ticket_text           : chr  &quot;   THIS TICKET IS VALID        FOR PARKING ONLY         GOOD THIS DAY ONLY       PREMIER PARKING PASS    XFINIT&quot;| __truncated__ &quot;%OVERNIGHT C A M P I N G%* * * * * *%GORGE CAMPGROUND%* GOOD THIS DATE ONLY *%SEP 3 - 6, 2009&quot; &quot;ADAMS STREET GARAGE%PARKING FOR 4/21/06 ONLY%DODGE THEATRE PARKING PASS%ENTRANCE ON ADAMS STREET%BENISE%GARAGE OPENS AT 6:00PM&quot; &quot;   THIS TICKET IS VALID        FOR PARKING ONLY      GOOD FOR THIS DATE ONLY       VIP PARKING PASS        GEXA&quot;| __truncated__ ...
##  $ tickets_purchased_qty : int  1 1 1 1 1 2 1 1 1 1 ...
##  $ trans_face_val_amt    : num  45 75 5 20 20 10 30 28 20 25 ...
##  $ delivery_type_cd      : chr  &quot;eTicket&quot; &quot;TicketFast&quot; &quot;TicketFast&quot; &quot;Mail&quot; ...
##  $ event_date_time       : chr  &quot;2015-09-12 23:30:00&quot; &quot;2009-09-05 01:00:00&quot; &quot;2006-04-22 01:30:00&quot; &quot;2011-09-03 00:00:00&quot; ...
##  $ event_dt              : chr  &quot;2015-09-12&quot; &quot;2009-09-04&quot; &quot;2006-04-21&quot; &quot;2011-09-02&quot; ...
##  $ presale_dt            : chr  &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot; ...
##  $ onsale_dt             : chr  &quot;2015-05-15&quot; &quot;2009-03-13&quot; &quot;2006-02-25&quot; &quot;2011-04-22&quot; ...
##  $ sales_ord_create_dttm : chr  &quot;2015-09-11 18:17:45&quot; &quot;2009-07-06 00:00:00&quot; &quot;2006-04-05 00:00:00&quot; &quot;2011-07-01 17:38:50&quot; ...
##  $ sales_ord_tran_dt     : chr  &quot;2015-09-11&quot; &quot;2009-07-05&quot; &quot;2006-04-05&quot; &quot;2011-07-01&quot; ...
##  $ print_dt              : chr  &quot;2015-09-12&quot; &quot;2009-09-01&quot; &quot;2006-04-05&quot; &quot;2011-07-06&quot; ...
##  $ timezn_nm             : chr  &quot;EST&quot; &quot;PST&quot; &quot;MST&quot; &quot;CST&quot; ...
##  $ venue_city            : chr  &quot;MANSFIELD&quot; &quot;QUINCY&quot; &quot;PHOENIX&quot; &quot;DALLAS&quot; ...
##  $ venue_state           : chr  &quot;MASSACHUSETTS&quot; &quot;WASHINGTON&quot; &quot;ARIZONA&quot; &quot;TEXAS&quot; ...
##  $ venue_postal_cd_sgmt_1: chr  &quot;02048&quot; &quot;98848&quot; &quot;85003&quot; &quot;75210&quot; ...
##  $ sales_platform_cd     : chr  &quot;www.concerts.livenation.com&quot; &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot; ...
##  $ print_flg             : chr  &quot;T &quot; &quot;T &quot; &quot;T &quot; &quot;T &quot; ...
##  $ la_valid_tkt_event_flg: chr  &quot;N &quot; &quot;N &quot; &quot;N &quot; &quot;N &quot; ...
##  $ fin_mkt_nm            : chr  &quot;Boston&quot; &quot;Seattle&quot; &quot;Arizona&quot; &quot;Dallas&quot; ...
##  $ web_session_cookie_val: chr  &quot;7dfa56dd7d5956b17587&quot; &quot;4f9e6fc637eaf7b736c2&quot; &quot;6c2545703bd527a7144d&quot; &quot;527d6b1eaffc69ddd882&quot; ...
##  $ gndr_cd               : chr  NA NA NA NA ...
##  $ age_yr                : chr  NA NA NA NA ...
##  $ income_amt            : chr  NA NA NA NA ...
##  $ edu_val               : chr  NA NA NA NA ...
##  $ edu_1st_indv_val      : chr  NA NA NA NA ...
##  $ edu_2nd_indv_val      : chr  NA NA NA NA ...
##  $ adults_in_hh_num      : chr  NA NA NA NA ...
##  $ married_ind           : chr  NA NA NA NA ...
##  $ child_present_ind     : chr  NA NA NA NA ...
##  $ home_owner_ind        : chr  NA NA NA NA ...
##  $ occpn_val             : chr  NA NA NA NA ...
##  $ occpn_1st_val         : chr  NA NA NA NA ...
##  $ occpn_2nd_val         : chr  NA NA NA NA ...
##  $ dist_to_ven           : int  NA 59 NA NA NA NA NA NA NA NA ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View a summary of sales</span>
<span class="kw">summary</span>(sales)</code></pre></div>
<pre><code>##        X          event_id         primary_act_id     secondary_act_id  
##  Min.   :   1   Length:5000        Length:5000        Length:5000       
##  1st Qu.:1251   Class :character   Class :character   Class :character  
##  Median :2500   Mode  :character   Mode  :character   Mode  :character  
##  Mean   :2500                                                           
##  3rd Qu.:3750                                                           
##  Max.   :5000                                                           
##                                                                         
##  purch_party_lkup_id  event_name        primary_act_name  
##  Length:5000         Length:5000        Length:5000       
##  Class :character    Class :character   Class :character  
##  Mode  :character    Mode  :character   Mode  :character  
##                                                           
##                                                           
##                                                           
##                                                           
##  secondary_act_name major_cat_name     minor_cat_name    
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  la_event_type_cat  event_disp_name    ticket_text       
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  tickets_purchased_qty trans_face_val_amt delivery_type_cd  
##  Min.   :1.000         Min.   :   1.00    Length:5000       
##  1st Qu.:1.000         1st Qu.:  20.00    Class :character  
##  Median :1.000         Median :  30.00    Mode  :character  
##  Mean   :1.639         Mean   :  77.08                      
##  3rd Qu.:2.000         3rd Qu.:  85.00                      
##  Max.   :8.000         Max.   :1520.88                      
##                                                             
##  event_date_time      event_dt          presale_dt       
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##   onsale_dt         sales_ord_create_dttm sales_ord_tran_dt 
##  Length:5000        Length:5000           Length:5000       
##  Class :character   Class :character      Class :character  
##  Mode  :character   Mode  :character      Mode  :character  
##                                                             
##                                                             
##                                                             
##                                                             
##    print_dt          timezn_nm          venue_city       
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  venue_state        venue_postal_cd_sgmt_1 sales_platform_cd 
##  Length:5000        Length:5000            Length:5000       
##  Class :character   Class :character       Class :character  
##  Mode  :character   Mode  :character       Mode  :character  
##                                                              
##                                                              
##                                                              
##                                                              
##   print_flg         la_valid_tkt_event_flg  fin_mkt_nm       
##  Length:5000        Length:5000            Length:5000       
##  Class :character   Class :character       Class :character  
##  Mode  :character   Mode  :character       Mode  :character  
##                                                              
##                                                              
##                                                              
##                                                              
##  web_session_cookie_val   gndr_cd             age_yr         
##  Length:5000            Length:5000        Length:5000       
##  Class :character       Class :character   Class :character  
##  Mode  :character       Mode  :character   Mode  :character  
##                                                              
##                                                              
##                                                              
##                                                              
##   income_amt          edu_val          edu_1st_indv_val  
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  edu_2nd_indv_val   adults_in_hh_num   married_ind       
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  child_present_ind  home_owner_ind      occpn_val        
##  Length:5000        Length:5000        Length:5000       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  occpn_1st_val      occpn_2nd_val       dist_to_ven    
##  Length:5000        Length:5000        Min.   :   0.0  
##  Class :character   Class :character   1st Qu.:  12.0  
##  Mode  :character   Mode  :character   Median :  26.0  
##                                        Mean   : 158.2  
##                                        3rd Qu.:  77.5  
##                                        Max.   :2548.0  
##                                        NA&#39;s   :4677</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load dplyr</span>
<span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get a glimpse of sales</span>
<span class="kw">glimpse</span>(sales)</code></pre></div>
<pre><code>## Observations: 5,000
## Variables: 46
## $ X                      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, ...
## $ event_id               &lt;chr&gt; &quot;abcaf1adb99a935fc661&quot;, &quot;6c56d7f08c95f2...
## $ primary_act_id         &lt;chr&gt; &quot;43f0436b905bfa7c2eec&quot;, &quot;1a3e9aecd06177...
## $ secondary_act_id       &lt;chr&gt; &quot;b85143bf51323b72e53c&quot;, &quot;f53529c5679ea6...
## $ purch_party_lkup_id    &lt;chr&gt; &quot;7dfa56dd7d5956b17587&quot;, &quot;4f9e6fc637eaf7...
## $ event_name             &lt;chr&gt; &quot;Xfinity Center Mansfield Premier Parki...
## $ primary_act_name       &lt;chr&gt; &quot;XFINITY Center Mansfield Premier Parki...
## $ secondary_act_name     &lt;chr&gt; &quot;NULL&quot;, &quot;Dave Matthews Band&quot;, &quot;NULL&quot;, &quot;...
## $ major_cat_name         &lt;chr&gt; &quot;MISC&quot;, &quot;MISC&quot;, &quot;MISC&quot;, &quot;MISC&quot;, &quot;MISC&quot;,...
## $ minor_cat_name         &lt;chr&gt; &quot;PARKING&quot;, &quot;CAMPING&quot;, &quot;PARKING&quot;, &quot;PARKI...
## $ la_event_type_cat      &lt;chr&gt; &quot;PARKING&quot;, &quot;INVALID&quot;, &quot;PARKING&quot;, &quot;PARKI...
## $ event_disp_name        &lt;chr&gt; &quot;Xfinity Center Mansfield Premier Parki...
## $ ticket_text            &lt;chr&gt; &quot;   THIS TICKET IS VALID        FOR PAR...
## $ tickets_purchased_qty  &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 4, ...
## $ trans_face_val_amt     &lt;dbl&gt; 45, 75, 5, 20, 20, 10, 30, 28, 20, 25, ...
## $ delivery_type_cd       &lt;chr&gt; &quot;eTicket&quot;, &quot;TicketFast&quot;, &quot;TicketFast&quot;, ...
## $ event_date_time        &lt;chr&gt; &quot;2015-09-12 23:30:00&quot;, &quot;2009-09-05 01:0...
## $ event_dt               &lt;chr&gt; &quot;2015-09-12&quot;, &quot;2009-09-04&quot;, &quot;2006-04-21...
## $ presale_dt             &lt;chr&gt; &quot;NULL&quot;, &quot;NULL&quot;, &quot;NULL&quot;, &quot;NULL&quot;, &quot;2005-0...
## $ onsale_dt              &lt;chr&gt; &quot;2015-05-15&quot;, &quot;2009-03-13&quot;, &quot;2006-02-25...
## $ sales_ord_create_dttm  &lt;chr&gt; &quot;2015-09-11 18:17:45&quot;, &quot;2009-07-06 00:0...
## $ sales_ord_tran_dt      &lt;chr&gt; &quot;2015-09-11&quot;, &quot;2009-07-05&quot;, &quot;2006-04-05...
## $ print_dt               &lt;chr&gt; &quot;2015-09-12&quot;, &quot;2009-09-01&quot;, &quot;2006-04-05...
## $ timezn_nm              &lt;chr&gt; &quot;EST&quot;, &quot;PST&quot;, &quot;MST&quot;, &quot;CST&quot;, &quot;PST&quot;, &quot;PST...
## $ venue_city             &lt;chr&gt; &quot;MANSFIELD&quot;, &quot;QUINCY&quot;, &quot;PHOENIX&quot;, &quot;DALL...
## $ venue_state            &lt;chr&gt; &quot;MASSACHUSETTS&quot;, &quot;WASHINGTON&quot;, &quot;ARIZONA...
## $ venue_postal_cd_sgmt_1 &lt;chr&gt; &quot;02048&quot;, &quot;98848&quot;, &quot;85003&quot;, &quot;75210&quot;, &quot;98...
## $ sales_platform_cd      &lt;chr&gt; &quot;www.concerts.livenation.com&quot;, &quot;NULL&quot;, ...
## $ print_flg              &lt;chr&gt; &quot;T &quot;, &quot;T &quot;, &quot;T &quot;, &quot;T &quot;, &quot;T &quot;, &quot;T &quot;, &quot;T ...
## $ la_valid_tkt_event_flg &lt;chr&gt; &quot;N &quot;, &quot;N &quot;, &quot;N &quot;, &quot;N &quot;, &quot;N &quot;, &quot;N &quot;, &quot;N ...
## $ fin_mkt_nm             &lt;chr&gt; &quot;Boston&quot;, &quot;Seattle&quot;, &quot;Arizona&quot;, &quot;Dallas...
## $ web_session_cookie_val &lt;chr&gt; &quot;7dfa56dd7d5956b17587&quot;, &quot;4f9e6fc637eaf7...
## $ gndr_cd                &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;M&quot;, NA, NA, NA...
## $ age_yr                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;28&quot;, NA, NA, N...
## $ income_amt             &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;112500&quot;, NA, N...
## $ edu_val                &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;High School&quot;, ...
## $ edu_1st_indv_val       &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;High School&quot;, ...
## $ edu_2nd_indv_val       &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;NULL&quot;, NA, NA,...
## $ adults_in_hh_num       &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;4&quot;, NA, NA, NA...
## $ married_ind            &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;0&quot;, NA, NA, NA...
## $ child_present_ind      &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;1&quot;, NA, NA, NA...
## $ home_owner_ind         &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;0&quot;, NA, NA, NA...
## $ occpn_val              &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;NULL&quot;, NA, NA,...
## $ occpn_1st_val          &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;Craftsman Blue...
## $ occpn_2nd_val          &lt;chr&gt; NA, NA, NA, NA, NA, NA, &quot;NULL&quot;, NA, NA,...
## $ dist_to_ven            &lt;int&gt; NA, 59, NA, NA, NA, NA, NA, NA, NA, NA,...</code></pre>
<div id="removing-redundant-info" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Removing redundant info</h3>
<p>The first column of data is just a duplication of the row numbers. Not very useful. Go ahead and delete that column.</p>
<p>Remember that nrow() and ncol() return the number of rows and columns in a data frame, respectively.</p>
<p>Also, recall that you can use square brackets to subset a data frame as follows:</p>
<blockquote>
<p>my_df[1:5, ] # First 5 rows of my_df</p>
</blockquote>
<blockquote>
<p>my_df[, 4] # Fourth column of my_df</p>
</blockquote>
<p>Alternatively, you can remove rows and columns using negative indices. For example:</p>
<blockquote>
<p>my_df[-(1:5), ] # Omit first 5 rows of my_df</p>
</blockquote>
<blockquote>
<p>my_df[, -4] # Omit fourth column of my_df</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove the first column of sales: sales2</span>
sales2 &lt;-<span class="st"> </span>sales[, <span class="op">-</span><span class="dv">1</span>]</code></pre></div>
<p>Many of the columns have information that’s of no use to us. For example, the first four columns contain internal codes representing particular events. The last fifteen columns also aren’t worth keeping; there are too many missing values to make them worthwhile.</p>
<p>An easy way to get rid of unnecessary columns is to create a vector containing the column indices you want to keep, then subset the data based on that vector using single bracket subsetting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define a vector of column indices: keep</span>
keep &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span><span class="op">:</span><span class="dv">30</span>)

<span class="co"># Subset sales2 using keep: sales3</span>
sales3 &lt;-<span class="st"> </span>sales2[keep]</code></pre></div>
<p>Some of the columns in your data frame include multiple pieces of information that should be in separate columns. In this exercise, you will separate such a column into two: one for date and one for time. You will use the separate() function from the tidyr package (already installed for you).</p>
<p>For isntance the event_date_time column has a date and time separated by a space. Therefore, you’ll use sep = &quot; &quot; as an argument to separate().</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(sales3<span class="op">$</span>event_date_time)</code></pre></div>
<pre><code>## [1] &quot;2015-09-12 23:30:00&quot; &quot;2009-09-05 01:00:00&quot; &quot;2006-04-22 01:30:00&quot;
## [4] &quot;2011-09-03 00:00:00&quot; &quot;2005-07-31 01:00:00&quot; &quot;2012-07-22 02:00:00&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(sales3<span class="op">$</span>sales_ord_create_dttm)</code></pre></div>
<pre><code>## [1] &quot;2015-09-11 18:17:45&quot; &quot;2009-07-06 00:00:00&quot; &quot;2006-04-05 00:00:00&quot;
## [4] &quot;2011-07-01 17:38:50&quot; &quot;2005-06-18 00:00:00&quot; &quot;2012-07-21 17:20:18&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load tidyr</span>
<span class="kw">library</span>(tidyr)

<span class="co"># Split event_date_time: sales4</span>
sales4 &lt;-<span class="st"> </span><span class="kw">separate</span>(sales3, event_date_time,
                   <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;event_dt&quot;</span>, <span class="st">&quot;event_time&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</code></pre></div>
<p>Looks like that second call to separate() threw a warning. Not to worry; warnings aren’t as bad as error messages. It’s not saying that the command didn’t execute; it’s just a heads-up that something unusual happened.</p>
<p>The warning says Too few values at 4 locations. You may be able to guess already what the issue is, but it’s still good to take a look.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sales3<span class="op">$</span>sales_ord_create_dttm[<span class="kw">c</span>(<span class="dv">2516</span>, <span class="dv">3863</span>, <span class="dv">4082</span>, <span class="dv">4183</span>)]</code></pre></div>
<pre><code>## [1] &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define an issues vector</span>
issues &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2516</span>, <span class="dv">3863</span>, <span class="dv">4082</span>, <span class="dv">4183</span>)

<span class="co"># Print values of sales_ord_create_dttm at these indices</span>
sales3<span class="op">$</span>sales_ord_create_dttm[issues]</code></pre></div>
<pre><code>## [1] &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot; &quot;NULL&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print a well-behaved value of sales_ord_create_dttm</span>
sales3<span class="op">$</span>sales_ord_create_dttm[<span class="dv">2517</span>]</code></pre></div>
<pre><code>## [1] &quot;2013-08-04 23:07:19&quot;</code></pre>
</div>
</div>
<div id="working-with-dates" class="section level2">
<h2><span class="header-section-number">5.2</span> Working with dates</h2>
<p>Some of the columns in your dataset contain dates of different events. Right now, they are stored as character strings. That’s fine if all you want to do is look up the date associated with an event, but if you want to do any comparisons or math with the dates, it’s MUCH easier to store them as Date objects.</p>
<p>Luckily, all of the date columns in this dataset have the substring “dt” in their name, so you can use the str_detect() function of the stringr package to find the date columns. Then you can coerce them to Date objects using a function from the lubridate package.</p>
<p>You’ll use lapply() to apply the appropriate lubridate function to all of the columns that contain dates. Recall the following syntax for lapply() applied to some data frame columns of interest:</p>
<blockquote>
<p>lapply(my_data_frame[, cols], function_name)</p>
</blockquote>
<p>Also recall that function names in lubridate combine the letters y, m, d, h, m, and s depending on the format of the date/time string being read in.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load stringr</span>
<span class="kw">library</span>(stringr)

<span class="co"># Find columns of sales5 containing &quot;dt&quot;: date_cols</span>
date_cols &lt;-<span class="st"> </span><span class="kw">str_detect</span>(<span class="kw">names</span>(sales4),<span class="st">&quot;dt&quot;</span>)

<span class="co"># Load lubridate</span>
<span class="kw">library</span>(lubridate)</code></pre></div>
<pre><code>## Loading required package: methods</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Coerce date columns into Date objects</span>
sales4[, date_cols] &lt;-<span class="st"> </span><span class="kw">lapply</span>(sales4[, date_cols], ymd)</code></pre></div>
<pre><code>## Warning: 2892 failed to parse.</code></pre>
<pre><code>## Warning: 101 failed to parse.</code></pre>
<pre><code>## Warning: All formats failed to parse. No formats found.</code></pre>
<pre><code>## Warning: 424 failed to parse.</code></pre>
<p>Some of the calls to ymd() caused a failure to parse warning. That’s probably because of more missing data, but again, it’s good to check to be sure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## stringr is loaded

<span class="co"># Find date columns (don&#39;t change)</span>
date_cols &lt;-<span class="st"> </span><span class="kw">str_detect</span>(<span class="kw">names</span>(sales4), <span class="st">&quot;dt&quot;</span>)

<span class="co"># Create logical vectors indicating missing values (don&#39;t change)</span>
missing &lt;-<span class="st"> </span><span class="kw">lapply</span>(sales4[, date_cols], is.na)

<span class="co"># Create a numerical vector that counts missing values: num_missing</span>
num_missing &lt;-<span class="st"> </span><span class="kw">sapply</span>(missing, sum)

<span class="co"># Print num_missing</span>
num_missing</code></pre></div>
<pre><code>##              event_dt            event_dt.1            presale_dt 
##                     0                     0                  2892 
##             onsale_dt sales_ord_create_dttm     sales_ord_tran_dt 
##                   101                  5000                     0 
##              print_dt 
##                   424</code></pre>
<p>The number of NAs in each column match the numbers from the warning messages, so missing data is the culprit. How to proceed depends on your desired analysis. If you really need complete sets of date/time information, you might delete the rows or columns containing NAs.</p>
</div>
<div id="mbta-ridership-data" class="section level2">
<h2><span class="header-section-number">5.3</span> MBTA Ridership Data</h2>
<p>The Massachusetts Bay Transportation Authority (“MBTA” or just “the T” for short) manages America’s oldest subway, as well as Greater Boston’s commuter rail, ferry, and bus systems.</p>
<p>It’s your first day on the job as the T’s data analyst and you’ve been tasked with analyzing average ridership through time. You’re in luck, because this chapter of the course will guide you through cleaning a set of MBTA ridership data!</p>
<p>The dataset is stored as an Excel spreadsheet called mbta.xlsx. You’ll use the read_excel() function from Hadley Wickham’s readxl package to import it.</p>
<p>The first time you import a dataset, you might not know how many rows need to be skipped. In this case, the first row is a title (see this Excel screenshot), so you’ll need to skip the first row.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load readxl</span>
<span class="kw">library</span>(readxl)

<span class="co"># Import mbta.xlsx and skip first row: mbta</span>
mbta &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;C:/Users/DEsktop/Nextcloud/Documents/2017/RData/mbta.xlsx&quot;</span>, <span class="dt">skip =</span> <span class="dv">1</span>)

<span class="co"># View the structure of mbta</span>
<span class="kw">str</span>(mbta)</code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    11 obs. of  60 variables:
##  $ X__1   : num  1 2 3 4 5 6 7 8 9 10 ...
##  $ mode   : chr  &quot;All Modes by Qtr&quot; &quot;Boat&quot; &quot;Bus&quot; &quot;Commuter Rail&quot; ...
##  $ 2007-01: chr  &quot;NA&quot; &quot;4&quot; &quot;335.819&quot; &quot;142.2&quot; ...
##  $ 2007-02: chr  &quot;NA&quot; &quot;3.6&quot; &quot;338.675&quot; &quot;138.5&quot; ...
##  $ 2007-03: num  1188 40 340 138 459 ...
##  $ 2007-04: chr  &quot;NA&quot; &quot;4.3&quot; &quot;352.162&quot; &quot;139.5&quot; ...
##  $ 2007-05: chr  &quot;NA&quot; &quot;4.9&quot; &quot;354.367&quot; &quot;139&quot; ...
##  $ 2007-06: num  1246 5.8 350.5 143 477 ...
##  $ 2007-07: chr  &quot;NA&quot; &quot;6.521&quot; &quot;357.519&quot; &quot;142.391&quot; ...
##  $ 2007-08: chr  &quot;NA&quot; &quot;6.572&quot; &quot;355.479&quot; &quot;142.364&quot; ...
##  $ 2007-09: num  1256.57 5.47 372.6 143.05 499.57 ...
##  $ 2007-10: chr  &quot;NA&quot; &quot;5.145&quot; &quot;368.847&quot; &quot;146.542&quot; ...
##  $ 2007-11: chr  &quot;NA&quot; &quot;3.763&quot; &quot;330.826&quot; &quot;145.089&quot; ...
##  $ 2007-12: num  1216.89 2.98 312.92 141.59 448.27 ...
##  $ 2008-01: chr  &quot;NA&quot; &quot;3.175&quot; &quot;340.324&quot; &quot;142.145&quot; ...
##  $ 2008-02: chr  &quot;NA&quot; &quot;3.111&quot; &quot;352.905&quot; &quot;142.607&quot; ...
##  $ 2008-03: num  1253.52 3.51 361.15 137.45 494.05 ...
##  $ 2008-04: chr  &quot;NA&quot; &quot;4.164&quot; &quot;368.189&quot; &quot;140.389&quot; ...
##  $ 2008-05: chr  &quot;NA&quot; &quot;4.015&quot; &quot;363.903&quot; &quot;142.585&quot; ...
##  $ 2008-06: num  1314.82 5.19 362.96 142.06 518.35 ...
##  $ 2008-07: chr  &quot;NA&quot; &quot;6.016&quot; &quot;370.921&quot; &quot;145.731&quot; ...
##  $ 2008-08: chr  &quot;NA&quot; &quot;5.8&quot; &quot;361.057&quot; &quot;144.565&quot; ...
##  $ 2008-09: num  1307.04 4.59 389.54 141.91 517.32 ...
##  $ 2008-10: chr  &quot;NA&quot; &quot;4.285&quot; &quot;357.974&quot; &quot;151.957&quot; ...
##  $ 2008-11: chr  &quot;NA&quot; &quot;3.488&quot; &quot;345.423&quot; &quot;152.952&quot; ...
##  $ 2008-12: num  1232.65 3.01 325.77 140.81 446.74 ...
##  $ 2009-01: chr  &quot;NA&quot; &quot;3.014&quot; &quot;338.532&quot; &quot;141.448&quot; ...
##  $ 2009-02: chr  &quot;NA&quot; &quot;3.196&quot; &quot;360.412&quot; &quot;143.529&quot; ...
##  $ 2009-03: num  1209.79 3.33 353.69 142.89 467.22 ...
##  $ 2009-04: chr  &quot;NA&quot; &quot;4.049&quot; &quot;359.38&quot; &quot;142.34&quot; ...
##  $ 2009-05: chr  &quot;NA&quot; &quot;4.119&quot; &quot;354.75&quot; &quot;144.225&quot; ...
##  $ 2009-06: num  1233.1 4.9 347.9 142 473.1 ...
##  $ 2009-07: chr  &quot;NA&quot; &quot;6.444&quot; &quot;339.477&quot; &quot;137.691&quot; ...
##  $ 2009-08: chr  &quot;NA&quot; &quot;5.903&quot; &quot;332.661&quot; &quot;139.158&quot; ...
##  $ 2009-09: num  1230.5 4.7 374.3 139.1 500.4 ...
##  $ 2009-10: chr  &quot;NA&quot; &quot;4.212&quot; &quot;385.868&quot; &quot;137.104&quot; ...
##  $ 2009-11: chr  &quot;NA&quot; &quot;3.576&quot; &quot;366.98&quot; &quot;129.343&quot; ...
##  $ 2009-12: num  1207.85 3.11 332.39 126.07 440.93 ...
##  $ 2010-01: chr  &quot;NA&quot; &quot;3.207&quot; &quot;362.226&quot; &quot;130.91&quot; ...
##  $ 2010-02: chr  &quot;NA&quot; &quot;3.195&quot; &quot;361.138&quot; &quot;131.918&quot; ...
##  $ 2010-03: num  1208.86 3.48 373.44 131.25 483.4 ...
##  $ 2010-04: chr  &quot;NA&quot; &quot;4.452&quot; &quot;378.611&quot; &quot;131.722&quot; ...
##  $ 2010-05: chr  &quot;NA&quot; &quot;4.415&quot; &quot;380.171&quot; &quot;128.8&quot; ...
##  $ 2010-06: num  1244.41 5.41 363.27 129.14 490.26 ...
##  $ 2010-07: chr  &quot;NA&quot; &quot;6.513&quot; &quot;353.04&quot; &quot;122.935&quot; ...
##  $ 2010-08: chr  &quot;NA&quot; &quot;6.269&quot; &quot;343.688&quot; &quot;129.732&quot; ...
##  $ 2010-09: num  1225.5 4.7 381.6 132.9 521.1 ...
##  $ 2010-10: chr  &quot;NA&quot; &quot;4.402&quot; &quot;384.987&quot; &quot;131.033&quot; ...
##  $ 2010-11: chr  &quot;NA&quot; &quot;3.731&quot; &quot;367.955&quot; &quot;130.889&quot; ...
##  $ 2010-12: num  1216.26 3.16 326.34 121.42 450.43 ...
##  $ 2011-01: chr  &quot;NA&quot; &quot;3.14&quot; &quot;334.958&quot; &quot;128.396&quot; ...
##  $ 2011-02: chr  &quot;NA&quot; &quot;3.284&quot; &quot;346.234&quot; &quot;125.463&quot; ...
##  $ 2011-03: num  1223.45 3.67 380.4 134.37 516.73 ...
##  $ 2011-04: chr  &quot;NA&quot; &quot;4.251&quot; &quot;380.446&quot; &quot;134.169&quot; ...
##  $ 2011-05: chr  &quot;NA&quot; &quot;4.431&quot; &quot;385.289&quot; &quot;136.14&quot; ...
##  $ 2011-06: num  1302.41 5.47 376.32 135.58 529.53 ...
##  $ 2011-07: chr  &quot;NA&quot; &quot;6.581&quot; &quot;361.585&quot; &quot;132.41&quot; ...
##  $ 2011-08: chr  &quot;NA&quot; &quot;6.733&quot; &quot;353.793&quot; &quot;130.616&quot; ...
##  $ 2011-09: num  1291 5 388 137 550 ...
##  $ 2011-10: chr  &quot;NA&quot; &quot;4.484&quot; &quot;398.456&quot; &quot;128.72&quot; ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the first 6 rows of mbta</span>
<span class="kw">head</span>(mbta, <span class="dt">n =</span> <span class="dv">6</span>)</code></pre></div>
<pre><code>## # A tibble: 6 x 60
##    X__1             mode `2007-01` `2007-02` `2007-03` `2007-04` `2007-05`
##   &lt;dbl&gt;            &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;     &lt;chr&gt;     &lt;chr&gt;
## 1     1 All Modes by Qtr        NA        NA  1187.653        NA        NA
## 2     2             Boat         4       3.6    40.000       4.3       4.9
## 3     3              Bus   335.819   338.675   339.867   352.162   354.367
## 4     4    Commuter Rail     142.2     138.5   137.700     139.5       139
## 5     5       Heavy Rail   435.294   448.271   458.583   472.201   474.579
## 6     6       Light Rail   227.231   240.262   241.444   255.557   248.262
## # ... with 53 more variables: `2007-06` &lt;dbl&gt;, `2007-07` &lt;chr&gt;,
## #   `2007-08` &lt;chr&gt;, `2007-09` &lt;dbl&gt;, `2007-10` &lt;chr&gt;, `2007-11` &lt;chr&gt;,
## #   `2007-12` &lt;dbl&gt;, `2008-01` &lt;chr&gt;, `2008-02` &lt;chr&gt;, `2008-03` &lt;dbl&gt;,
## #   `2008-04` &lt;chr&gt;, `2008-05` &lt;chr&gt;, `2008-06` &lt;dbl&gt;, `2008-07` &lt;chr&gt;,
## #   `2008-08` &lt;chr&gt;, `2008-09` &lt;dbl&gt;, `2008-10` &lt;chr&gt;, `2008-11` &lt;chr&gt;,
## #   `2008-12` &lt;dbl&gt;, `2009-01` &lt;chr&gt;, `2009-02` &lt;chr&gt;, `2009-03` &lt;dbl&gt;,
## #   `2009-04` &lt;chr&gt;, `2009-05` &lt;chr&gt;, `2009-06` &lt;dbl&gt;, `2009-07` &lt;chr&gt;,
## #   `2009-08` &lt;chr&gt;, `2009-09` &lt;dbl&gt;, `2009-10` &lt;chr&gt;, `2009-11` &lt;chr&gt;,
## #   `2009-12` &lt;dbl&gt;, `2010-01` &lt;chr&gt;, `2010-02` &lt;chr&gt;, `2010-03` &lt;dbl&gt;,
## #   `2010-04` &lt;chr&gt;, `2010-05` &lt;chr&gt;, `2010-06` &lt;dbl&gt;, `2010-07` &lt;chr&gt;,
## #   `2010-08` &lt;chr&gt;, `2010-09` &lt;dbl&gt;, `2010-10` &lt;chr&gt;, `2010-11` &lt;chr&gt;,
## #   `2010-12` &lt;dbl&gt;, `2011-01` &lt;chr&gt;, `2011-02` &lt;chr&gt;, `2011-03` &lt;dbl&gt;,
## #   `2011-04` &lt;chr&gt;, `2011-05` &lt;chr&gt;, `2011-06` &lt;dbl&gt;, `2011-07` &lt;chr&gt;,
## #   `2011-08` &lt;chr&gt;, `2011-09` &lt;dbl&gt;, `2011-10` &lt;chr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View a summary of mbta</span>
<span class="kw">summary</span>(mbta)</code></pre></div>
<pre><code>##       X__1          mode             2007-01            2007-02         
##  Min.   : 1.0   Length:11          Length:11          Length:11         
##  1st Qu.: 3.5   Class :character   Class :character   Class :character  
##  Median : 6.0   Mode  :character   Mode  :character   Mode  :character  
##  Mean   : 6.0                                                           
##  3rd Qu.: 8.5                                                           
##  Max.   :11.0                                                           
##     2007-03           2007-04            2007-05         
##  Min.   :   0.114   Length:11          Length:11         
##  1st Qu.:   9.278   Class :character   Class :character  
##  Median : 137.700   Mode  :character   Mode  :character  
##  Mean   : 330.293                                        
##  3rd Qu.: 399.225                                        
##  Max.   :1204.725                                        
##     2007-06           2007-07            2007-08         
##  Min.   :   0.096   Length:11          Length:11         
##  1st Qu.:   5.700   Class :character   Class :character  
##  Median : 143.000   Mode  :character   Mode  :character  
##  Mean   : 339.846                                        
##  3rd Qu.: 413.788                                        
##  Max.   :1246.129                                        
##     2007-09           2007-10            2007-11         
##  Min.   :  -0.007   Length:11          Length:11         
##  1st Qu.:   5.539   Class :character   Class :character  
##  Median : 143.051   Mode  :character   Mode  :character  
##  Mean   : 352.554                                        
##  3rd Qu.: 436.082                                        
##  Max.   :1310.764                                        
##     2007-12           2008-01            2008-02         
##  Min.   :  -0.060   Length:11          Length:11         
##  1st Qu.:   4.385   Class :character   Class :character  
##  Median : 141.585   Mode  :character   Mode  :character  
##  Mean   : 321.588                                        
##  3rd Qu.: 380.594                                        
##  Max.   :1216.890                                        
##     2008-03           2008-04            2008-05         
##  Min.   :   0.058   Length:11          Length:11         
##  1st Qu.:   5.170   Class :character   Class :character  
##  Median : 137.453   Mode  :character   Mode  :character  
##  Mean   : 345.604                                        
##  3rd Qu.: 427.601                                        
##  Max.   :1274.031                                        
##     2008-06           2008-07            2008-08         
##  Min.   :   0.060   Length:11          Length:11         
##  1st Qu.:   5.742   Class :character   Class :character  
##  Median : 142.057   Mode  :character   Mode  :character  
##  Mean   : 359.667                                        
##  3rd Qu.: 440.656                                        
##  Max.   :1320.728                                        
##     2008-09           2008-10            2008-11         
##  Min.   :   0.021   Length:11          Length:11         
##  1st Qu.:   5.691   Class :character   Class :character  
##  Median : 141.907   Mode  :character   Mode  :character  
##  Mean   : 362.099                                        
##  3rd Qu.: 453.430                                        
##  Max.   :1338.015                                        
##     2008-12           2009-01            2009-02         
##  Min.   :  -0.015   Length:11          Length:11         
##  1st Qu.:   4.689   Class :character   Class :character  
##  Median : 140.810   Mode  :character   Mode  :character  
##  Mean   : 319.882                                        
##  3rd Qu.: 386.255                                        
##  Max.   :1232.655                                        
##     2009-03           2009-04            2009-05         
##  Min.   :  -0.050   Length:11          Length:11         
##  1st Qu.:   5.003   Class :character   Class :character  
##  Median : 142.893   Mode  :character   Mode  :character  
##  Mean   : 330.142                                        
##  3rd Qu.: 410.455                                        
##  Max.   :1210.912                                        
##     2009-06           2009-07            2009-08         
##  Min.   :  -0.079   Length:11          Length:11         
##  1st Qu.:   5.845   Class :character   Class :character  
##  Median : 142.006   Mode  :character   Mode  :character  
##  Mean   : 333.194                                        
##  3rd Qu.: 410.482                                        
##  Max.   :1233.085                                        
##     2009-09           2009-10            2009-11         
##  Min.   :  -0.035   Length:11          Length:11         
##  1st Qu.:   5.693   Class :character   Class :character  
##  Median : 139.087   Mode  :character   Mode  :character  
##  Mean   : 346.687                                        
##  3rd Qu.: 437.332                                        
##  Max.   :1291.564                                        
##     2009-12           2010-01            2010-02         
##  Min.   :  -0.022   Length:11          Length:11         
##  1st Qu.:   4.784   Class :character   Class :character  
##  Median : 126.066   Mode  :character   Mode  :character  
##  Mean   : 312.962                                        
##  3rd Qu.: 386.659                                        
##  Max.   :1207.845                                        
##     2010-03           2010-04            2010-05         
##  Min.   :   0.012   Length:11          Length:11         
##  1st Qu.:   5.274   Class :character   Class :character  
##  Median : 131.252   Mode  :character   Mode  :character  
##  Mean   : 332.726                                        
##  3rd Qu.: 428.420                                        
##  Max.   :1225.556                                        
##     2010-06           2010-07            2010-08         
##  Min.   :   0.008   Length:11          Length:11         
##  1st Qu.:   6.436   Class :character   Class :character  
##  Median : 129.144   Mode  :character   Mode  :character  
##  Mean   : 335.964                                        
##  3rd Qu.: 426.769                                        
##  Max.   :1244.409                                        
##     2010-09           2010-10            2010-11         
##  Min.   :   0.001   Length:11          Length:11         
##  1st Qu.:   5.567   Class :character   Class :character  
##  Median : 132.892   Mode  :character   Mode  :character  
##  Mean   : 346.524                                        
##  3rd Qu.: 451.361                                        
##  Max.   :1293.117                                        
##     2010-12           2011-01            2011-02         
##  Min.   :  -0.004   Length:11          Length:11         
##  1st Qu.:   4.466   Class :character   Class :character  
##  Median : 121.422   Mode  :character   Mode  :character  
##  Mean   : 312.917                                        
##  3rd Qu.: 388.385                                        
##  Max.   :1216.262                                        
##     2011-03          2011-04            2011-05         
##  Min.   :   0.05   Length:11          Length:11         
##  1st Qu.:   6.03   Class :character   Class :character  
##  Median : 134.37   Mode  :character   Mode  :character  
##  Mean   : 345.17                                        
##  3rd Qu.: 448.56                                        
##  Max.   :1286.66                                        
##     2011-06           2011-07            2011-08         
##  Min.   :   0.054   Length:11          Length:11         
##  1st Qu.:   6.926   Class :character   Class :character  
##  Median : 135.581   Mode  :character   Mode  :character  
##  Mean   : 353.331                                        
##  3rd Qu.: 452.923                                        
##  Max.   :1302.414                                        
##     2011-09           2011-10         
##  Min.   :   0.043   Length:11         
##  1st Qu.:   6.660   Class :character  
##  Median : 136.901   Mode  :character  
##  Mean   : 362.555                     
##  3rd Qu.: 469.204                     
##  Max.   :1348.754</code></pre>
<p>The data are organized with observations stored as columns rather than as rows.</p>
<p>First, though, you can address the missing data. All of the NA values are stored in the All Modes by Qtr row. This row really belongs in a different data frame; it is a quarterly average of weekday MBTA ridership. Since this dataset tracks monthly average ridership, you’ll remove that row.</p>
<p>Similarly, the 7th row (Pct Chg / Yr) and the 11th row (TOTAL) are not really observations as much as they are analysis. Go ahead and remove the 7th and 11th rows as well.</p>
<p>The first column also needs to be removed because it’s just listing the row numbers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove rows 1, 7, and 11 of mbta: mbta2</span>
keep &lt;-<span class="st"> </span><span class="op">!</span>(mbta<span class="op">$</span>mode <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;All Modes by Qtr&#39;</span>, <span class="st">&#39;Pct Chg / Yr&#39;</span>, <span class="st">&#39;TOTAL&#39;</span>))
mbta2 &lt;-<span class="st"> </span>mbta[keep,]

<span class="co"># Remove the first column of mbta2: mbta3</span>
mbta3 &lt;-<span class="st"> </span>mbta2[,<span class="op">-</span><span class="dv">1</span>]</code></pre></div>
<p>Our next problem is variables are stored in rows instead of columns. The different modes of transportation (commuter rail, bus, subway, ferry, …) are variables, providing information about each month’s average ridership. The months themselves are observations. You can tell which is which because as you go through time, the month changes, but the modes of transport offered by the T do not.</p>
<p>As is customary, you want to represent variables in columns rather than rows. The first step is to use the gather() function from the tidyr package, which will gather columns into key-value pairs.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load tidyr</span>
<span class="kw">library</span>(tidyr)

<span class="co"># Gather columns of mbta3: mbta4</span>
mbta4 &lt;-<span class="st"> </span><span class="kw">gather</span>(mbta3, month, thou_riders, <span class="op">-</span>mode)

<span class="co"># View the head of mbta4</span>
<span class="kw">head</span>(mbta4)</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##            mode   month thou_riders
##           &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;
## 1          Boat 2007-01           4
## 2           Bus 2007-01     335.819
## 3 Commuter Rail 2007-01       142.2
## 4    Heavy Rail 2007-01     435.294
## 5    Light Rail 2007-01     227.231
## 6   Private Bus 2007-01       4.772</code></pre>
<p>The thousand riders coloumn is still charecter data, so lets change that.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Coerce thou_riders to numeric</span>
mbta4<span class="op">$</span>thou_riders &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(mbta4<span class="op">$</span>thou_riders)</code></pre></div>
<p>Now, you can finish the job you started earlier: getting variables into columns. Right now, variables are stored as “keys” in the mode column. You’ll use the tidyr function spread() to make them into columns containing average weekday ridership for the given month and mode of transport.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Spread the contents of mbta4: mbta5</span>
mbta5 &lt;-<span class="st"> </span><span class="kw">spread</span>(mbta4, mode, thou_riders)

<span class="co"># View the head of mbta5</span>
<span class="kw">head</span>(mbta5)</code></pre></div>
<pre><code>## # A tibble: 6 x 9
##     month  Boat     Bus `Commuter Rail` `Heavy Rail` `Light Rail`
##     &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1 2007-01   4.0 335.819           142.2      435.294      227.231
## 2 2007-02   3.6 338.675           138.5      448.271      240.262
## 3 2007-03  40.0 339.867           137.7      458.583      241.444
## 4 2007-04   4.3 352.162           139.5      472.201      255.557
## 5 2007-05   4.9 354.367           139.0      474.579      248.262
## 6 2007-06   5.8 350.543           143.0      477.032      246.108
## # ... with 3 more variables: `Private Bus` &lt;dbl&gt;, RIDE &lt;dbl&gt;, `Trackless
## #   Trolley` &lt;dbl&gt;</code></pre>
<p>If we want to look at the data by year, we can seperate the month field out in to month and year.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the head of mbta5</span>
<span class="kw">head</span>(mbta5)</code></pre></div>
<pre><code>## # A tibble: 6 x 9
##     month  Boat     Bus `Commuter Rail` `Heavy Rail` `Light Rail`
##     &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1 2007-01   4.0 335.819           142.2      435.294      227.231
## 2 2007-02   3.6 338.675           138.5      448.271      240.262
## 3 2007-03  40.0 339.867           137.7      458.583      241.444
## 4 2007-04   4.3 352.162           139.5      472.201      255.557
## 5 2007-05   4.9 354.367           139.0      474.579      248.262
## 6 2007-06   5.8 350.543           143.0      477.032      246.108
## # ... with 3 more variables: `Private Bus` &lt;dbl&gt;, RIDE &lt;dbl&gt;, `Trackless
## #   Trolley` &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Split month column into month and year: mbta6</span>
mbta6 &lt;-<span class="st"> </span><span class="kw">separate</span>(mbta5, month, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;month&quot;</span>, <span class="st">&quot;year&quot;</span>), <span class="dt">sep =</span><span class="st">&quot;-&quot;</span>)

<span class="co"># View the head of mbta6</span>
<span class="kw">head</span>(mbta6)</code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   month  year  Boat     Bus `Commuter Rail` `Heavy Rail` `Light Rail`
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1  2007    01   4.0 335.819           142.2      435.294      227.231
## 2  2007    02   3.6 338.675           138.5      448.271      240.262
## 3  2007    03  40.0 339.867           137.7      458.583      241.444
## 4  2007    04   4.3 352.162           139.5      472.201      255.557
## 5  2007    05   4.9 354.367           139.0      474.579      248.262
## 6  2007    06   5.8 350.543           143.0      477.032      246.108
## # ... with 3 more variables: `Private Bus` &lt;dbl&gt;, RIDE &lt;dbl&gt;, `Trackless
## #   Trolley` &lt;dbl&gt;</code></pre>
<p>Looks like some of the data might be a bit out, which you can check using different functions, histogram being one such function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View a summary of mbta6</span>
<span class="kw">summary</span>(mbta6)</code></pre></div>
<pre><code>##     month               year                Boat             Bus       
##  Length:58          Length:58          Min.   : 2.985   Min.   :312.9  
##  Class :character   Class :character   1st Qu.: 3.494   1st Qu.:345.6  
##  Mode  :character   Mode  :character   Median : 4.293   Median :359.9  
##                                        Mean   : 5.068   Mean   :358.6  
##                                        3rd Qu.: 5.356   3rd Qu.:372.2  
##                                        Max.   :40.000   Max.   :398.5  
##  Commuter Rail     Heavy Rail      Light Rail     Private Bus   
##  Min.   :121.4   Min.   :435.3   Min.   :194.4   Min.   :2.213  
##  1st Qu.:131.4   1st Qu.:471.1   1st Qu.:220.6   1st Qu.:2.641  
##  Median :138.8   Median :487.3   Median :231.9   Median :2.820  
##  Mean   :137.4   Mean   :489.3   Mean   :233.0   Mean   :3.352  
##  3rd Qu.:142.4   3rd Qu.:511.3   3rd Qu.:244.5   3rd Qu.:4.167  
##  Max.   :153.0   Max.   :554.9   Max.   :271.1   Max.   :4.878  
##       RIDE       Trackless Trolley
##  Min.   :4.900   Min.   : 5.777   
##  1st Qu.:5.965   1st Qu.:11.679   
##  Median :6.615   Median :12.598   
##  Mean   :6.604   Mean   :12.125   
##  3rd Qu.:7.149   3rd Qu.:13.320   
##  Max.   :8.598   Max.   :15.109</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Generate a histogram of Boat ridership</span>
<span class="kw">hist</span>(mbta6<span class="op">$</span>Boat)</code></pre></div>
<p><img src="CleaningDataCaseStudies_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Looks like we may have an input or typo on the value close to 40 - perhaps should have been a 4.0 or just a 4. Because it’s an error, you don’t want this value influencing your analysis. In this exercise, you’ll locate the incorrect value and change it to 4.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find the row number of the incorrect value: i</span>
i &lt;-<span class="st"> </span><span class="kw">which</span>(mbta6<span class="op">$</span>Boat <span class="op">==</span><span class="st"> </span><span class="dv">40</span>)

<span class="co"># Replace the incorrect value with 4</span>
mbta6<span class="op">$</span>Boat[i] &lt;-<span class="st"> </span><span class="dv">4</span>

<span class="co"># Generate a histogram of Boat column</span>
<span class="kw">hist</span>(mbta6<span class="op">$</span>Boat)

<span class="kw">library</span>(ggplot2)</code></pre></div>
<p><img src="CleaningDataCaseStudies_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look at all T ridership over time (example plot)</span>
<span class="kw">ggplot</span>(mbta4, <span class="kw">aes</span>(<span class="dt">x =</span> month, <span class="dt">y =</span> thou_riders, <span class="dt">col =</span> mode)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;Month&quot;</span>, <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">200701</span>, <span class="dv">200801</span>, <span class="dv">200901</span>, <span class="dv">201001</span>, <span class="dv">201101</span>)) <span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Avg Weekday Ridership (thousands)&quot;</span>)</code></pre></div>
<p><img src="CleaningDataCaseStudies_files/figure-html/unnamed-chunk-16-2.png" width="672" /></p>
</div>
<div id="world-food-facts" class="section level2">
<h2><span class="header-section-number">5.4</span> World Food Facts</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(data.table)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:lubridate&#39;:
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday,
##     week, yday, year</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     between, first, last</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import sales.csv: food</span>
food &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;https://assets.datacamp.com/production/course_1294/datasets/food.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># Convert food to a data frame</span>
food &lt;-<span class="st"> </span><span class="kw">data.frame</span>(food)

<span class="co"># View summary of food</span>
<span class="kw">summary</span>(food)</code></pre></div>
<pre><code>##        V1              code            url              creator         
##  Min.   :   1.0   Min.   :100030   Length:1500        Length:1500       
##  1st Qu.: 375.8   1st Qu.:124975   Class :character   Class :character  
##  Median : 750.5   Median :149514   Mode  :character   Mode  :character  
##  Mean   : 750.5   Mean   :149613                                        
##  3rd Qu.:1125.2   3rd Qu.:174506                                        
##  Max.   :1500.0   Max.   :199880                                        
##                                                                         
##    created_t         created_datetime   last_modified_t    
##  Min.   :1.332e+09   Length:1500        Min.   :1.340e+09  
##  1st Qu.:1.394e+09   Class :character   1st Qu.:1.424e+09  
##  Median :1.425e+09   Mode  :character   Median :1.437e+09  
##  Mean   :1.414e+09                      Mean   :1.430e+09  
##  3rd Qu.:1.436e+09                      3rd Qu.:1.446e+09  
##  Max.   :1.453e+09                      Max.   :1.453e+09  
##                                                            
##  last_modified_datetime product_name       generic_name      
##  Length:1500            Length:1500        Length:1500       
##  Class :character       Class :character   Class :character  
##  Mode  :character       Mode  :character   Mode  :character  
##                                                              
##                                                              
##                                                              
##                                                              
##    quantity          packaging         packaging_tags    
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##     brands          brands_tags         categories       
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  categories_tags    categories_en        origins         
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  origins_tags       manufacturing_places manufacturing_places_tags
##  Length:1500        Length:1500          Length:1500              
##  Class :character   Class :character     Class :character         
##  Mode  :character   Mode  :character     Mode  :character         
##                                                                   
##                                                                   
##                                                                   
##                                                                   
##     labels          labels_tags         labels_en        
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##   emb_codes         emb_codes_tags     first_packaging_code_geo
##  Length:1500        Length:1500        Length:1500             
##  Class :character   Class :character   Class :character        
##  Mode  :character   Mode  :character   Mode  :character        
##                                                                
##                                                                
##                                                                
##                                                                
##   cities        cities_tags        purchase_places       stores         
##  Mode:logical   Length:1500        Length:1500        Length:1500       
##  NA&#39;s:1500      Class :character   Class :character   Class :character  
##                 Mode  :character   Mode  :character   Mode  :character  
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##   countries         countries_tags     countries_en      
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  ingredients_text    allergens         allergens_en      traces         
##  Length:1500        Length:1500        Mode:logical   Length:1500       
##  Class :character   Class :character   NA&#39;s:1500      Class :character  
##  Mode  :character   Mode  :character                  Mode  :character  
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##  traces_tags         traces_en         serving_size       no_nutriments 
##  Length:1500        Length:1500        Length:1500        Mode:logical  
##  Class :character   Class :character   Class :character   NA&#39;s:1500     
##  Mode  :character   Mode  :character   Mode  :character                 
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##   additives_n      additives         additives_tags     additives_en      
##  Min.   : 0.000   Length:1500        Length:1500        Length:1500       
##  1st Qu.: 0.000   Class :character   Class :character   Class :character  
##  Median : 1.000   Mode  :character   Mode  :character   Mode  :character  
##  Mean   : 1.846                                                           
##  3rd Qu.: 3.000                                                           
##  Max.   :17.000                                                           
##  NA&#39;s   :514                                                              
##  ingredients_from_palm_oil_n ingredients_from_palm_oil
##  Min.   :0.0000              Mode:logical             
##  1st Qu.:0.0000              NA&#39;s:1500                
##  Median :0.0000                                       
##  Mean   :0.0487                                       
##  3rd Qu.:0.0000                                       
##  Max.   :1.0000                                       
##  NA&#39;s   :514                                          
##  ingredients_from_palm_oil_tags ingredients_that_may_be_from_palm_oil_n
##  Length:1500                    Min.   :0.0000                         
##  Class :character               1st Qu.:0.0000                         
##  Mode  :character               Median :0.0000                         
##                                 Mean   :0.1379                         
##                                 3rd Qu.:0.0000                         
##                                 Max.   :4.0000                         
##                                 NA&#39;s   :514                            
##  ingredients_that_may_be_from_palm_oil
##  Mode:logical                         
##  NA&#39;s:1500                            
##                                       
##                                       
##                                       
##                                       
##                                       
##  ingredients_that_may_be_from_palm_oil_tags nutrition_grade_uk
##  Length:1500                                Mode:logical      
##  Class :character                           NA&#39;s:1500         
##  Mode  :character                                             
##                                                               
##                                                               
##                                                               
##                                                               
##  nutrition_grade_fr pnns_groups_1      pnns_groups_2     
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##     states          states_tags         states_en        
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  main_category      main_category_en    image_url        
##  Length:1500        Length:1500        Length:1500       
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##                                                          
##  image_small_url     energy_100g     energy_from_fat_100g    fat_100g     
##  Length:1500        Min.   :   0.0   Min.   :   0.00      Min.   :  0.00  
##  Class :character   1st Qu.: 369.8   1st Qu.:  35.98      1st Qu.:  0.90  
##  Mode  :character   Median : 966.5   Median : 237.00      Median :  6.00  
##                     Mean   :1083.2   Mean   : 668.41      Mean   : 13.39  
##                     3rd Qu.:1641.5   3rd Qu.: 974.00      3rd Qu.: 20.00  
##                     Max.   :3700.0   Max.   :2900.00      Max.   :100.00  
##                     NA&#39;s   :700      NA&#39;s   :1486         NA&#39;s   :708     
##  saturated_fat_100g butyric_acid_100g caproic_acid_100g caprylic_acid_100g
##  Min.   : 0.000     Mode:logical      Mode:logical      Mode:logical      
##  1st Qu.: 0.200     NA&#39;s:1500         NA&#39;s:1500         NA&#39;s:1500         
##  Median : 1.700                                                           
##  Mean   : 4.874                                                           
##  3rd Qu.: 6.500                                                           
##  Max.   :57.000                                                           
##  NA&#39;s   :797                                                              
##  capric_acid_100g lauric_acid_100g myristic_acid_100g palmitic_acid_100g
##  Mode:logical     Mode:logical     Mode:logical       Mode:logical      
##  NA&#39;s:1500        NA&#39;s:1500        NA&#39;s:1500          NA&#39;s:1500         
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##  stearic_acid_100g arachidic_acid_100g behenic_acid_100g
##  Mode:logical      Mode:logical        Mode:logical     
##  NA&#39;s:1500         NA&#39;s:1500           NA&#39;s:1500        
##                                                         
##                                                         
##                                                         
##                                                         
##                                                         
##  lignoceric_acid_100g cerotic_acid_100g montanic_acid_100g
##  Mode:logical         Mode:logical      Mode:logical      
##  NA&#39;s:1500            NA&#39;s:1500         NA&#39;s:1500         
##                                                           
##                                                           
##                                                           
##                                                           
##                                                           
##  melissic_acid_100g monounsaturated_fat_100g polyunsaturated_fat_100g
##  Mode:logical       Min.   : 0.00            Min.   : 0.400          
##  NA&#39;s:1500          1st Qu.: 3.87            1st Qu.: 1.653          
##                     Median : 9.50            Median : 3.900          
##                     Mean   :19.77            Mean   : 9.986          
##                     3rd Qu.:29.00            3rd Qu.:12.700          
##                     Max.   :75.00            Max.   :46.200          
##                     NA&#39;s   :1465             NA&#39;s   :1464            
##  omega_3_fat_100g alpha_linolenic_acid_100g eicosapentaenoic_acid_100g
##  Min.   : 0.033   Min.   :0.0800            Min.   :0.721             
##  1st Qu.: 1.300   1st Qu.:0.0905            1st Qu.:0.721             
##  Median : 3.000   Median :0.1010            Median :0.721             
##  Mean   : 3.726   Mean   :0.1737            Mean   :0.721             
##  3rd Qu.: 3.200   3rd Qu.:0.2205            3rd Qu.:0.721             
##  Max.   :12.400   Max.   :0.3400            Max.   :0.721             
##  NA&#39;s   :1491     NA&#39;s   :1497              NA&#39;s   :1499              
##  docosahexaenoic_acid_100g omega_6_fat_100g linoleic_acid_100g
##  Min.   :1.09              Min.   :0.25     Min.   :0.5000    
##  1st Qu.:1.09              1st Qu.:0.25     1st Qu.:0.5165    
##  Median :1.09              Median :0.25     Median :0.5330    
##  Mean   :1.09              Mean   :0.25     Mean   :0.5330    
##  3rd Qu.:1.09              3rd Qu.:0.25     3rd Qu.:0.5495    
##  Max.   :1.09              Max.   :0.25     Max.   :0.5660    
##  NA&#39;s   :1499              NA&#39;s   :1499     NA&#39;s   :1498      
##  arachidonic_acid_100g gamma_linolenic_acid_100g
##  Mode:logical          Mode:logical             
##  NA&#39;s:1500             NA&#39;s:1500                
##                                                 
##                                                 
##                                                 
##                                                 
##                                                 
##  dihomo_gamma_linolenic_acid_100g omega_9_fat_100g oleic_acid_100g
##  Mode:logical                     Mode:logical     Mode:logical   
##  NA&#39;s:1500                        NA&#39;s:1500        NA&#39;s:1500      
##                                                                   
##                                                                   
##                                                                   
##                                                                   
##                                                                   
##  elaidic_acid_100g gondoic_acid_100g mead_acid_100g erucic_acid_100g
##  Mode:logical      Mode:logical      Mode:logical   Mode:logical    
##  NA&#39;s:1500         NA&#39;s:1500         NA&#39;s:1500      NA&#39;s:1500       
##                                                                     
##                                                                     
##                                                                     
##                                                                     
##                                                                     
##  nervonic_acid_100g trans_fat_100g   cholesterol_100g carbohydrates_100g
##  Mode:logical       Min.   :0.0000   Min.   :0.0000   Min.   :  0.000   
##  NA&#39;s:1500          1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:  3.792   
##                     Median :0.0000   Median :0.0000   Median : 13.500   
##                     Mean   :0.0105   Mean   :0.0265   Mean   : 27.958   
##                     3rd Qu.:0.0000   3rd Qu.:0.0026   3rd Qu.: 55.000   
##                     Max.   :0.1000   Max.   :0.4300   Max.   :100.000   
##                     NA&#39;s   :1481     NA&#39;s   :1477     NA&#39;s   :708       
##   sugars_100g     sucrose_100g   glucose_100g   fructose_100g 
##  Min.   :  0.00   Mode:logical   Mode:logical   Min.   :100   
##  1st Qu.:  1.00   NA&#39;s:1500      NA&#39;s:1500      1st Qu.:100   
##  Median :  4.05                                 Median :100   
##  Mean   : 12.66                                 Mean   :100   
##  3rd Qu.: 14.70                                 3rd Qu.:100   
##  Max.   :100.00                                 Max.   :100   
##  NA&#39;s   :788                                    NA&#39;s   :1499  
##   lactose_100g   maltose_100g   maltodextrins_100g  starch_100g   
##  Min.   :0.000   Mode:logical   Mode:logical       Min.   : 0.00  
##  1st Qu.:0.250   NA&#39;s:1500      NA&#39;s:1500          1st Qu.: 9.45  
##  Median :0.500                                     Median :39.50  
##  Mean   :2.933                                     Mean   :30.73  
##  3rd Qu.:4.400                                     3rd Qu.:42.85  
##  Max.   :8.300                                     Max.   :71.00  
##  NA&#39;s   :1497                                      NA&#39;s   :1493   
##   polyols_100g     fiber_100g     proteins_100g     casein_100g  
##  Min.   : 8.60   Min.   : 0.000   Min.   : 0.000   Min.   :1.1   
##  1st Qu.:59.10   1st Qu.: 0.500   1st Qu.: 1.500   1st Qu.:1.1   
##  Median :67.00   Median : 1.750   Median : 6.000   Median :1.1   
##  Mean   :56.06   Mean   : 2.823   Mean   : 7.563   Mean   :1.1   
##  3rd Qu.:69.80   3rd Qu.: 3.500   3rd Qu.:10.675   3rd Qu.:1.1   
##  Max.   :70.00   Max.   :46.700   Max.   :61.000   Max.   :1.1   
##  NA&#39;s   :1491    NA&#39;s   :994      NA&#39;s   :710      NA&#39;s   :1499  
##  serum_proteins_100g nucleotides_100g   salt_100g         sodium_100g     
##  Mode:logical        Mode:logical     Min.   :  0.0000   Min.   : 0.0000  
##  NA&#39;s:1500           NA&#39;s:1500        1st Qu.:  0.0438   1st Qu.: 0.0172  
##                                       Median :  0.4498   Median : 0.1771  
##                                       Mean   :  1.1205   Mean   : 0.4409  
##                                       3rd Qu.:  1.1938   3rd Qu.: 0.4700  
##                                       Max.   :102.0000   Max.   :40.0000  
##                                       NA&#39;s   :780        NA&#39;s   :780      
##   alcohol_100g   vitamin_a_100g   beta_carotene_100g vitamin_d_100g 
##  Min.   : 0.00   Min.   :0.0000   Mode:logical       Min.   :0e+00  
##  1st Qu.: 0.00   1st Qu.:0.0000   NA&#39;s:1500          1st Qu.:0e+00  
##  Median : 5.50   Median :0.0001                      Median :0e+00  
##  Mean   :10.07   Mean   :0.0003                      Mean   :0e+00  
##  3rd Qu.:13.00   3rd Qu.:0.0006                      3rd Qu.:0e+00  
##  Max.   :50.00   Max.   :0.0013                      Max.   :1e-04  
##  NA&#39;s   :1433    NA&#39;s   :1477                        NA&#39;s   :1485   
##  vitamin_e_100g   vitamin_k_100g vitamin_c_100g  vitamin_b1_100g 
##  Min.   :0.0005   Min.   :0      Min.   :0.000   Min.   :0.0001  
##  1st Qu.:0.0021   1st Qu.:0      1st Qu.:0.002   1st Qu.:0.0003  
##  Median :0.0044   Median :0      Median :0.019   Median :0.0004  
##  Mean   :0.0069   Mean   :0      Mean   :0.025   Mean   :0.0006  
##  3rd Qu.:0.0097   3rd Qu.:0      3rd Qu.:0.030   3rd Qu.:0.0010  
##  Max.   :0.0320   Max.   :0      Max.   :0.217   Max.   :0.0013  
##  NA&#39;s   :1478     NA&#39;s   :1498   NA&#39;s   :1459    NA&#39;s   :1478    
##  vitamin_b2_100g  vitamin_pp_100g  vitamin_b6_100g  vitamin_b9_100g
##  Min.   :0.0002   Min.   :0.0006   Min.   :0.0001   Min.   :0e+00  
##  1st Qu.:0.0003   1st Qu.:0.0033   1st Qu.:0.0002   1st Qu.:0e+00  
##  Median :0.0009   Median :0.0069   Median :0.0008   Median :1e-04  
##  Mean   :0.0011   Mean   :0.0086   Mean   :0.0112   Mean   :1e-04  
##  3rd Qu.:0.0013   3rd Qu.:0.0140   3rd Qu.:0.0012   3rd Qu.:2e-04  
##  Max.   :0.0066   Max.   :0.0160   Max.   :0.2000   Max.   :2e-04  
##  NA&#39;s   :1483     NA&#39;s   :1484     NA&#39;s   :1481     NA&#39;s   :1483   
##  vitamin_b12_100g  biotin_100g   pantothenic_acid_100g  silica_100g   
##  Min.   :0        Min.   :0      Min.   :0.0000        Min.   :8e-04  
##  1st Qu.:0        1st Qu.:0      1st Qu.:0.0007        1st Qu.:8e-04  
##  Median :0        Median :0      Median :0.0020        Median :8e-04  
##  Mean   :0        Mean   :0      Mean   :0.0027        Mean   :8e-04  
##  3rd Qu.:0        3rd Qu.:0      3rd Qu.:0.0051        3rd Qu.:8e-04  
##  Max.   :0        Max.   :0      Max.   :0.0060        Max.   :8e-04  
##  NA&#39;s   :1489     NA&#39;s   :1498   NA&#39;s   :1486          NA&#39;s   :1499   
##  bicarbonate_100g potassium_100g   chloride_100g     calcium_100g   
##  Min.   :0.0006   Min.   :0.0000   Min.   :0.0003   Min.   :0.0000  
##  1st Qu.:0.0678   1st Qu.:0.0650   1st Qu.:0.0006   1st Qu.:0.0450  
##  Median :0.1350   Median :0.1940   Median :0.0009   Median :0.1200  
##  Mean   :0.1692   Mean   :0.3288   Mean   :0.0144   Mean   :0.2040  
##  3rd Qu.:0.2535   3rd Qu.:0.3670   3rd Qu.:0.0214   3rd Qu.:0.1985  
##  Max.   :0.3720   Max.   :1.4300   Max.   :0.0420   Max.   :1.0000  
##  NA&#39;s   :1497     NA&#39;s   :1487     NA&#39;s   :1497     NA&#39;s   :1449    
##  phosphorus_100g    iron_100g      magnesium_100g     zinc_100g     
##  Min.   :0.0430   Min.   :0.0000   Min.   :0.0000   Min.   :0.0005  
##  1st Qu.:0.1938   1st Qu.:0.0012   1st Qu.:0.0670   1st Qu.:0.0009  
##  Median :0.3185   Median :0.0042   Median :0.1040   Median :0.0017  
##  Mean   :0.3777   Mean   :0.0045   Mean   :0.1066   Mean   :0.0016  
##  3rd Qu.:0.4340   3rd Qu.:0.0077   3rd Qu.:0.1300   3rd Qu.:0.0022  
##  Max.   :1.1550   Max.   :0.0137   Max.   :0.3330   Max.   :0.0026  
##  NA&#39;s   :1488     NA&#39;s   :1463     NA&#39;s   :1479     NA&#39;s   :1493    
##   copper_100g    manganese_100g fluoride_100g  selenium_100g 
##  Min.   :0e+00   Min.   :0      Min.   :0      Min.   :0     
##  1st Qu.:1e-04   1st Qu.:0      1st Qu.:0      1st Qu.:0     
##  Median :1e-04   Median :0      Median :0      Median :0     
##  Mean   :1e-04   Mean   :0      Mean   :0      Mean   :0     
##  3rd Qu.:1e-04   3rd Qu.:0      3rd Qu.:0      3rd Qu.:0     
##  Max.   :1e-04   Max.   :0      Max.   :0      Max.   :0     
##  NA&#39;s   :1498    NA&#39;s   :1499   NA&#39;s   :1498   NA&#39;s   :1499  
##  chromium_100g  molybdenum_100g  iodine_100g   caffeine_100g 
##  Mode:logical   Mode:logical    Min.   :0      Mode:logical  
##  NA&#39;s:1500      NA&#39;s:1500       1st Qu.:0      NA&#39;s:1500     
##                                 Median :0                    
##                                 Mean   :0                    
##                                 3rd Qu.:0                    
##                                 Max.   :0                    
##                                 NA&#39;s   :1499                 
##  taurine_100g   ph_100g        fruits_vegetables_nuts_100g
##  Mode:logical   Mode:logical   Min.   : 2.00              
##  NA&#39;s:1500      NA&#39;s:1500      1st Qu.:11.25              
##                                Median :42.00              
##                                Mean   :36.88              
##                                3rd Qu.:52.25              
##                                Max.   :80.00              
##                                NA&#39;s   :1470               
##  collagen_meat_protein_ratio_100g   cocoa_100g   chlorophyl_100g
##  Min.   :12.00                    Min.   :30     Mode:logical   
##  1st Qu.:13.50                    1st Qu.:47     NA&#39;s:1500      
##  Median :15.00                    Median :60                    
##  Mean   :15.67                    Mean   :57                    
##  3rd Qu.:17.50                    3rd Qu.:70                    
##  Max.   :20.00                    Max.   :81                    
##  NA&#39;s   :1497                     NA&#39;s   :1491                  
##  carbon_footprint_100g nutrition_score_fr_100g nutrition_score_uk_100g
##  Min.   : 12.00        Min.   :-12.000         Min.   :-12.000        
##  1st Qu.: 97.42        1st Qu.:  1.000         1st Qu.:  0.000        
##  Median :182.85        Median :  7.000         Median :  6.000        
##  Mean   :131.18        Mean   :  7.941         Mean   :  7.631        
##  3rd Qu.:190.78        3rd Qu.: 15.000         3rd Qu.: 16.000        
##  Max.   :198.70        Max.   : 28.000         Max.   : 28.000        
##  NA&#39;s   :1497          NA&#39;s   :825             NA&#39;s   :825</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View head of food</span>
<span class="kw">head</span>(food)</code></pre></div>
<pre><code>##   V1   code
## 1  1 100030
## 2  2 100050
## 3  3 100079
## 4  4 100094
## 5  5 100124
## 6  6 100136
##                                                                                                                            url
## 1 http://world-en.openfoodfacts.org/product/3222475745867/confiture-de-fraise-fraise-des-bois-au-sucre-de-canne-casino-delices
## 2                                         http://world-en.openfoodfacts.org/product/5410976880110/guylian-sea-shells-selection
## 3                                  http://world-en.openfoodfacts.org/product/3264750423503/pates-de-fruits-aromatisees-jacquot
## 4                                  http://world-en.openfoodfacts.org/product/8006040247001/nata-vegetal-a-base-de-soja-valsoia
## 5           http://world-en.openfoodfacts.org/product/8480000340764/semillas-de-girasol-con-cascara-tostadas-aguasal-hacendado
## 6                                                           http://world-en.openfoodfacts.org/product/0087703177727/soft-drink
##       creator  created_t     created_datetime last_modified_t
## 1    sebleouf 1424747544 2015-02-24T03:12:24Z      1438445887
## 2 foodorigins 1450316429 2015-12-17T01:40:29Z      1450817956
## 3    domdom26 1428674916 2015-04-10T14:08:36Z      1428739289
## 4     javichu 1420416591 2015-01-05T00:09:51Z      1420417876
## 5     javichu 1420501121 2015-01-05T23:38:41Z      1445700917
## 6 foodorigins 1437983923 2015-07-27T07:58:43Z      1445577476
##   last_modified_datetime
## 1   2015-08-01T16:18:07Z
## 2   2015-12-22T20:59:16Z
## 3   2015-04-11T08:01:29Z
## 4   2015-01-05T00:31:16Z
## 5   2015-10-24T15:35:17Z
## 6   2015-10-23T05:17:56Z
##                                            product_name
## 1 Confiture de fraise fraise des bois au sucre de canne
## 2                          Guylian Sea Shells Selection
## 3                         PÃ¢tes de fruits aromatisÃ©es
## 4       Nata vegetal a base de soja &amp;quot;Valsoia&amp;quot;
## 5     Semillas de girasol con cÃ¡scara tostadas aguasal
## 6                                            Soft Drink
##                                        generic_name quantity
## 1                                                      265 g
## 2                                                       375g
## 3                                  PÃ¢tes de fruits     1 kg
## 4                       Nata vegetal a base de soja   200 ml
## 5 Semillas de girasol con cÃ¡scara tostadas aguasal    200 g
## 6                                                           
##                                              packaging
## 1                                          Bocal,Verre
## 2                                          Plastic,Box
## 3                                     Carton,plastique
## 4                                           Tetra Brik
## 5 Bolsa de plÃ¡stico,Envasado en atmÃ³sfera protectora
## 6                                                     
##                                       packaging_tags
## 1                                        bocal,verre
## 2                                        plastic,box
## 3                                   carton,plastique
## 4                                         tetra-brik
## 5 bolsa-de-plastico,envasado-en-atmosfera-protectora
## 6                                                   
##                                       brands
## 1                            Casino DÃ©lices
## 2                                    Guylian
## 3                                    Jacquot
## 4   Valsoia,//Propiedad de://,Valsoia S.p.A.
## 5 Hacendado,//Propiedad de://,Mercadona S.A.
## 6                                           
##                            brands_tags
## 1                       casino-delices
## 2                              guylian
## 3                              jacquot
## 4   valsoia,propiedad-de,valsoia-s-p-a
## 5 hacendado,propiedad-de,mercadona-s-a
## 6                                     
##                                                                                                                                                                                                                                                                                                                                                    categories
## 1 Aliments et boissons Ã  base de vÃ©gÃ©taux,Aliments d&#39;origine vÃ©gÃ©tale,Aliments Ã  base de fruits et de lÃ©gumes,Petit-dÃ©jeuners,Produits Ã  tartiner,Fruits et produits dÃ©rivÃ©s,PÃ¢tes Ã  tartiner vÃ©gÃ©taux,Produits Ã  tartiner sucrÃ©s,Confitures et marmelades,Confitures,Confitures de fruits,Confitures de fruits rouges,Confitures de fraises
## 2                                                                                                                                                                                                                                                                                                                                                   Chocolate
## 3                                                                                                                                                                                                                                                                                                                                            pÃ¢tes de fruits
## 4                                                                                                                                                                                                  Alimentos y bebidas de origen vegetal,Alimentos de origen vegetal,Natas vegetales,Natas vegetales a base de soja para cocinar,Natas vegetales para cocinar
## 5                                                                                                                                Semillas de girasol y derivados, Semillas, Semillas de girasol, Semillas de girasol con cÃ¡scara, Semillas de girasol tostadas, Semillas de girasol con cÃ¡scara tostadas, Semillas de girasol con cÃ¡scara tostadas aguasal
## 6                                                                                                                                                                                                                                                                                                                                                            
##                                                                                                                                                                                                                                                              categories_tags
## 1              en:plant-based-foods-and-beverages,en:plant-based-foods,en:fruits-and-vegetables-based-foods,en:breakfasts,en:spreads,en:fruits-based-foods,en:plant-based-spreads,en:sweet-spreads,en:fruit-preserves,en:jams,en:fruit-jams,en:berry-jams,en:strawberry-jams
## 2                                                                                                                                                                                                                                             en:sugary-snacks,en:chocolates
## 3                                                                                                     en:plant-based-foods-and-beverages,en:plant-based-foods,en:fruits-and-vegetables-based-foods,en:sugary-snacks,en:confectioneries,en:fruits-based-foods,en:fruit-pastes
## 4                                                                                                                            en:plant-based-foods-and-beverages,en:plant-based-foods,en:plant-based-creams,en:plant-based-creams-for-cooking,en:soy-based-creams-for-cooking
## 5 en:plant-based-foods-and-beverages,en:plant-based-foods,en:seeds,en:sunflower-seeds-and-their-products,en:sunflower-seeds,en:roasted-sunflower-seeds,en:unshelled-sunflower-seeds,en:roasted-unshelled-sunflower-seeds,es:semillas-de-girasol-con-cascara-tostadas-aguasal
## 6                                                                                                                                                                                                                                                                           
##                                                                                                                                                                                                                                        categories_en
## 1                             Plant-based foods and beverages,Plant-based foods,Fruits and vegetables based foods,Breakfasts,Spreads,Fruits based foods,Plant-based spreads,Sweet spreads,Fruit preserves,Jams,Fruit jams,Berry jams,Strawberry jams
## 2                                                                                                                                                                                                                           Sugary snacks,Chocolates
## 3                                                                                                  Plant-based foods and beverages,Plant-based foods,Fruits and vegetables based foods,Sugary snacks,Confectioneries,Fruits based foods,Fruit pastes
## 4                                                                                                                   Plant-based foods and beverages,Plant-based foods,Plant-based creams,Plant-based creams for cooking,Soy-based creams for cooking
## 5 Plant-based foods and beverages,Plant-based foods,Seeds,Sunflower seeds and their products,Sunflower seeds,Roasted sunflower seeds,Unshelled sunflower seeds,Roasted unshelled sunflower seeds,es:Semillas-de-girasol-con-cascara-tostadas-aguasal
## 6                                                                                                                                                                                                                                                   
##       origins origins_tags
## 1                         
## 2                         
## 3                         
## 4                         
## 5   Argentina    argentina
## 6 South Korea  south-korea
##                                            manufacturing_places
## 1                                                        France
## 2                                                       Belgium
## 3                                                              
## 4                                                        Italia
## 5 Beniparrell,Valencia (provincia),Comunidad Valenciana,EspaÃ±a
## 6                                                   South Korea
##                                    manufacturing_places_tags
## 1                                                     france
## 2                                                    belgium
## 3                                                           
## 4                                                     italia
## 5 beniparrell,valencia-provincia,comunidad-valenciana,espana
## 6                                                south-korea
##                                              labels
## 1                                                  
## 2                                                  
## 3                                                  
## 4 Vegetariano,Vegano,Sin gluten,Sin OMG,Sin lactosa
## 5                     Vegetariano,Vegano,Sin gluten
## 6                                                  
##                                                      labels_tags
## 1                                                               
## 2                                                               
## 3                                                               
## 4 en:vegetarian,en:vegan,en:gluten-free,en:no-gmos,en:no-lactose
## 5                          en:vegetarian,en:vegan,en:gluten-free
## 6                                                               
##                                         labels_en
## 1                                                
## 2                                                
## 3                                                
## 4 Vegetarian,Vegan,Gluten-free,No GMOs,No lactose
## 5                    Vegetarian,Vegan,Gluten-free
## 6                                                
##                                     emb_codes
## 1                                   EMB 78015
## 2                                            
## 3                                            
## 4                                            
## 5 ES 21.016540/V EC,ENVASADOR:,IMPORTACO S.A.
## 6                                            
##                              emb_codes_tags first_packaging_code_geo
## 1                                 emb-78015       48.983333,2.066667
## 2                                                                   
## 3                                                                   
## 4                                                                   
## 5 es-21-016540-v-ec,envasador,importaco-s-a                         
## 6                                                                   
##   cities             cities_tags purchase_places           stores
## 1     NA andresy-yvelines-france     Lyon,France           Casino
## 2     NA                           NSW,Australia                 
## 3     NA                                  France                 
## 4     NA                          Madrid,EspaÃ±a El Corte InglÃ©s
## 5     NA                          Madrid,EspaÃ±a        Mercadona
## 6     NA                                                         
##   countries countries_tags countries_en
## 1    France      en:france       France
## 2 Australia   en:australia    Australia
## 3    France      en:france       France
## 4   EspaÃ±a       en:spain        Spain
## 5   EspaÃ±a       en:spain        Spain
## 6 Australia   en:australia    Australia
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ingredients_text
## 1                                                                                                                                                                                                                                                                                                                                                                     Sucre de canne, fraises 40 g, fraises des bois 14 g, gÃ©lifiant : pectines de fruits, jus de citron concentrÃ©. PrÃ©parÃ©e avec 54 g de fruits pour 100 g de produit fini.
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
## 3                                                                                                                                                                                                                                                                                                                        Pulpe de pommes 50% , sucre, sirop de glucose, gÃ©lifiant : pectine, acidifiant : acide citrique, arÃ´mes, colorants naturels : extrait de paprika â complexes cuivreâchlorophyllines â curcumine â antnocyanes
## 4 Extracto de soja (78%) (agua, semillas de soja 8,3%), grasas vegetales, jarabe de glucosa, dextrosa, emulsionante: mono- y diglicÃ©ridos de Ã¡cidos grasos (E-471), sal marina, estabilizantes: goma xantana (E-415), carragenatos (E-407), goma guar (E-412); aromas, antioxidante: extractos de tocoferoles (de soja) (E-306). (Nota: el envase en italiano del paquete -que puede verse en el enlace-, especifica que el producto es 100% vegetal. Por tanto los mono- y diglicÃ©ridos de Ã¡cidos grasos (E-471) son de origen no animal). 
## 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Pipas de girasol y sal.
## 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
##   allergens allergens_en                        traces        traces_tags
## 1                     NA          Lait,Fruits Ã  coque    en:milk,en:nuts
## 2                     NA                                                 
## 3                     NA                                                 
## 4                     NA                                                 
## 5                     NA Frutos de cÃ¡scara,Cacahuetes en:nuts,en:peanuts
## 6                     NA                                                 
##      traces_en serving_size no_nutriments additives_n
## 1    Milk,Nuts         15 g            NA           1
## 2                                      NA          NA
## 3                                      NA           2
## 4                                      NA           5
## 5 Nuts,Peanuts                         NA           0
## 6                                      NA          NA
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           additives
## 1 [ sucre-de-canne -&gt; fr:sucre-de-canne  ]  [ sucre-de -&gt; fr:sucre-de  ]  [ sucre -&gt; fr:sucre  ]  [ fraises-40-g -&gt; fr:fraises-40-g  ]  [ fraises-40 -&gt; fr:fraises-40  ]  [ fraises -&gt; fr:fraises  ]  [ fraises-des-bois-14-g -&gt; fr:fraises-des-bois-14-g  ]  [ fraises-des-bois-14 -&gt; fr:fraises-des-bois-14  ]  [ fraises-des-bois -&gt; fr:fraises-des-bois  ]  [ fraises-des -&gt; fr:fraises-des  ]  [ fraises -&gt; fr:fraises  ]  [ pectines-de-fruits -&gt; fr:pectines-de-fruits  ]  [ pectines-de -&gt; fr:pectines-de  ]  [ pectines -&gt; en:e440  -&gt; exists  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de-produit-fini -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de-produit-fini  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de-produit -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de-produit  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g-de  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100-g  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100 -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour-100  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits-pour  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de-fruits -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de-fruits  ]  [ jus-de-citron-concentre-preparee-avec-54-g-de -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g-de  ]  [ jus-de-citron-concentre-preparee-avec-54-g -&gt; fr:jus-de-citron-concentre-preparee-avec-54-g  ]  [ jus-de-citron-concentre-preparee-avec-54 -&gt; fr:jus-de-citron-concentre-preparee-avec-54  ]  [ jus-de-citron-concentre-preparee-avec -&gt; fr:jus-de-citron-concentre-preparee-avec  ]  [ jus-de-citron-concentre-preparee -&gt; fr:jus-de-citron-concentre-preparee  ]  [ jus-de-citron-concentre -&gt; fr:jus-de-citron-concentre  ]  [ jus-de-citron -&gt; fr:jus-de-citron  ]  [ jus-de -&gt; fr:jus-de  ]  [ jus -&gt; fr:jus  ]
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
## 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       [ pulpe-de-pommes-50 -&gt; fr:pulpe-de-pommes-50  ]  [ pulpe-de-pommes -&gt; fr:pulpe-de-pommes  ]  [ pulpe-de -&gt; fr:pulpe-de  ]  [ pulpe -&gt; fr:pulpe  ]  [ sucre -&gt; fr:sucre  ]  [ sirop-de-glucose -&gt; fr:sirop-de-glucose  ]  [ sirop-de -&gt; fr:sirop-de  ]  [ sirop -&gt; fr:sirop  ]  [ pectine -&gt; en:e440  -&gt; exists  ]  [ acide-citrique -&gt; en:e330  -&gt; exists  ]  [ aromes -&gt; fr:aromes  ]  [ naturels -&gt; fr:naturels  ]  [ extrait-de-paprika-complexes-cuivre-chlorophyllines-curcumine-antnocyanes -&gt; fr:extrait-de-paprika-complexes-cuivre-chlorophyllines-curcumine-antnocyanes  ]  [ extrait-de-paprika-complexes-cuivre-chlorophyllines-curcumine -&gt; fr:extrait-de-paprika-complexes-cuivre-chlorophyllines-curcumine  ]  [ extrait-de-paprika-complexes-cuivre-chlorophyllines -&gt; fr:extrait-de-paprika-complexes-cuivre-chlorophyllines  ]  [ extrait-de-paprika-complexes-cuivre -&gt; fr:extrait-de-paprika-complexes-cuivre  ]  [ extrait-de-paprika-complexes -&gt; fr:extrait-de-paprika-complexes  ]  [ extrait-de-paprika -&gt; fr:extrait-de-paprika  ]  [ extrait-de -&gt; fr:extrait-de  ]  [ extrait -&gt; fr:extrait  ]
## 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       [ extracto-de-soja -&gt; es:extracto-de-soja  ]  [ 78 -&gt; es:78  ]  [ agua -&gt; es:agua  ]  [ semillas-de-soja-8 -&gt; es:semillas-de-soja-8  ]  [ 3 -&gt; en:fd-c  ]  [ grasas-vegetales -&gt; es:grasas-vegetales  ]  [ jarabe-de-glucosa -&gt; es:jarabe-de-glucosa  ]  [ dextrosa -&gt; es:dextrosa  ]  [ emulsionante -&gt; es:emulsionante  ]  [ mono-y-digliceridos-de-acidos-grasos -&gt; en:e471  -&gt; exists  ]  [ e471 -&gt; en:e471  ]  [ sal-marina -&gt; es:sal-marina  ]  [ estabilizantes -&gt; es:estabilizantes  ]  [ goma-xantana -&gt; en:e415  -&gt; exists  ]  [ e415 -&gt; en:e415  ]  [ carragenatos -&gt; en:e407  -&gt; exists  ]  [ e407 -&gt; en:e407  ]  [ goma-guar -&gt; en:e412  -&gt; exists  ]  [ e412 -&gt; en:e412  ]  [ aromas -&gt; es:aromas  ]  [ antioxidante -&gt; es:antioxidante  ]  [ extractos-de-tocoferoles -&gt; es:extractos-de-tocoferoles  ]  [ de-soja -&gt; es:de-soja  ]  [ e306 -&gt; en:e306  -&gt; exists  ]  [ nota -&gt; es:nota  ]  [ el-envase-en-italiano-del-paquete-que-puede-verse-en-el-enlace -&gt; es:el-envase-en-italiano-del-paquete-que-puede-verse-en-el-enlace  ]  [ especifica-que-el-producto-es-100-vegetal-por-tanto-los-mono-y-digliceridos-de-acidos-grasos -&gt; es:especifica-que-el-producto-es-100-vegetal-por-tanto-los-mono-y-digliceridos-de-acidos-grasos  ]  [ e471 -&gt; en:e471  ]  [ son-de-origen-no-animal -&gt; es:son-de-origen-no-animal  ]  [   -&gt; es:   ]
## 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          [ pipas-de-girasol-y-sal -&gt; es:pipas-de-girasol-y-sal  ]
## 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
##                            additives_tags
## 1                                 en:e440
## 2                                        
## 3                         en:e440,en:e330
## 4 en:e471,en:e415,en:e407,en:e412,en:e306
## 5                                        
## 6                                        
##                                                                                                                        additives_en
## 1                                                                                                                    E440 - Pectins
## 2                                                                                                                                  
## 3                                                                                                 E440 - Pectins,E330 - Citric acid
## 4 E471 - Mono- and diglycerides of fatty acids,E415 - Xanthan gum,E407 - Carrageenan,E412 - Guar gum,E306 - Tocopherol-rich extract
## 5                                                                                                                                  
## 6                                                                                                                                  
##   ingredients_from_palm_oil_n ingredients_from_palm_oil
## 1                           0                        NA
## 2                          NA                        NA
## 3                           0                        NA
## 4                           0                        NA
## 5                           0                        NA
## 6                          NA                        NA
##   ingredients_from_palm_oil_tags ingredients_that_may_be_from_palm_oil_n
## 1                                                                      0
## 2                                                                     NA
## 3                                                                      0
## 4                                                                      1
## 5                                                                      0
## 6                                                                     NA
##   ingredients_that_may_be_from_palm_oil
## 1                                    NA
## 2                                    NA
## 3                                    NA
## 4                                    NA
## 5                                    NA
## 6                                    NA
##             ingredients_that_may_be_from_palm_oil_tags nutrition_grade_uk
## 1                                                                      NA
## 2                                                                      NA
## 3                                                                      NA
## 4 e471-mono-et-diglycerides-d-acides-gras-alimentaires                 NA
## 5                                                                      NA
## 6                                                                      NA
##   nutrition_grade_fr         pnns_groups_1      pnns_groups_2
## 1                  d         Sugary snacks             Sweets
## 2                            Sugary snacks Chocolate products
## 3                    Fruits and vegetables             Fruits
## 4                  d               unknown            unknown
## 5                  d               unknown            unknown
## 6                                  unknown            unknown
##                                                                                                                                                                                                                                                                                                                               states
## 1                                                                                                                                   en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-to-be-completed, en:characteristics-completed, en:photos-validated, en:photos-uploaded
## 2                                                                                                                                  en:to-be-completed, en:nutrition-facts-to-be-completed, en:ingredients-to-be-completed, en:expiration-date-to-be-completed, en:characteristics-completed, en:photos-validated, en:photos-uploaded
## 3                                                                                                                                   en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-to-be-completed, en:characteristics-completed, en:photos-validated, en:photos-uploaded
## 4                                                                                                                                         en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-completed, en:characteristics-completed, en:photos-validated, en:photos-uploaded
## 5                                                                                                                                         en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-completed, en:characteristics-completed, en:photos-validated, en:photos-uploaded
## 6 en:to-be-completed, en:nutrition-facts-to-be-completed, en:ingredients-to-be-completed, en:expiration-date-to-be-completed, en:characteristics-to-be-completed, en:categories-to-be-completed, en:brands-to-be-completed, en:packaging-to-be-completed, en:quantity-to-be-completed, en:photos-to-be-validated, en:photos-uploaded
##                                                                                                                                                                                                                                                                                                                states_tags
## 1                                                                                                                                en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-to-be-completed,en:characteristics-completed,en:photos-validated,en:photos-uploaded
## 2                                                                                                                              en:to-be-completed,en:nutrition-facts-to-be-completed,en:ingredients-to-be-completed,en:expiration-date-to-be-completed,en:characteristics-completed,en:photos-validated,en:photos-uploaded
## 3                                                                                                                                en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-to-be-completed,en:characteristics-completed,en:photos-validated,en:photos-uploaded
## 4                                                                                                                                      en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-completed,en:characteristics-completed,en:photos-validated,en:photos-uploaded
## 5                                                                                                                                      en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-completed,en:characteristics-completed,en:photos-validated,en:photos-uploaded
## 6 en:to-be-completed,en:nutrition-facts-to-be-completed,en:ingredients-to-be-completed,en:expiration-date-to-be-completed,en:characteristics-to-be-completed,en:categories-to-be-completed,en:brands-to-be-completed,en:packaging-to-be-completed,en:quantity-to-be-completed,en:photos-to-be-validated,en:photos-uploaded
##                                                                                                                                                                                                                                                                                 states_en
## 1                                                                                                                       To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date to be completed,Characteristics completed,Photos validated,Photos uploaded
## 2                                                                                                                  To be completed,Nutrition facts to be completed,Ingredients to be completed,Expiration date to be completed,Characteristics completed,Photos validated,Photos uploaded
## 3                                                                                                                       To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date to be completed,Characteristics completed,Photos validated,Photos uploaded
## 4                                                                                                                             To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date completed,Characteristics completed,Photos validated,Photos uploaded
## 5                                                                                                                             To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date completed,Characteristics completed,Photos validated,Photos uploaded
## 6 To be completed,Nutrition facts to be completed,Ingredients to be completed,Expiration date to be completed,Characteristics to be completed,Categories to be completed,Brands to be completed,Packaging to be completed,Quantity to be completed,Photos to be validated,Photos uploaded
##                        main_category                main_category_en
## 1 en:plant-based-foods-and-beverages Plant-based foods and beverages
## 2                   en:sugary-snacks                   Sugary snacks
## 3 en:plant-based-foods-and-beverages Plant-based foods and beverages
## 4 en:plant-based-foods-and-beverages Plant-based foods and beverages
## 5 en:plant-based-foods-and-beverages Plant-based foods and beverages
## 6                                                                   
##                                                                      image_url
## 1 http://en.openfoodfacts.org/images/products/322/247/574/5867/front.8.400.jpg
## 2 http://en.openfoodfacts.org/images/products/541/097/688/0110/front.7.400.jpg
## 3 http://en.openfoodfacts.org/images/products/326/475/042/3503/front.6.400.jpg
## 4 http://en.openfoodfacts.org/images/products/800/604/024/7001/front.7.400.jpg
## 5 http://en.openfoodfacts.org/images/products/848/000/034/0764/front.6.400.jpg
## 6 http://en.openfoodfacts.org/images/products/008/770/317/7727/front.8.400.jpg
##                                                                image_small_url
## 1 http://en.openfoodfacts.org/images/products/322/247/574/5867/front.8.200.jpg
## 2 http://en.openfoodfacts.org/images/products/541/097/688/0110/front.7.200.jpg
## 3 http://en.openfoodfacts.org/images/products/326/475/042/3503/front.6.200.jpg
## 4 http://en.openfoodfacts.org/images/products/800/604/024/7001/front.7.200.jpg
## 5 http://en.openfoodfacts.org/images/products/848/000/034/0764/front.6.200.jpg
## 6 http://en.openfoodfacts.org/images/products/008/770/317/7727/front.8.200.jpg
##   energy_100g energy_from_fat_100g fat_100g saturated_fat_100g
## 1         918                   NA      0.0                0.0
## 2          NA                   NA       NA                 NA
## 3          NA                   NA       NA                 NA
## 4         766                   NA     16.7                9.9
## 5        2359                   NA     45.5                5.2
## 6          NA                   NA       NA                 NA
##   butyric_acid_100g caproic_acid_100g caprylic_acid_100g capric_acid_100g
## 1                NA                NA                 NA               NA
## 2                NA                NA                 NA               NA
## 3                NA                NA                 NA               NA
## 4                NA                NA                 NA               NA
## 5                NA                NA                 NA               NA
## 6                NA                NA                 NA               NA
##   lauric_acid_100g myristic_acid_100g palmitic_acid_100g stearic_acid_100g
## 1               NA                 NA                 NA                NA
## 2               NA                 NA                 NA                NA
## 3               NA                 NA                 NA                NA
## 4               NA                 NA                 NA                NA
## 5               NA                 NA                 NA                NA
## 6               NA                 NA                 NA                NA
##   arachidic_acid_100g behenic_acid_100g lignoceric_acid_100g
## 1                  NA                NA                   NA
## 2                  NA                NA                   NA
## 3                  NA                NA                   NA
## 4                  NA                NA                   NA
## 5                  NA                NA                   NA
## 6                  NA                NA                   NA
##   cerotic_acid_100g montanic_acid_100g melissic_acid_100g
## 1                NA                 NA                 NA
## 2                NA                 NA                 NA
## 3                NA                 NA                 NA
## 4                NA                 NA                 NA
## 5                NA                 NA                 NA
## 6                NA                 NA                 NA
##   monounsaturated_fat_100g polyunsaturated_fat_100g omega_3_fat_100g
## 1                       NA                       NA               NA
## 2                       NA                       NA               NA
## 3                       NA                       NA               NA
## 4                      2.9                      3.9               NA
## 5                      9.5                     32.8               NA
## 6                       NA                       NA               NA
##   alpha_linolenic_acid_100g eicosapentaenoic_acid_100g
## 1                        NA                         NA
## 2                        NA                         NA
## 3                        NA                         NA
## 4                        NA                         NA
## 5                        NA                         NA
## 6                        NA                         NA
##   docosahexaenoic_acid_100g omega_6_fat_100g linoleic_acid_100g
## 1                        NA               NA                 NA
## 2                        NA               NA                 NA
## 3                        NA               NA                 NA
## 4                        NA               NA                 NA
## 5                        NA               NA                 NA
## 6                        NA               NA                 NA
##   arachidonic_acid_100g gamma_linolenic_acid_100g
## 1                    NA                        NA
## 2                    NA                        NA
## 3                    NA                        NA
## 4                    NA                        NA
## 5                    NA                        NA
## 6                    NA                        NA
##   dihomo_gamma_linolenic_acid_100g omega_9_fat_100g oleic_acid_100g
## 1                               NA               NA              NA
## 2                               NA               NA              NA
## 3                               NA               NA              NA
## 4                               NA               NA              NA
## 5                               NA               NA              NA
## 6                               NA               NA              NA
##   elaidic_acid_100g gondoic_acid_100g mead_acid_100g erucic_acid_100g
## 1                NA                NA             NA               NA
## 2                NA                NA             NA               NA
## 3                NA                NA             NA               NA
## 4                NA                NA             NA               NA
## 5                NA                NA             NA               NA
## 6                NA                NA             NA               NA
##   nervonic_acid_100g trans_fat_100g cholesterol_100g carbohydrates_100g
## 1                 NA             NA               NA               54.0
## 2                 NA             NA               NA                 NA
## 3                 NA             NA               NA                 NA
## 4                 NA             NA            2e-04                5.7
## 5                 NA             NA               NA               17.3
## 6                 NA             NA               NA                 NA
##   sugars_100g sucrose_100g glucose_100g fructose_100g lactose_100g
## 1        54.0           NA           NA            NA           NA
## 2          NA           NA           NA            NA           NA
## 3          NA           NA           NA            NA           NA
## 4         4.2           NA           NA            NA           NA
## 5         2.7           NA           NA            NA           NA
## 6          NA           NA           NA            NA           NA
##   maltose_100g maltodextrins_100g starch_100g polyols_100g fiber_100g
## 1           NA                 NA          NA           NA         NA
## 2           NA                 NA          NA           NA         NA
## 3           NA                 NA          NA           NA         NA
## 4           NA                 NA          NA           NA        0.2
## 5           NA                 NA          NA           NA        9.0
## 6           NA                 NA          NA           NA         NA
##   proteins_100g casein_100g serum_proteins_100g nucleotides_100g salt_100g
## 1           0.0          NA                  NA               NA    0.0000
## 2            NA          NA                  NA               NA        NA
## 3            NA          NA                  NA               NA        NA
## 4           2.9          NA                  NA               NA    0.0508
## 5          18.2          NA                  NA               NA    3.9878
## 6            NA          NA                  NA               NA        NA
##   sodium_100g alcohol_100g vitamin_a_100g beta_carotene_100g
## 1        0.00           NA             NA                 NA
## 2          NA           NA             NA                 NA
## 3          NA           NA             NA                 NA
## 4        0.02           NA             NA                 NA
## 5        1.57           NA             NA                 NA
## 6          NA           NA             NA                 NA
##   vitamin_d_100g vitamin_e_100g vitamin_k_100g vitamin_c_100g
## 1             NA             NA             NA             NA
## 2             NA             NA             NA             NA
## 3             NA             NA             NA             NA
## 4             NA             NA             NA             NA
## 5             NA             NA             NA             NA
## 6             NA             NA             NA             NA
##   vitamin_b1_100g vitamin_b2_100g vitamin_pp_100g vitamin_b6_100g
## 1              NA              NA              NA              NA
## 2              NA              NA              NA              NA
## 3              NA              NA              NA              NA
## 4              NA              NA              NA              NA
## 5              NA              NA              NA              NA
## 6              NA              NA              NA              NA
##   vitamin_b9_100g vitamin_b12_100g biotin_100g pantothenic_acid_100g
## 1              NA               NA          NA                    NA
## 2              NA               NA          NA                    NA
## 3              NA               NA          NA                    NA
## 4              NA               NA          NA                    NA
## 5              NA               NA          NA                    NA
## 6              NA               NA          NA                    NA
##   silica_100g bicarbonate_100g potassium_100g chloride_100g calcium_100g
## 1          NA               NA             NA            NA           NA
## 2          NA               NA             NA            NA           NA
## 3          NA               NA             NA            NA           NA
## 4          NA               NA             NA            NA           NA
## 5          NA               NA             NA            NA           NA
## 6          NA               NA             NA            NA           NA
##   phosphorus_100g iron_100g magnesium_100g zinc_100g copper_100g
## 1              NA        NA             NA        NA          NA
## 2              NA        NA             NA        NA          NA
## 3              NA        NA             NA        NA          NA
## 4              NA        NA             NA        NA          NA
## 5           1.155    0.0038          0.129        NA          NA
## 6              NA        NA             NA        NA          NA
##   manganese_100g fluoride_100g selenium_100g chromium_100g molybdenum_100g
## 1             NA            NA            NA            NA              NA
## 2             NA            NA            NA            NA              NA
## 3             NA            NA            NA            NA              NA
## 4             NA            NA            NA            NA              NA
## 5             NA            NA            NA            NA              NA
## 6             NA            NA            NA            NA              NA
##   iodine_100g caffeine_100g taurine_100g ph_100g
## 1          NA            NA           NA      NA
## 2          NA            NA           NA      NA
## 3          NA            NA           NA      NA
## 4          NA            NA           NA      NA
## 5          NA            NA           NA      NA
## 6          NA            NA           NA      NA
##   fruits_vegetables_nuts_100g collagen_meat_protein_ratio_100g cocoa_100g
## 1                          54                               NA         NA
## 2                          NA                               NA         NA
## 3                          NA                               NA         NA
## 4                          NA                               NA         NA
## 5                          NA                               NA         NA
## 6                          NA                               NA         NA
##   chlorophyl_100g carbon_footprint_100g nutrition_score_fr_100g
## 1              NA                    NA                      11
## 2              NA                    NA                      NA
## 3              NA                    NA                      NA
## 4              NA                    NA                      11
## 5              NA                    NA                      17
## 6              NA                    NA                      NA
##   nutrition_score_uk_100g
## 1                      11
## 2                      NA
## 3                      NA
## 4                      11
## 5                      17
## 6                      NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View structure of food</span>
<span class="kw">str</span>(food)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1500 obs. of  160 variables:
##  $ V1                                        : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ code                                      : int  100030 100050 100079 100094 100124 100136 100194 100221 100257 100258 ...
##  $ url                                       : chr  &quot;http://world-en.openfoodfacts.org/product/3222475745867/confiture-de-fraise-fraise-des-bois-au-sucre-de-canne-casino-delices&quot; &quot;http://world-en.openfoodfacts.org/product/5410976880110/guylian-sea-shells-selection&quot; &quot;http://world-en.openfoodfacts.org/product/3264750423503/pates-de-fruits-aromatisees-jacquot&quot; &quot;http://world-en.openfoodfacts.org/product/8006040247001/nata-vegetal-a-base-de-soja-valsoia&quot; ...
##  $ creator                                   : chr  &quot;sebleouf&quot; &quot;foodorigins&quot; &quot;domdom26&quot; &quot;javichu&quot; ...
##  $ created_t                                 : int  1424747544 1450316429 1428674916 1420416591 1420501121 1437983923 1442420988 1435686217 1436991777 1400516512 ...
##  $ created_datetime                          : chr  &quot;2015-02-24T03:12:24Z&quot; &quot;2015-12-17T01:40:29Z&quot; &quot;2015-04-10T14:08:36Z&quot; &quot;2015-01-05T00:09:51Z&quot; ...
##  $ last_modified_t                           : int  1438445887 1450817956 1428739289 1420417876 1445700917 1445577476 1442420988 1451405288 1436991779 1437236856 ...
##  $ last_modified_datetime                    : chr  &quot;2015-08-01T16:18:07Z&quot; &quot;2015-12-22T20:59:16Z&quot; &quot;2015-04-11T08:01:29Z&quot; &quot;2015-01-05T00:31:16Z&quot; ...
##  $ product_name                              : chr  &quot;Confiture de fraise fraise des bois au sucre de canne&quot; &quot;Guylian Sea Shells Selection&quot; &quot;PÃ¢tes de fruits aromatisÃ©es&quot; &quot;Nata vegetal a base de soja &amp;quot;Valsoia&amp;quot;&quot; ...
##  $ generic_name                              : chr  &quot;&quot; &quot;&quot; &quot;PÃ¢tes de fruits&quot; &quot;Nata vegetal a base de soja&quot; ...
##  $ quantity                                  : chr  &quot;265 g&quot; &quot;375g&quot; &quot;1 kg&quot; &quot;200 ml&quot; ...
##  $ packaging                                 : chr  &quot;Bocal,Verre&quot; &quot;Plastic,Box&quot; &quot;Carton,plastique&quot; &quot;Tetra Brik&quot; ...
##  $ packaging_tags                            : chr  &quot;bocal,verre&quot; &quot;plastic,box&quot; &quot;carton,plastique&quot; &quot;tetra-brik&quot; ...
##  $ brands                                    : chr  &quot;Casino DÃ©lices&quot; &quot;Guylian&quot; &quot;Jacquot&quot; &quot;Valsoia,//Propiedad de://,Valsoia S.p.A.&quot; ...
##  $ brands_tags                               : chr  &quot;casino-delices&quot; &quot;guylian&quot; &quot;jacquot&quot; &quot;valsoia,propiedad-de,valsoia-s-p-a&quot; ...
##  $ categories                                : chr  &quot;Aliments et boissons Ã  base de vÃ©gÃ©taux,Aliments d&#39;origine vÃ©gÃ©tale,Aliments Ã  base de fruits et de lÃ©gu&quot;| __truncated__ &quot;Chocolate&quot; &quot;pÃ¢tes de fruits&quot; &quot;Alimentos y bebidas de origen vegetal,Alimentos de origen vegetal,Natas vegetales,Natas vegetales a base de soj&quot;| __truncated__ ...
##  $ categories_tags                           : chr  &quot;en:plant-based-foods-and-beverages,en:plant-based-foods,en:fruits-and-vegetables-based-foods,en:breakfasts,en:s&quot;| __truncated__ &quot;en:sugary-snacks,en:chocolates&quot; &quot;en:plant-based-foods-and-beverages,en:plant-based-foods,en:fruits-and-vegetables-based-foods,en:sugary-snacks,e&quot;| __truncated__ &quot;en:plant-based-foods-and-beverages,en:plant-based-foods,en:plant-based-creams,en:plant-based-creams-for-cooking&quot;| __truncated__ ...
##  $ categories_en                             : chr  &quot;Plant-based foods and beverages,Plant-based foods,Fruits and vegetables based foods,Breakfasts,Spreads,Fruits b&quot;| __truncated__ &quot;Sugary snacks,Chocolates&quot; &quot;Plant-based foods and beverages,Plant-based foods,Fruits and vegetables based foods,Sugary snacks,Confectioneri&quot;| __truncated__ &quot;Plant-based foods and beverages,Plant-based foods,Plant-based creams,Plant-based creams for cooking,Soy-based c&quot;| __truncated__ ...
##  $ origins                                   : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ origins_tags                              : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ manufacturing_places                      : chr  &quot;France&quot; &quot;Belgium&quot; &quot;&quot; &quot;Italia&quot; ...
##  $ manufacturing_places_tags                 : chr  &quot;france&quot; &quot;belgium&quot; &quot;&quot; &quot;italia&quot; ...
##  $ labels                                    : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;Vegetariano,Vegano,Sin gluten,Sin OMG,Sin lactosa&quot; ...
##  $ labels_tags                               : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;en:vegetarian,en:vegan,en:gluten-free,en:no-gmos,en:no-lactose&quot; ...
##  $ labels_en                                 : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;Vegetarian,Vegan,Gluten-free,No GMOs,No lactose&quot; ...
##  $ emb_codes                                 : chr  &quot;EMB 78015&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ emb_codes_tags                            : chr  &quot;emb-78015&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ first_packaging_code_geo                  : chr  &quot;48.983333,2.066667&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ cities                                    : logi  NA NA NA NA NA NA ...
##  $ cities_tags                               : chr  &quot;andresy-yvelines-france&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ purchase_places                           : chr  &quot;Lyon,France&quot; &quot;NSW,Australia&quot; &quot;France&quot; &quot;Madrid,EspaÃ±a&quot; ...
##  $ stores                                    : chr  &quot;Casino&quot; &quot;&quot; &quot;&quot; &quot;El Corte InglÃ©s&quot; ...
##  $ countries                                 : chr  &quot;France&quot; &quot;Australia&quot; &quot;France&quot; &quot;EspaÃ±a&quot; ...
##  $ countries_tags                            : chr  &quot;en:france&quot; &quot;en:australia&quot; &quot;en:france&quot; &quot;en:spain&quot; ...
##  $ countries_en                              : chr  &quot;France&quot; &quot;Australia&quot; &quot;France&quot; &quot;Spain&quot; ...
##  $ ingredients_text                          : chr  &quot;Sucre de canne, fraises 40 g, fraises des bois 14 g, gÃ©lifiant : pectines de fruits, jus de citron concentrÃ©.&quot;| __truncated__ &quot;&quot; &quot;Pulpe de pommes 50% , sucre, sirop de glucose, gÃ©lifiant : pectine, acidifiant : acide citrique, arÃ´mes, colo&quot;| __truncated__ &quot;Extracto de soja (78%) (agua, semillas de soja 8,3%), grasas vegetales, jarabe de glucosa, dextrosa, emulsionan&quot;| __truncated__ ...
##  $ allergens                                 : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ allergens_en                              : logi  NA NA NA NA NA NA ...
##  $ traces                                    : chr  &quot;Lait,Fruits Ã  coque&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ traces_tags                               : chr  &quot;en:milk,en:nuts&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ traces_en                                 : chr  &quot;Milk,Nuts&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ serving_size                              : chr  &quot;15 g&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ no_nutriments                             : logi  NA NA NA NA NA NA ...
##  $ additives_n                               : int  1 NA 2 5 0 NA NA 0 NA 1 ...
##  $ additives                                 : chr  &quot;[ sucre-de-canne -&gt; fr:sucre-de-canne  ]  [ sucre-de -&gt; fr:sucre-de  ]  [ sucre -&gt; fr:sucre  ]  [ fraises-40-g &quot;| __truncated__ &quot;&quot; &quot;[ pulpe-de-pommes-50 -&gt; fr:pulpe-de-pommes-50  ]  [ pulpe-de-pommes -&gt; fr:pulpe-de-pommes  ]  [ pulpe-de -&gt; fr:&quot;| __truncated__ &quot;[ extracto-de-soja -&gt; es:extracto-de-soja  ]  [ 78 -&gt; es:78  ]  [ agua -&gt; es:agua  ]  [ semillas-de-soja-8 -&gt; e&quot;| __truncated__ ...
##  $ additives_tags                            : chr  &quot;en:e440&quot; &quot;&quot; &quot;en:e440,en:e330&quot; &quot;en:e471,en:e415,en:e407,en:e412,en:e306&quot; ...
##  $ additives_en                              : chr  &quot;E440 - Pectins&quot; &quot;&quot; &quot;E440 - Pectins,E330 - Citric acid&quot; &quot;E471 - Mono- and diglycerides of fatty acids,E415 - Xanthan gum,E407 - Carrageenan,E412 - Guar gum,E306 - Tocop&quot;| __truncated__ ...
##  $ ingredients_from_palm_oil_n               : int  0 NA 0 0 0 NA NA 0 NA 0 ...
##  $ ingredients_from_palm_oil                 : logi  NA NA NA NA NA NA ...
##  $ ingredients_from_palm_oil_tags            : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ ingredients_that_may_be_from_palm_oil_n   : int  0 NA 0 1 0 NA NA 0 NA 0 ...
##  $ ingredients_that_may_be_from_palm_oil     : logi  NA NA NA NA NA NA ...
##  $ ingredients_that_may_be_from_palm_oil_tags: chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;e471-mono-et-diglycerides-d-acides-gras-alimentaires&quot; ...
##  $ nutrition_grade_uk                        : logi  NA NA NA NA NA NA ...
##  $ nutrition_grade_fr                        : chr  &quot;d&quot; &quot;&quot; &quot;&quot; &quot;d&quot; ...
##  $ pnns_groups_1                             : chr  &quot;Sugary snacks&quot; &quot;Sugary snacks&quot; &quot;Fruits and vegetables&quot; &quot;unknown&quot; ...
##  $ pnns_groups_2                             : chr  &quot;Sweets&quot; &quot;Chocolate products&quot; &quot;Fruits&quot; &quot;unknown&quot; ...
##  $ states                                    : chr  &quot;en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-to-be&quot;| __truncated__ &quot;en:to-be-completed, en:nutrition-facts-to-be-completed, en:ingredients-to-be-completed, en:expiration-date-to-b&quot;| __truncated__ &quot;en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-to-be&quot;| __truncated__ &quot;en:to-be-checked, en:complete, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-compl&quot;| __truncated__ ...
##  $ states_tags                               : chr  &quot;en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-to-be-com&quot;| __truncated__ &quot;en:to-be-completed,en:nutrition-facts-to-be-completed,en:ingredients-to-be-completed,en:expiration-date-to-be-c&quot;| __truncated__ &quot;en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-to-be-com&quot;| __truncated__ &quot;en:to-be-checked,en:complete,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-completed&quot;| __truncated__ ...
##  $ states_en                                 : chr  &quot;To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date to be completed,Characte&quot;| __truncated__ &quot;To be completed,Nutrition facts to be completed,Ingredients to be completed,Expiration date to be completed,Cha&quot;| __truncated__ &quot;To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date to be completed,Characte&quot;| __truncated__ &quot;To be checked,Complete,Nutrition facts completed,Ingredients completed,Expiration date completed,Characteristic&quot;| __truncated__ ...
##  $ main_category                             : chr  &quot;en:plant-based-foods-and-beverages&quot; &quot;en:sugary-snacks&quot; &quot;en:plant-based-foods-and-beverages&quot; &quot;en:plant-based-foods-and-beverages&quot; ...
##  $ main_category_en                          : chr  &quot;Plant-based foods and beverages&quot; &quot;Sugary snacks&quot; &quot;Plant-based foods and beverages&quot; &quot;Plant-based foods and beverages&quot; ...
##  $ image_url                                 : chr  &quot;http://en.openfoodfacts.org/images/products/322/247/574/5867/front.8.400.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/541/097/688/0110/front.7.400.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/326/475/042/3503/front.6.400.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/800/604/024/7001/front.7.400.jpg&quot; ...
##  $ image_small_url                           : chr  &quot;http://en.openfoodfacts.org/images/products/322/247/574/5867/front.8.200.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/541/097/688/0110/front.7.200.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/326/475/042/3503/front.6.200.jpg&quot; &quot;http://en.openfoodfacts.org/images/products/800/604/024/7001/front.7.200.jpg&quot; ...
##  $ energy_100g                               : num  918 NA NA 766 2359 ...
##  $ energy_from_fat_100g                      : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ fat_100g                                  : num  0 NA NA 16.7 45.5 NA NA 25 NA 4 ...
##  $ saturated_fat_100g                        : num  0 NA NA 9.9 5.2 NA NA 17 NA 0.54 ...
##  $ butyric_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ caproic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ caprylic_acid_100g                        : logi  NA NA NA NA NA NA ...
##  $ capric_acid_100g                          : logi  NA NA NA NA NA NA ...
##  $ lauric_acid_100g                          : logi  NA NA NA NA NA NA ...
##  $ myristic_acid_100g                        : logi  NA NA NA NA NA NA ...
##  $ palmitic_acid_100g                        : logi  NA NA NA NA NA NA ...
##  $ stearic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ arachidic_acid_100g                       : logi  NA NA NA NA NA NA ...
##  $ behenic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ lignoceric_acid_100g                      : logi  NA NA NA NA NA NA ...
##  $ cerotic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ montanic_acid_100g                        : logi  NA NA NA NA NA NA ...
##  $ melissic_acid_100g                        : logi  NA NA NA NA NA NA ...
##  $ monounsaturated_fat_100g                  : num  NA NA NA 2.9 9.5 NA NA NA NA NA ...
##  $ polyunsaturated_fat_100g                  : num  NA NA NA 3.9 32.8 NA NA NA NA NA ...
##  $ omega_3_fat_100g                          : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ alpha_linolenic_acid_100g                 : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ eicosapentaenoic_acid_100g                : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ docosahexaenoic_acid_100g                 : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ omega_6_fat_100g                          : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ linoleic_acid_100g                        : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ arachidonic_acid_100g                     : logi  NA NA NA NA NA NA ...
##  $ gamma_linolenic_acid_100g                 : logi  NA NA NA NA NA NA ...
##  $ dihomo_gamma_linolenic_acid_100g          : logi  NA NA NA NA NA NA ...
##  $ omega_9_fat_100g                          : logi  NA NA NA NA NA NA ...
##  $ oleic_acid_100g                           : logi  NA NA NA NA NA NA ...
##  $ elaidic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ gondoic_acid_100g                         : logi  NA NA NA NA NA NA ...
##  $ mead_acid_100g                            : logi  NA NA NA NA NA NA ...
##  $ erucic_acid_100g                          : logi  NA NA NA NA NA NA ...
##   [list output truncated]</code></pre>
<p>This is a large dataset and it is difficult to see what is going on. So let’s try dplyr.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load dplyr</span>
<span class="kw">library</span>(dplyr)

<span class="co"># View a glimpse of food</span>
<span class="kw">glimpse</span>(food)</code></pre></div>
<pre><code>## Observations: 1,500
## Variables: 160
## $ V1                                         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7...
## $ code                                       &lt;int&gt; 100030, 100050, 100...
## $ url                                        &lt;chr&gt; &quot;http://world-en.op...
## $ creator                                    &lt;chr&gt; &quot;sebleouf&quot;, &quot;foodor...
## $ created_t                                  &lt;int&gt; 1424747544, 1450316...
## $ created_datetime                           &lt;chr&gt; &quot;2015-02-24T03:12:2...
## $ last_modified_t                            &lt;int&gt; 1438445887, 1450817...
## $ last_modified_datetime                     &lt;chr&gt; &quot;2015-08-01T16:18:0...
## $ product_name                               &lt;chr&gt; &quot;Confiture de frais...
## $ generic_name                               &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;PÃ¢tes de ...
## $ quantity                                   &lt;chr&gt; &quot;265 g&quot;, &quot;375g&quot;, &quot;1...
## $ packaging                                  &lt;chr&gt; &quot;Bocal,Verre&quot;, &quot;Pla...
## $ packaging_tags                             &lt;chr&gt; &quot;bocal,verre&quot;, &quot;pla...
## $ brands                                     &lt;chr&gt; &quot;Casino DÃ©lices&quot;, ...
## $ brands_tags                                &lt;chr&gt; &quot;casino-delices&quot;, &quot;...
## $ categories                                 &lt;chr&gt; &quot;Aliments et boisso...
## $ categories_tags                            &lt;chr&gt; &quot;en:plant-based-foo...
## $ categories_en                              &lt;chr&gt; &quot;Plant-based foods ...
## $ origins                                    &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;Ar...
## $ origins_tags                               &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;ar...
## $ manufacturing_places                       &lt;chr&gt; &quot;France&quot;, &quot;Belgium&quot;...
## $ manufacturing_places_tags                  &lt;chr&gt; &quot;france&quot;, &quot;belgium&quot;...
## $ labels                                     &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;Vegeta...
## $ labels_tags                                &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;en:veg...
## $ labels_en                                  &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;Vegeta...
## $ emb_codes                                  &lt;chr&gt; &quot;EMB 78015&quot;, &quot;&quot;, &quot;&quot;...
## $ emb_codes_tags                             &lt;chr&gt; &quot;emb-78015&quot;, &quot;&quot;, &quot;&quot;...
## $ first_packaging_code_geo                   &lt;chr&gt; &quot;48.983333,2.066667...
## $ cities                                     &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ cities_tags                                &lt;chr&gt; &quot;andresy-yvelines-f...
## $ purchase_places                            &lt;chr&gt; &quot;Lyon,France&quot;, &quot;NSW...
## $ stores                                     &lt;chr&gt; &quot;Casino&quot;, &quot;&quot;, &quot;&quot;, &quot;...
## $ countries                                  &lt;chr&gt; &quot;France&quot;, &quot;Australi...
## $ countries_tags                             &lt;chr&gt; &quot;en:france&quot;, &quot;en:au...
## $ countries_en                               &lt;chr&gt; &quot;France&quot;, &quot;Australi...
## $ ingredients_text                           &lt;chr&gt; &quot;Sucre de canne, fr...
## $ allergens                                  &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,...
## $ allergens_en                               &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ traces                                     &lt;chr&gt; &quot;Lait,Fruits Ã  coq...
## $ traces_tags                                &lt;chr&gt; &quot;en:milk,en:nuts&quot;, ...
## $ traces_en                                  &lt;chr&gt; &quot;Milk,Nuts&quot;, &quot;&quot;, &quot;&quot;...
## $ serving_size                               &lt;chr&gt; &quot;15 g&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,...
## $ no_nutriments                              &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ additives_n                                &lt;int&gt; 1, NA, 2, 5, 0, NA,...
## $ additives                                  &lt;chr&gt; &quot;[ sucre-de-canne -...
## $ additives_tags                             &lt;chr&gt; &quot;en:e440&quot;, &quot;&quot;, &quot;en:...
## $ additives_en                               &lt;chr&gt; &quot;E440 - Pectins&quot;, &quot;...
## $ ingredients_from_palm_oil_n                &lt;int&gt; 0, NA, 0, 0, 0, NA,...
## $ ingredients_from_palm_oil                  &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ ingredients_from_palm_oil_tags             &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,...
## $ ingredients_that_may_be_from_palm_oil_n    &lt;int&gt; 0, NA, 0, 1, 0, NA,...
## $ ingredients_that_may_be_from_palm_oil      &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ ingredients_that_may_be_from_palm_oil_tags &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;e471-m...
## $ nutrition_grade_uk                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ nutrition_grade_fr                         &lt;chr&gt; &quot;d&quot;, &quot;&quot;, &quot;&quot;, &quot;d&quot;, &quot;...
## $ pnns_groups_1                              &lt;chr&gt; &quot;Sugary snacks&quot;, &quot;S...
## $ pnns_groups_2                              &lt;chr&gt; &quot;Sweets&quot;, &quot;Chocolat...
## $ states                                     &lt;chr&gt; &quot;en:to-be-checked, ...
## $ states_tags                                &lt;chr&gt; &quot;en:to-be-checked,e...
## $ states_en                                  &lt;chr&gt; &quot;To be checked,Comp...
## $ main_category                              &lt;chr&gt; &quot;en:plant-based-foo...
## $ main_category_en                           &lt;chr&gt; &quot;Plant-based foods ...
## $ image_url                                  &lt;chr&gt; &quot;http://en.openfood...
## $ image_small_url                            &lt;chr&gt; &quot;http://en.openfood...
## $ energy_100g                                &lt;dbl&gt; 918, NA, NA, 766, 2...
## $ energy_from_fat_100g                       &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ fat_100g                                   &lt;dbl&gt; 0.00, NA, NA, 16.70...
## $ saturated_fat_100g                         &lt;dbl&gt; 0.000, NA, NA, 9.90...
## $ butyric_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ caproic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ caprylic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ capric_acid_100g                           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ lauric_acid_100g                           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ myristic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ palmitic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ stearic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ arachidic_acid_100g                        &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ behenic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ lignoceric_acid_100g                       &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ cerotic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ montanic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ melissic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ monounsaturated_fat_100g                   &lt;dbl&gt; NA, NA, NA, 2.9, 9....
## $ polyunsaturated_fat_100g                   &lt;dbl&gt; NA, NA, NA, 3.9, 32...
## $ omega_3_fat_100g                           &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ alpha_linolenic_acid_100g                  &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ eicosapentaenoic_acid_100g                 &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ docosahexaenoic_acid_100g                  &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ omega_6_fat_100g                           &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ linoleic_acid_100g                         &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ arachidonic_acid_100g                      &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ gamma_linolenic_acid_100g                  &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ dihomo_gamma_linolenic_acid_100g           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ omega_9_fat_100g                           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ oleic_acid_100g                            &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ elaidic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ gondoic_acid_100g                          &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ mead_acid_100g                             &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ erucic_acid_100g                           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ nervonic_acid_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ trans_fat_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ cholesterol_100g                           &lt;dbl&gt; NA, NA, NA, 0.00020...
## $ carbohydrates_100g                         &lt;dbl&gt; 54.00, NA, NA, 5.70...
## $ sugars_100g                                &lt;dbl&gt; 54.00, NA, NA, 4.20...
## $ sucrose_100g                               &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ glucose_100g                               &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ fructose_100g                              &lt;int&gt; NA, NA, NA, NA, NA,...
## $ lactose_100g                               &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ maltose_100g                               &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ maltodextrins_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ starch_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ polyols_100g                               &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ fiber_100g                                 &lt;dbl&gt; NA, NA, NA, 0.2, 9....
## $ proteins_100g                              &lt;dbl&gt; 0.00, NA, NA, 2.90,...
## $ casein_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ serum_proteins_100g                        &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ nucleotides_100g                           &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ salt_100g                                  &lt;dbl&gt; 0.0000000, NA, NA, ...
## $ sodium_100g                                &lt;dbl&gt; 0.0000000, NA, NA, ...
## $ alcohol_100g                               &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_a_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ beta_carotene_100g                         &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_d_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_e_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_k_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_c_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_b1_100g                            &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_b2_100g                            &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_pp_100g                            &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_b6_100g                            &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_b9_100g                            &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ vitamin_b12_100g                           &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ biotin_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ pantothenic_acid_100g                      &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ silica_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ bicarbonate_100g                           &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ potassium_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ chloride_100g                              &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ calcium_100g                               &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ phosphorus_100g                            &lt;dbl&gt; NA, NA, NA, NA, 1.1...
## $ iron_100g                                  &lt;dbl&gt; NA, NA, NA, NA, 0.0...
## $ magnesium_100g                             &lt;dbl&gt; NA, NA, NA, NA, 0.1...
## $ zinc_100g                                  &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ copper_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ manganese_100g                             &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ fluoride_100g                              &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ selenium_100g                              &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ chromium_100g                              &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ molybdenum_100g                            &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ iodine_100g                                &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ caffeine_100g                              &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ taurine_100g                               &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ ph_100g                                    &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ fruits_vegetables_nuts_100g                &lt;dbl&gt; 54, NA, NA, NA, NA,...
## $ collagen_meat_protein_ratio_100g           &lt;int&gt; NA, NA, NA, NA, NA,...
## $ cocoa_100g                                 &lt;int&gt; NA, NA, NA, NA, NA,...
## $ chlorophyl_100g                            &lt;lgl&gt; NA, NA, NA, NA, NA,...
## $ carbon_footprint_100g                      &lt;dbl&gt; NA, NA, NA, NA, NA,...
## $ nutrition_score_fr_100g                    &lt;int&gt; 11, NA, NA, 11, 17,...
## $ nutrition_score_uk_100g                    &lt;int&gt; 11, NA, NA, 11, 17,...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View column names of food</span>
<span class="kw">names</span>(food)</code></pre></div>
<pre><code>##   [1] &quot;V1&quot;                                        
##   [2] &quot;code&quot;                                      
##   [3] &quot;url&quot;                                       
##   [4] &quot;creator&quot;                                   
##   [5] &quot;created_t&quot;                                 
##   [6] &quot;created_datetime&quot;                          
##   [7] &quot;last_modified_t&quot;                           
##   [8] &quot;last_modified_datetime&quot;                    
##   [9] &quot;product_name&quot;                              
##  [10] &quot;generic_name&quot;                              
##  [11] &quot;quantity&quot;                                  
##  [12] &quot;packaging&quot;                                 
##  [13] &quot;packaging_tags&quot;                            
##  [14] &quot;brands&quot;                                    
##  [15] &quot;brands_tags&quot;                               
##  [16] &quot;categories&quot;                                
##  [17] &quot;categories_tags&quot;                           
##  [18] &quot;categories_en&quot;                             
##  [19] &quot;origins&quot;                                   
##  [20] &quot;origins_tags&quot;                              
##  [21] &quot;manufacturing_places&quot;                      
##  [22] &quot;manufacturing_places_tags&quot;                 
##  [23] &quot;labels&quot;                                    
##  [24] &quot;labels_tags&quot;                               
##  [25] &quot;labels_en&quot;                                 
##  [26] &quot;emb_codes&quot;                                 
##  [27] &quot;emb_codes_tags&quot;                            
##  [28] &quot;first_packaging_code_geo&quot;                  
##  [29] &quot;cities&quot;                                    
##  [30] &quot;cities_tags&quot;                               
##  [31] &quot;purchase_places&quot;                           
##  [32] &quot;stores&quot;                                    
##  [33] &quot;countries&quot;                                 
##  [34] &quot;countries_tags&quot;                            
##  [35] &quot;countries_en&quot;                              
##  [36] &quot;ingredients_text&quot;                          
##  [37] &quot;allergens&quot;                                 
##  [38] &quot;allergens_en&quot;                              
##  [39] &quot;traces&quot;                                    
##  [40] &quot;traces_tags&quot;                               
##  [41] &quot;traces_en&quot;                                 
##  [42] &quot;serving_size&quot;                              
##  [43] &quot;no_nutriments&quot;                             
##  [44] &quot;additives_n&quot;                               
##  [45] &quot;additives&quot;                                 
##  [46] &quot;additives_tags&quot;                            
##  [47] &quot;additives_en&quot;                              
##  [48] &quot;ingredients_from_palm_oil_n&quot;               
##  [49] &quot;ingredients_from_palm_oil&quot;                 
##  [50] &quot;ingredients_from_palm_oil_tags&quot;            
##  [51] &quot;ingredients_that_may_be_from_palm_oil_n&quot;   
##  [52] &quot;ingredients_that_may_be_from_palm_oil&quot;     
##  [53] &quot;ingredients_that_may_be_from_palm_oil_tags&quot;
##  [54] &quot;nutrition_grade_uk&quot;                        
##  [55] &quot;nutrition_grade_fr&quot;                        
##  [56] &quot;pnns_groups_1&quot;                             
##  [57] &quot;pnns_groups_2&quot;                             
##  [58] &quot;states&quot;                                    
##  [59] &quot;states_tags&quot;                               
##  [60] &quot;states_en&quot;                                 
##  [61] &quot;main_category&quot;                             
##  [62] &quot;main_category_en&quot;                          
##  [63] &quot;image_url&quot;                                 
##  [64] &quot;image_small_url&quot;                           
##  [65] &quot;energy_100g&quot;                               
##  [66] &quot;energy_from_fat_100g&quot;                      
##  [67] &quot;fat_100g&quot;                                  
##  [68] &quot;saturated_fat_100g&quot;                        
##  [69] &quot;butyric_acid_100g&quot;                         
##  [70] &quot;caproic_acid_100g&quot;                         
##  [71] &quot;caprylic_acid_100g&quot;                        
##  [72] &quot;capric_acid_100g&quot;                          
##  [73] &quot;lauric_acid_100g&quot;                          
##  [74] &quot;myristic_acid_100g&quot;                        
##  [75] &quot;palmitic_acid_100g&quot;                        
##  [76] &quot;stearic_acid_100g&quot;                         
##  [77] &quot;arachidic_acid_100g&quot;                       
##  [78] &quot;behenic_acid_100g&quot;                         
##  [79] &quot;lignoceric_acid_100g&quot;                      
##  [80] &quot;cerotic_acid_100g&quot;                         
##  [81] &quot;montanic_acid_100g&quot;                        
##  [82] &quot;melissic_acid_100g&quot;                        
##  [83] &quot;monounsaturated_fat_100g&quot;                  
##  [84] &quot;polyunsaturated_fat_100g&quot;                  
##  [85] &quot;omega_3_fat_100g&quot;                          
##  [86] &quot;alpha_linolenic_acid_100g&quot;                 
##  [87] &quot;eicosapentaenoic_acid_100g&quot;                
##  [88] &quot;docosahexaenoic_acid_100g&quot;                 
##  [89] &quot;omega_6_fat_100g&quot;                          
##  [90] &quot;linoleic_acid_100g&quot;                        
##  [91] &quot;arachidonic_acid_100g&quot;                     
##  [92] &quot;gamma_linolenic_acid_100g&quot;                 
##  [93] &quot;dihomo_gamma_linolenic_acid_100g&quot;          
##  [94] &quot;omega_9_fat_100g&quot;                          
##  [95] &quot;oleic_acid_100g&quot;                           
##  [96] &quot;elaidic_acid_100g&quot;                         
##  [97] &quot;gondoic_acid_100g&quot;                         
##  [98] &quot;mead_acid_100g&quot;                            
##  [99] &quot;erucic_acid_100g&quot;                          
## [100] &quot;nervonic_acid_100g&quot;                        
## [101] &quot;trans_fat_100g&quot;                            
## [102] &quot;cholesterol_100g&quot;                          
## [103] &quot;carbohydrates_100g&quot;                        
## [104] &quot;sugars_100g&quot;                               
## [105] &quot;sucrose_100g&quot;                              
## [106] &quot;glucose_100g&quot;                              
## [107] &quot;fructose_100g&quot;                             
## [108] &quot;lactose_100g&quot;                              
## [109] &quot;maltose_100g&quot;                              
## [110] &quot;maltodextrins_100g&quot;                        
## [111] &quot;starch_100g&quot;                               
## [112] &quot;polyols_100g&quot;                              
## [113] &quot;fiber_100g&quot;                                
## [114] &quot;proteins_100g&quot;                             
## [115] &quot;casein_100g&quot;                               
## [116] &quot;serum_proteins_100g&quot;                       
## [117] &quot;nucleotides_100g&quot;                          
## [118] &quot;salt_100g&quot;                                 
## [119] &quot;sodium_100g&quot;                               
## [120] &quot;alcohol_100g&quot;                              
## [121] &quot;vitamin_a_100g&quot;                            
## [122] &quot;beta_carotene_100g&quot;                        
## [123] &quot;vitamin_d_100g&quot;                            
## [124] &quot;vitamin_e_100g&quot;                            
## [125] &quot;vitamin_k_100g&quot;                            
## [126] &quot;vitamin_c_100g&quot;                            
## [127] &quot;vitamin_b1_100g&quot;                           
## [128] &quot;vitamin_b2_100g&quot;                           
## [129] &quot;vitamin_pp_100g&quot;                           
## [130] &quot;vitamin_b6_100g&quot;                           
## [131] &quot;vitamin_b9_100g&quot;                           
## [132] &quot;vitamin_b12_100g&quot;                          
## [133] &quot;biotin_100g&quot;                               
## [134] &quot;pantothenic_acid_100g&quot;                     
## [135] &quot;silica_100g&quot;                               
## [136] &quot;bicarbonate_100g&quot;                          
## [137] &quot;potassium_100g&quot;                            
## [138] &quot;chloride_100g&quot;                             
## [139] &quot;calcium_100g&quot;                              
## [140] &quot;phosphorus_100g&quot;                           
## [141] &quot;iron_100g&quot;                                 
## [142] &quot;magnesium_100g&quot;                            
## [143] &quot;zinc_100g&quot;                                 
## [144] &quot;copper_100g&quot;                               
## [145] &quot;manganese_100g&quot;                            
## [146] &quot;fluoride_100g&quot;                             
## [147] &quot;selenium_100g&quot;                             
## [148] &quot;chromium_100g&quot;                             
## [149] &quot;molybdenum_100g&quot;                           
## [150] &quot;iodine_100g&quot;                               
## [151] &quot;caffeine_100g&quot;                             
## [152] &quot;taurine_100g&quot;                              
## [153] &quot;ph_100g&quot;                                   
## [154] &quot;fruits_vegetables_nuts_100g&quot;               
## [155] &quot;collagen_meat_protein_ratio_100g&quot;          
## [156] &quot;cocoa_100g&quot;                                
## [157] &quot;chlorophyl_100g&quot;                           
## [158] &quot;carbon_footprint_100g&quot;                     
## [159] &quot;nutrition_score_fr_100g&quot;                   
## [160] &quot;nutrition_score_uk_100g&quot;</code></pre>
<p>There is a lot of information there, there’s some information on what and when information was added (1:9), meta information about food (10:17, 22:27), where it came from (18:21, 28:34), what it’s made of (35:52), nutrition grades (53:54), some unclear (55:63), and some nutritional information (64:159).</p>
<p>There are also some duplicates, different pairs of columns that contain duplicate information. There are many columns containing information that you just can’t use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define vector of duplicate cols </span>
duplicates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">17</span>, <span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">22</span>, 
                <span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">28</span>, <span class="dv">32</span>, <span class="dv">34</span>, <span class="dv">36</span>, <span class="dv">38</span>, <span class="dv">40</span>, 
                <span class="dv">44</span>, <span class="dv">46</span>, <span class="dv">48</span>, <span class="dv">51</span>, <span class="dv">54</span>, <span class="dv">65</span>, <span class="dv">158</span>)

<span class="co"># Remove duplicates from food: food2</span>
food2 &lt;-<span class="st"> </span>food[, <span class="op">-</span>duplicates]

<span class="co"># Define useless vector </span>
useless &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">32</span><span class="op">:</span><span class="dv">41</span>)

<span class="co"># Remove useless columns from food2: food3</span>
food3 &lt;-<span class="st"> </span>food2[, <span class="op">-</span>useless]</code></pre></div>
<p>Earlier on we saw that there are many columns containing nutritional information in them, identified with a ‘100g’ label in the column name. If we want to use the nutritional information, we can therefore use this to identify those columns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stringr)

<span class="co"># Create vector of column indices: nutrition</span>
nutrition &lt;-<span class="st"> </span><span class="kw">str_detect</span>(<span class="kw">names</span>(food3), <span class="st">&quot;100g&quot;</span>)

<span class="co"># View the number of columns it applies to</span>
<span class="kw">summary</span>(nutrition)</code></pre></div>
<pre><code>##    Mode   FALSE    TRUE 
## logical      29      94</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View a summary of nutrition columns</span>
<span class="kw">summary</span>(food3[, nutrition])</code></pre></div>
<pre><code>##  energy_from_fat_100g    fat_100g      saturated_fat_100g
##  Min.   :   0.00      Min.   :  0.00   Min.   : 0.000    
##  1st Qu.:  35.98      1st Qu.:  0.90   1st Qu.: 0.200    
##  Median : 237.00      Median :  6.00   Median : 1.700    
##  Mean   : 668.41      Mean   : 13.39   Mean   : 4.874    
##  3rd Qu.: 974.00      3rd Qu.: 20.00   3rd Qu.: 6.500    
##  Max.   :2900.00      Max.   :100.00   Max.   :57.000    
##  NA&#39;s   :1486         NA&#39;s   :708      NA&#39;s   :797       
##  butyric_acid_100g caproic_acid_100g caprylic_acid_100g capric_acid_100g
##  Mode:logical      Mode:logical      Mode:logical       Mode:logical    
##  NA&#39;s:1500         NA&#39;s:1500         NA&#39;s:1500          NA&#39;s:1500       
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##                                                                         
##  lauric_acid_100g myristic_acid_100g palmitic_acid_100g stearic_acid_100g
##  Mode:logical     Mode:logical       Mode:logical       Mode:logical     
##  NA&#39;s:1500        NA&#39;s:1500          NA&#39;s:1500          NA&#39;s:1500        
##                                                                          
##                                                                          
##                                                                          
##                                                                          
##                                                                          
##  arachidic_acid_100g behenic_acid_100g lignoceric_acid_100g
##  Mode:logical        Mode:logical      Mode:logical        
##  NA&#39;s:1500           NA&#39;s:1500         NA&#39;s:1500           
##                                                            
##                                                            
##                                                            
##                                                            
##                                                            
##  cerotic_acid_100g montanic_acid_100g melissic_acid_100g
##  Mode:logical      Mode:logical       Mode:logical      
##  NA&#39;s:1500         NA&#39;s:1500          NA&#39;s:1500         
##                                                         
##                                                         
##                                                         
##                                                         
##                                                         
##  monounsaturated_fat_100g polyunsaturated_fat_100g omega_3_fat_100g
##  Min.   : 0.00            Min.   : 0.400           Min.   : 0.033  
##  1st Qu.: 3.87            1st Qu.: 1.653           1st Qu.: 1.300  
##  Median : 9.50            Median : 3.900           Median : 3.000  
##  Mean   :19.77            Mean   : 9.986           Mean   : 3.726  
##  3rd Qu.:29.00            3rd Qu.:12.700           3rd Qu.: 3.200  
##  Max.   :75.00            Max.   :46.200           Max.   :12.400  
##  NA&#39;s   :1465             NA&#39;s   :1464             NA&#39;s   :1491    
##  alpha_linolenic_acid_100g eicosapentaenoic_acid_100g
##  Min.   :0.0800            Min.   :0.721             
##  1st Qu.:0.0905            1st Qu.:0.721             
##  Median :0.1010            Median :0.721             
##  Mean   :0.1737            Mean   :0.721             
##  3rd Qu.:0.2205            3rd Qu.:0.721             
##  Max.   :0.3400            Max.   :0.721             
##  NA&#39;s   :1497              NA&#39;s   :1499              
##  docosahexaenoic_acid_100g omega_6_fat_100g linoleic_acid_100g
##  Min.   :1.09              Min.   :0.25     Min.   :0.5000    
##  1st Qu.:1.09              1st Qu.:0.25     1st Qu.:0.5165    
##  Median :1.09              Median :0.25     Median :0.5330    
##  Mean   :1.09              Mean   :0.25     Mean   :0.5330    
##  3rd Qu.:1.09              3rd Qu.:0.25     3rd Qu.:0.5495    
##  Max.   :1.09              Max.   :0.25     Max.   :0.5660    
##  NA&#39;s   :1499              NA&#39;s   :1499     NA&#39;s   :1498      
##  arachidonic_acid_100g gamma_linolenic_acid_100g
##  Mode:logical          Mode:logical             
##  NA&#39;s:1500             NA&#39;s:1500                
##                                                 
##                                                 
##                                                 
##                                                 
##                                                 
##  dihomo_gamma_linolenic_acid_100g omega_9_fat_100g oleic_acid_100g
##  Mode:logical                     Mode:logical     Mode:logical   
##  NA&#39;s:1500                        NA&#39;s:1500        NA&#39;s:1500      
##                                                                   
##                                                                   
##                                                                   
##                                                                   
##                                                                   
##  elaidic_acid_100g gondoic_acid_100g mead_acid_100g erucic_acid_100g
##  Mode:logical      Mode:logical      Mode:logical   Mode:logical    
##  NA&#39;s:1500         NA&#39;s:1500         NA&#39;s:1500      NA&#39;s:1500       
##                                                                     
##                                                                     
##                                                                     
##                                                                     
##                                                                     
##  nervonic_acid_100g trans_fat_100g   cholesterol_100g carbohydrates_100g
##  Mode:logical       Min.   :0.0000   Min.   :0.0000   Min.   :  0.000   
##  NA&#39;s:1500          1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:  3.792   
##                     Median :0.0000   Median :0.0000   Median : 13.500   
##                     Mean   :0.0105   Mean   :0.0265   Mean   : 27.958   
##                     3rd Qu.:0.0000   3rd Qu.:0.0026   3rd Qu.: 55.000   
##                     Max.   :0.1000   Max.   :0.4300   Max.   :100.000   
##                     NA&#39;s   :1481     NA&#39;s   :1477     NA&#39;s   :708       
##   sugars_100g     sucrose_100g   glucose_100g   fructose_100g 
##  Min.   :  0.00   Mode:logical   Mode:logical   Min.   :100   
##  1st Qu.:  1.00   NA&#39;s:1500      NA&#39;s:1500      1st Qu.:100   
##  Median :  4.05                                 Median :100   
##  Mean   : 12.66                                 Mean   :100   
##  3rd Qu.: 14.70                                 3rd Qu.:100   
##  Max.   :100.00                                 Max.   :100   
##  NA&#39;s   :788                                    NA&#39;s   :1499  
##   lactose_100g   maltose_100g   maltodextrins_100g  starch_100g   
##  Min.   :0.000   Mode:logical   Mode:logical       Min.   : 0.00  
##  1st Qu.:0.250   NA&#39;s:1500      NA&#39;s:1500          1st Qu.: 9.45  
##  Median :0.500                                     Median :39.50  
##  Mean   :2.933                                     Mean   :30.73  
##  3rd Qu.:4.400                                     3rd Qu.:42.85  
##  Max.   :8.300                                     Max.   :71.00  
##  NA&#39;s   :1497                                      NA&#39;s   :1493   
##   polyols_100g     fiber_100g     proteins_100g     casein_100g  
##  Min.   : 8.60   Min.   : 0.000   Min.   : 0.000   Min.   :1.1   
##  1st Qu.:59.10   1st Qu.: 0.500   1st Qu.: 1.500   1st Qu.:1.1   
##  Median :67.00   Median : 1.750   Median : 6.000   Median :1.1   
##  Mean   :56.06   Mean   : 2.823   Mean   : 7.563   Mean   :1.1   
##  3rd Qu.:69.80   3rd Qu.: 3.500   3rd Qu.:10.675   3rd Qu.:1.1   
##  Max.   :70.00   Max.   :46.700   Max.   :61.000   Max.   :1.1   
##  NA&#39;s   :1491    NA&#39;s   :994      NA&#39;s   :710      NA&#39;s   :1499  
##  serum_proteins_100g nucleotides_100g   salt_100g         sodium_100g     
##  Mode:logical        Mode:logical     Min.   :  0.0000   Min.   : 0.0000  
##  NA&#39;s:1500           NA&#39;s:1500        1st Qu.:  0.0438   1st Qu.: 0.0172  
##                                       Median :  0.4498   Median : 0.1771  
##                                       Mean   :  1.1205   Mean   : 0.4409  
##                                       3rd Qu.:  1.1938   3rd Qu.: 0.4700  
##                                       Max.   :102.0000   Max.   :40.0000  
##                                       NA&#39;s   :780        NA&#39;s   :780      
##   alcohol_100g   vitamin_a_100g   beta_carotene_100g vitamin_d_100g 
##  Min.   : 0.00   Min.   :0.0000   Mode:logical       Min.   :0e+00  
##  1st Qu.: 0.00   1st Qu.:0.0000   NA&#39;s:1500          1st Qu.:0e+00  
##  Median : 5.50   Median :0.0001                      Median :0e+00  
##  Mean   :10.07   Mean   :0.0003                      Mean   :0e+00  
##  3rd Qu.:13.00   3rd Qu.:0.0006                      3rd Qu.:0e+00  
##  Max.   :50.00   Max.   :0.0013                      Max.   :1e-04  
##  NA&#39;s   :1433    NA&#39;s   :1477                        NA&#39;s   :1485   
##  vitamin_e_100g   vitamin_k_100g vitamin_c_100g  vitamin_b1_100g 
##  Min.   :0.0005   Min.   :0      Min.   :0.000   Min.   :0.0001  
##  1st Qu.:0.0021   1st Qu.:0      1st Qu.:0.002   1st Qu.:0.0003  
##  Median :0.0044   Median :0      Median :0.019   Median :0.0004  
##  Mean   :0.0069   Mean   :0      Mean   :0.025   Mean   :0.0006  
##  3rd Qu.:0.0097   3rd Qu.:0      3rd Qu.:0.030   3rd Qu.:0.0010  
##  Max.   :0.0320   Max.   :0      Max.   :0.217   Max.   :0.0013  
##  NA&#39;s   :1478     NA&#39;s   :1498   NA&#39;s   :1459    NA&#39;s   :1478    
##  vitamin_b2_100g  vitamin_pp_100g  vitamin_b6_100g  vitamin_b9_100g
##  Min.   :0.0002   Min.   :0.0006   Min.   :0.0001   Min.   :0e+00  
##  1st Qu.:0.0003   1st Qu.:0.0033   1st Qu.:0.0002   1st Qu.:0e+00  
##  Median :0.0009   Median :0.0069   Median :0.0008   Median :1e-04  
##  Mean   :0.0011   Mean   :0.0086   Mean   :0.0112   Mean   :1e-04  
##  3rd Qu.:0.0013   3rd Qu.:0.0140   3rd Qu.:0.0012   3rd Qu.:2e-04  
##  Max.   :0.0066   Max.   :0.0160   Max.   :0.2000   Max.   :2e-04  
##  NA&#39;s   :1483     NA&#39;s   :1484     NA&#39;s   :1481     NA&#39;s   :1483   
##  vitamin_b12_100g  biotin_100g   pantothenic_acid_100g  silica_100g   
##  Min.   :0        Min.   :0      Min.   :0.0000        Min.   :8e-04  
##  1st Qu.:0        1st Qu.:0      1st Qu.:0.0007        1st Qu.:8e-04  
##  Median :0        Median :0      Median :0.0020        Median :8e-04  
##  Mean   :0        Mean   :0      Mean   :0.0027        Mean   :8e-04  
##  3rd Qu.:0        3rd Qu.:0      3rd Qu.:0.0051        3rd Qu.:8e-04  
##  Max.   :0        Max.   :0      Max.   :0.0060        Max.   :8e-04  
##  NA&#39;s   :1489     NA&#39;s   :1498   NA&#39;s   :1486          NA&#39;s   :1499   
##  bicarbonate_100g potassium_100g   chloride_100g     calcium_100g   
##  Min.   :0.0006   Min.   :0.0000   Min.   :0.0003   Min.   :0.0000  
##  1st Qu.:0.0678   1st Qu.:0.0650   1st Qu.:0.0006   1st Qu.:0.0450  
##  Median :0.1350   Median :0.1940   Median :0.0009   Median :0.1200  
##  Mean   :0.1692   Mean   :0.3288   Mean   :0.0144   Mean   :0.2040  
##  3rd Qu.:0.2535   3rd Qu.:0.3670   3rd Qu.:0.0214   3rd Qu.:0.1985  
##  Max.   :0.3720   Max.   :1.4300   Max.   :0.0420   Max.   :1.0000  
##  NA&#39;s   :1497     NA&#39;s   :1487     NA&#39;s   :1497     NA&#39;s   :1449    
##  phosphorus_100g    iron_100g      magnesium_100g     zinc_100g     
##  Min.   :0.0430   Min.   :0.0000   Min.   :0.0000   Min.   :0.0005  
##  1st Qu.:0.1938   1st Qu.:0.0012   1st Qu.:0.0670   1st Qu.:0.0009  
##  Median :0.3185   Median :0.0042   Median :0.1040   Median :0.0017  
##  Mean   :0.3777   Mean   :0.0045   Mean   :0.1066   Mean   :0.0016  
##  3rd Qu.:0.4340   3rd Qu.:0.0077   3rd Qu.:0.1300   3rd Qu.:0.0022  
##  Max.   :1.1550   Max.   :0.0137   Max.   :0.3330   Max.   :0.0026  
##  NA&#39;s   :1488     NA&#39;s   :1463     NA&#39;s   :1479     NA&#39;s   :1493    
##   copper_100g    manganese_100g fluoride_100g  selenium_100g 
##  Min.   :0e+00   Min.   :0      Min.   :0      Min.   :0     
##  1st Qu.:1e-04   1st Qu.:0      1st Qu.:0      1st Qu.:0     
##  Median :1e-04   Median :0      Median :0      Median :0     
##  Mean   :1e-04   Mean   :0      Mean   :0      Mean   :0     
##  3rd Qu.:1e-04   3rd Qu.:0      3rd Qu.:0      3rd Qu.:0     
##  Max.   :1e-04   Max.   :0      Max.   :0      Max.   :0     
##  NA&#39;s   :1498    NA&#39;s   :1499   NA&#39;s   :1498   NA&#39;s   :1499  
##  chromium_100g  molybdenum_100g  iodine_100g   caffeine_100g 
##  Mode:logical   Mode:logical    Min.   :0      Mode:logical  
##  NA&#39;s:1500      NA&#39;s:1500       1st Qu.:0      NA&#39;s:1500     
##                                 Median :0                    
##                                 Mean   :0                    
##                                 3rd Qu.:0                    
##                                 Max.   :0                    
##                                 NA&#39;s   :1499                 
##  taurine_100g   ph_100g        fruits_vegetables_nuts_100g
##  Mode:logical   Mode:logical   Min.   : 2.00              
##  NA&#39;s:1500      NA&#39;s:1500      1st Qu.:11.25              
##                                Median :42.00              
##                                Mean   :36.88              
##                                3rd Qu.:52.25              
##                                Max.   :80.00              
##                                NA&#39;s   :1470               
##  collagen_meat_protein_ratio_100g   cocoa_100g   chlorophyl_100g
##  Min.   :12.00                    Min.   :30     Mode:logical   
##  1st Qu.:13.50                    1st Qu.:47     NA&#39;s:1500      
##  Median :15.00                    Median :60                    
##  Mean   :15.67                    Mean   :57                    
##  3rd Qu.:17.50                    3rd Qu.:70                    
##  Max.   :20.00                    Max.   :81                    
##  NA&#39;s   :1497                     NA&#39;s   :1491                  
##  nutrition_score_fr_100g nutrition_score_uk_100g
##  Min.   :-12.000         Min.   :-12.000        
##  1st Qu.:  1.000         1st Qu.:  0.000        
##  Median :  7.000         Median :  6.000        
##  Mean   :  7.941         Mean   :  7.631        
##  3rd Qu.: 15.000         3rd Qu.: 16.000        
##  Max.   : 28.000         Max.   : 28.000        
##  NA&#39;s   :825             NA&#39;s   :825</code></pre>
<p>We can see there are a large number of missing (NA) values. For some variables however, NA is sometimes left as the default where the actual number is zero. This is the case with the sugars_100g column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find indices of sugar NA values: missing</span>
missing &lt;-<span class="st"> </span><span class="kw">is.na</span>(food3<span class="op">$</span>sugars_100g)

<span class="co"># Replace NA values with 0</span>
food3<span class="op">$</span>sugars_100g[missing] &lt;-<span class="st"> </span><span class="dv">0</span>

<span class="co"># Create first histogram</span>
<span class="kw">hist</span>(food3<span class="op">$</span>sugars_100g, <span class="dt">breaks =</span> <span class="dv">100</span>)</code></pre></div>
<p><img src="CleaningDataCaseStudies_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create food4</span>
food4 &lt;-<span class="st"> </span>food3[food3<span class="op">$</span>sugars_100g <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>, ]

<span class="co"># Create second histogram</span>
<span class="kw">hist</span>(food4<span class="op">$</span>sugars_100g, <span class="dt">breaks =</span> <span class="dv">100</span>)</code></pre></div>
<p><img src="CleaningDataCaseStudies_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<p>Your dataset has information about packaging, but there’s a bit of a problem: it’s stored in several different languages (Spanish, French, and English).</p>
<p>The root word for plastic is same in English (plastic), French (plastique), and Spanish (plastico). To get a general idea of how many of these foods are packaged in plastic, you can look through the packaging_tags column for the string “plasti”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find entries containing &quot;plasti&quot;: plastic</span>
plastic &lt;-<span class="st"> </span><span class="kw">str_detect</span>(food3<span class="op">$</span>packaging_tags, <span class="st">&quot;plasti&quot;</span>)

<span class="co"># Print the sum of plastic</span>
<span class="kw">sum</span>(plastic)</code></pre></div>
<pre><code>## [1] 0</code></pre>
</div>
<div id="school-attendance-data" class="section level2">
<h2><span class="header-section-number">5.5</span> School Attendance Data</h2>
<p>In this section we will work with attendance data from public schools in the US, organized by school level and state, during the 2007-2008 academic year. The data contain information on average daily attendance (ADA) as a percentage of total enrollment, school day length, and school year length.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the gdata package</span>
<span class="kw">library</span>(gdata)

<span class="co"># Import the spreadsheet: att.  </span><span class="al">NOTE</span><span class="co">: Requires perl to be installed</span>
url &lt;-<span class="st"> &#39;http://s3.amazonaws.com/assets.datacamp.com/production/course_1294/datasets/attendance.xls&#39;</span>
att &lt;-<span class="st"> </span><span class="kw">read.xls</span>(url)

<span class="co"># Print the column names </span>
<span class="kw">names</span>(att)</code></pre></div>
<pre><code>##  [1] &quot;Table.43..Average.daily.attendance..ADA..as.a.percentage.of.total.enrollment..school.day.length..and.school.year.length.in.public.schools..by.school.level.and.state..2007.08&quot;
##  [2] &quot;X&quot;                                                                                                                                                                            
##  [3] &quot;X.1&quot;                                                                                                                                                                          
##  [4] &quot;X.2&quot;                                                                                                                                                                          
##  [5] &quot;X.3&quot;                                                                                                                                                                          
##  [6] &quot;X.4&quot;                                                                                                                                                                          
##  [7] &quot;X.5&quot;                                                                                                                                                                          
##  [8] &quot;X.6&quot;                                                                                                                                                                          
##  [9] &quot;X.7&quot;                                                                                                                                                                          
## [10] &quot;X.8&quot;                                                                                                                                                                          
## [11] &quot;X.9&quot;                                                                                                                                                                          
## [12] &quot;X.10&quot;                                                                                                                                                                         
## [13] &quot;X.11&quot;                                                                                                                                                                         
## [14] &quot;X.12&quot;                                                                                                                                                                         
## [15] &quot;X.13&quot;                                                                                                                                                                         
## [16] &quot;X.14&quot;                                                                                                                                                                         
## [17] &quot;X.15&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print the first 6 rows</span>
<span class="kw">head</span>(att)</code></pre></div>
<pre><code>##   Table.43..Average.daily.attendance..ADA..as.a.percentage.of.total.enrollment..school.day.length..and.school.year.length.in.public.schools..by.school.level.and.state..2007.08
## 1                                                                                                                                                                              
## 2                                                                                                                                                                              
## 3                                                                                                                                                                             1
## 4                                                                                                                                                        United States ........
## 5                                                                                                                                                     Alabama .................
## 6                                                                                                                                                     Alaska ..................
##                                                                        X
## 1 Total elementary, secondary, and combined elementary/secondary schools
## 2                                           ADA as percent of enrollment
## 3                                                                      2
## 4                                                                   93.1
## 5                                                                   93.8
## 6                                                                   89.9
##      X.1                         X.2    X.3                         X.4
## 1                                                                      
## 2        Average hours in school day        Average days in school year
## 3                                  3                                  4
## 4 (0.22)                         6.6 (0.02)                         180
## 5 (1.24)                         7.0 (0.07)                         180
## 6 (1.22)                         6.5 (0.05)                         180
##     X.5                          X.6    X.7                          X.8
## 1                                                     Elementary schools
## 2       Average hours in school year        ADA as percent of enrollment
## 3                                  5                                   6
## 4 (0.1)                        1,193  (3.1)                         94.0
## 5 (0.8)                        1,267 (12.3)                         93.8
## 6 (3.4)                        1,163 (22.9)                         91.3
##      X.9                        X.10   X.11                         X.12
## 1                                                      Secondary schools
## 2        Average hours in school day        ADA as percent of enrollment
## 3                                  7                                   8
## 4 (0.27)                         6.7 (0.02)                         91.1
## 5 (1.84)                         7.0 (0.08)                         94.6
## 6 (1.56)                         6.5 (0.05)                         93.2
##     X.13                        X.14   X.15
## 1                                          
## 2        Average hours in school day       
## 3                                  9       
## 4 (0.43)                         6.6 (0.04)
## 5 (0.38)                         7.1 (0.17)
## 6 (1.57)                         6.2 (0.15)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print the last 6 rows</span>
<span class="kw">tail</span>(att)</code></pre></div>
<pre><code>##                                                                            Table.43..Average.daily.attendance..ADA..as.a.percentage.of.total.enrollment..school.day.length..and.school.year.length.in.public.schools..by.school.level.and.state..2007.08
## 54                                                                                                                                                                                                                             Wisconsin ...............
## 55                                                                                                                                                                                                                             Wyoming .................
## 56                                                                                                                                                                                                                                    â Not applicable.
## 57                                                                                                                                                                                                     â¡Reporting standards not met (too few cases).  
## 58 NOTE: Averages reflect data reported by schools rather than state requirements. School-reported length of day may exceed state requirements, and there is a range of statistical error in reported estimates. Standard errors appear in parentheses. 
## 59                                                                                                     SOURCE: U.S. Department of Education, National Center for Education Statistics, Schools and Staffing Survey (SASS), \\Public School Questionnaire
##                                                               X    X.1 X.2
## 54                                                         95.0 (0.57) 6.9
## 55                                                         92.4 (1.15) 6.9
## 56                                                                        
## 57                                                                        
## 58                                                                        
## 59 \\ 2003-04 and 2007-08. (This table was prepared June 2011.)           
##       X.3 X.4   X.5   X.6   X.7  X.8    X.9 X.10   X.11 X.12   X.13 X.14
## 54 (0.04) 180 (0.7) 1,246 (8.6) 95.4 (0.41)  6.9 (0.05) 93.0 (1.91)  7.0
## 55 (0.05) 175 (1.3) 1,201 (8.3) 92.2 (1.65)  6.9 (0.05) 92.4 (0.75)  7.0
## 56                                                                      
## 57                                                                      
## 58                                                                      
## 59                                                                      
##      X.15
## 54 (0.14)
## 55 (0.07)
## 56       
## 57       
## 58       
## 59</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print the structure</span>
<span class="kw">str</span>(att)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    59 obs. of  17 variables:
##  $ Table.43..Average.daily.attendance..ADA..as.a.percentage.of.total.enrollment..school.day.length..and.school.year.length.in.public.schools..by.school.level.and.state..2007.08: Factor w/ 58 levels &quot;&quot;,&quot;   United States ........&quot;,..: 1 1 3 2 6 7 8 9 10 11 ...
##  $ X                                                                                                                                                                            : Factor w/ 42 levels &quot;&quot;,&quot;\\ 2003-04 and 2007-08. (This table was prepared June 2011.)&quot;,..: 42 41 3 22 28 8 6 14 23 29 ...
##  $ X.1                                                                                                                                                                          : Factor w/ 45 levels &quot;&quot;,&quot;(0.22)&quot;,&quot;(0.23)&quot;,..: 1 1 1 2 22 21 41 27 14 6 ...
##  $ X.2                                                                                                                                                                          : Factor w/ 14 levels &quot;&quot;,&quot;3&quot;,&quot;6.2&quot;,&quot;6.3&quot;,..: 1 14 2 7 11 6 5 10 3 11 ...
##  $ X.3                                                                                                                                                                          : Factor w/ 14 levels &quot;&quot;,&quot;(0.02)&quot;,&quot;(0.03)&quot;,..: 1 1 1 2 7 5 9 6 7 5 ...
##  $ X.4                                                                                                                                                                          : Factor w/ 15 levels &quot;&quot;,&quot;171&quot;,&quot;172&quot;,..: 1 15 14 10 10 10 11 9 11 2 ...
##  $ X.5                                                                                                                                                                          : Factor w/ 22 levels &quot;&quot;,&quot;(0.0)&quot;,&quot;(0.1)&quot;,..: 1 1 1 3 10 21 19 4 6 12 ...
##  $ X.6                                                                                                                                                                          : Factor w/ 48 levels &quot;&quot;,&quot;1,102&quot;,&quot;1,117&quot;,..: 1 48 47 26 45 15 13 36 5 28 ...
##  $ X.7                                                                                                                                                                          : Factor w/ 48 levels &quot;&quot;,&quot;(10.1)&quot;,&quot;(10.3)&quot;,..: 1 1 1 36 11 35 22 6 13 48 ...
##  $ X.8                                                                                                                                                                          : Factor w/ 40 levels &quot;&quot;,&quot;6&quot;,&quot;81.0&quot;,..: 40 39 2 22 20 9 5 13 27 25 ...
##  $ X.9                                                                                                                                                                          : Factor w/ 51 levels &quot;&quot;,&quot;(0.24)&quot;,&quot;(0.25)&quot;,..: 1 1 1 4 32 25 48 35 20 13 ...
##  $ X.10                                                                                                                                                                         : Factor w/ 14 levels &quot;&quot;,&quot;6.2&quot;,&quot;6.3&quot;,..: 1 14 10 7 11 5 4 9 3 11 ...
##  $ X.11                                                                                                                                                                         : Factor w/ 13 levels &quot;&quot;,&quot;(0.02)&quot;,&quot;(0.03)&quot;,..: 1 1 1 2 8 5 10 8 5 7 ...
##  $ X.12                                                                                                                                                                         : Factor w/ 41 levels &quot;&quot;,&quot;8&quot;,&quot;85.8&quot;,..: 41 40 2 18 34 29 7 17 8 19 ...
##  $ X.13                                                                                                                                                                         : Factor w/ 47 levels &quot;&quot;,&quot;(0.35)&quot;,&quot;(0.37)&quot;,..: 1 1 1 6 4 24 42 34 22 19 ...
##  $ X.14                                                                                                                                                                         : Factor w/ 17 levels &quot;&quot;,&quot;5.9&quot;,&quot;6.1&quot;,..: 1 17 15 8 13 4 6 10 3 12 ...
##  $ X.15                                                                                                                                                                         : Factor w/ 29 levels &quot;&quot;,&quot;(0.03)&quot;,&quot;(0.04)&quot;,..: 1 1 1 3 14 12 20 7 17 8 ...</code></pre>
<p>In the table there is some metadata placed at the bottom of the table, we can remove this. Also some of the columns don’t contain attendance figures, they contain daily hours in the even odd number columns 3-17, so we can remove these too.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create remove for the rows</span>
remove &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">56</span><span class="op">:</span><span class="dv">59</span>)

<span class="co"># Create att2</span>
att2 &lt;-<span class="st"> </span>att[<span class="op">-</span>remove, ]

<span class="co"># Create remove for the odd columns</span>
remove &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">3</span>,<span class="dv">17</span>,<span class="dv">2</span>)

<span class="co"># Create att3</span>
att3 &lt;-<span class="st"> </span>att2[, <span class="op">-</span>remove]</code></pre></div>
<p>In this data frame, columns 1, 6, and 7 represent attendance data for US elementary schools, columns 1, 8, and 9 represent data for secondary schools, and columns 1 through 5 represent data for all schools in the US. Each of these should be stored as its own separate data frame and split accordingly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Subset just elementary schools: att_elem</span>
att_elem &lt;-<span class="st"> </span>att3[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">7</span>)]

<span class="co"># Subset just secondary schools: att_sec</span>
att_sec &lt;-<span class="st"> </span>att3[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">8</span>,<span class="dv">9</span>)]

<span class="co"># Subset all schools: att4</span>
att4 &lt;-<span class="st"> </span>att3[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</code></pre></div>
<p>Next we can assign column names to the variables, then remove the now un-neccessary first two columns</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define cnames vector </span>
cnames &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;state&quot;</span>, <span class="st">&quot;avg_attend_pct&quot;</span>, <span class="st">&quot;avg_hr_per_day&quot;</span>, 
            <span class="st">&quot;avg_day_per_yr&quot;</span>, <span class="st">&quot;avg_hr_per_yr&quot;</span>)

<span class="co"># Assign column names of att4</span>
<span class="kw">colnames</span>(att4) &lt;-<span class="st"> </span>cnames

<span class="co"># Remove first two rows of att4: att5</span>
att5 &lt;-<span class="st"> </span>att4[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), ]

<span class="co"># View the names of att5</span>
<span class="kw">names</span>(att5)</code></pre></div>
<pre><code>## [1] &quot;state&quot;          &quot;avg_attend_pct&quot; &quot;avg_hr_per_day&quot; &quot;avg_day_per_yr&quot;
## [5] &quot;avg_hr_per_yr&quot;</code></pre>
<p>Next the state variable has periods (.) for spaces and trailing charecters to pad the length for the field. We can tidy this up.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the head of att5</span>
<span class="kw">head</span>(att5)</code></pre></div>
<pre><code>##                       state avg_attend_pct avg_hr_per_day avg_day_per_yr
## 4    United States ........           93.1            6.6            180
## 5 Alabama .................           93.8            7.0            180
## 6 Alaska ..................           89.9            6.5            180
## 7 Arizona .................           89.0            6.4            181
## 8 Arkansas ................           91.8            6.9            179
## 9 California ..............           93.2            6.2            181
##   avg_hr_per_yr
## 4         1,193
## 5         1,267
## 6         1,163
## 7         1,159
## 8         1,229
## 9         1,129</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove all periods in state column</span>
att5<span class="op">$</span>state &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(att5<span class="op">$</span>state, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;&quot;</span>)

<span class="co"># Remove white space around state names</span>
att5<span class="op">$</span>state &lt;-<span class="st"> </span><span class="kw">str_trim</span>(att5<span class="op">$</span>state)

<span class="co"># View the head of att5</span>
<span class="kw">head</span>(att5)</code></pre></div>
<pre><code>##           state avg_attend_pct avg_hr_per_day avg_day_per_yr avg_hr_per_yr
## 4 United States           93.1            6.6            180         1,193
## 5       Alabama           93.8            7.0            180         1,267
## 6        Alaska           89.9            6.5            180         1,163
## 7       Arizona           89.0            6.4            181         1,159
## 8      Arkansas           91.8            6.9            179         1,229
## 9    California           93.2            6.2            181         1,129</code></pre>
<p>Looking at the first few lines we can see that some of the data types are incorrect - upon import, numerical data has come in as character strings and is currently as factor variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the structure</span>
<span class="kw">str</span>(att5)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    52 obs. of  5 variables:
##  $ state         : chr  &quot;United States&quot; &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; ...
##  $ avg_attend_pct: Factor w/ 42 levels &quot;&quot;,&quot;\\ 2003-04 and 2007-08. (This table was prepared June 2011.)&quot;,..: 22 28 8 6 14 23 29 5 7 11 ...
##  $ avg_hr_per_day: Factor w/ 14 levels &quot;&quot;,&quot;3&quot;,&quot;6.2&quot;,&quot;6.3&quot;,..: 7 11 6 5 10 3 11 6 8 10 ...
##  $ avg_day_per_yr: Factor w/ 15 levels &quot;&quot;,&quot;171&quot;,&quot;172&quot;,..: 10 10 10 11 9 11 2 11 11 11 ...
##  $ avg_hr_per_yr : Factor w/ 48 levels &quot;&quot;,&quot;1,102&quot;,&quot;1,117&quot;,..: 26 45 15 13 36 5 28 19 31 42 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Change columns to numeric using dplyr (one way to acheive numeric conversion)</span>
<span class="kw">library</span>(dplyr)
example &lt;-<span class="st"> </span><span class="kw">mutate_at</span>(att5, <span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>), <span class="kw">funs</span>(as.numeric))

<span class="co"># Define vector containing numerical columns: cols</span>
cols &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>)

<span class="co"># Use sapply to coerce cols to numeric (another way to convert)</span>
att5[, cols] &lt;-<span class="st"> </span><span class="kw">sapply</span>(att5[,cols], as.numeric)

<span class="co"># View the structure</span>
<span class="kw">str</span>(att5)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    52 obs. of  5 variables:
##  $ state         : chr  &quot;United States&quot; &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; ...
##  $ avg_attend_pct: num  22 28 8 6 14 23 29 5 7 11 ...
##  $ avg_hr_per_day: num  7 11 6 5 10 3 11 6 8 10 ...
##  $ avg_day_per_yr: num  10 10 10 11 9 11 2 11 11 11 ...
##  $ avg_hr_per_yr : num  26 45 15 13 36 5 28 19 31 42 ...</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["Study-Notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
